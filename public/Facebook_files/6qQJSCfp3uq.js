if (self.CavalryLogger) { CavalryLogger.start_js(["plI7A"]); }

__d("XFeedSeeFirstStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/control\/see_first\/story\/",{});}),null);
__d('SeeFirstStoryLogger',['AsyncRequest','XFeedSeeFirstStoryController'],(function a(b,c,d,e,f,g){var h=function i(){var j=c('XFeedSeeFirstStoryController').getURIBuilder().getURI();new (c('AsyncRequest'))(j).send();};f.exports={log:h};}),null);
__d("PrivacySelectorEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_MENU:"open_menu",CLOSE_MENU:"close_menu",MORE_OPTIONS:"more_options",MORE:"more",SEE_ALL:"see_all",CUSTOM_SAVE:"custom_save",CUSTOM_CANCEL:"custom_cancel",SELECT_CUSTOM:"select_custom",SPECIFIC_FRIENDS_SAVE:"specific_friends_save",SPECIFIC_FRIENDS_CANCEL:"specific_friends_cancel",SELECT_SPECIFIC_FRIENDS:"select_specific_friends",FRIENDS_EXCEPT_SAVE:"friends_except_save",FRIENDS_EXCEPT_CANCEL:"friends_except_cancel",SELECT_FRIENDS_EXCEPT:"select_friends_except",SELECT_EVERYONE:"select_everyone",SELECT_FRIENDS_OF_FRIENDS:"select_friends_of_friends",SELECT_FRIENDS:"select_friends",SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:"select_friends_except_acquaintances",SELECT_ONLY_ME:"select_only_me",SELECT_FB_ONLY:"select_fb_only",SELECT_FRIENDLIST:"select_friendlist",SELECT_OTHER:"select_other"});}),null);
__d('PrivacySelectorSelectableItem',['csx','cx','CSS','DOM','DOMQuery','MenuSelectableItem','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l="._o00",m="._o01",n="._po2";j=babelHelpers.inherits(o,c('MenuSelectableItem'));k=j&&j.prototype;function o(p){'use strict';if(p.icon){var q="_392n";if(p.children){p.icon=c('React').createElement('div',{className:q},p.icon);}else p.icon=c('DOM').create('div',{className:q},p.icon);}k.constructor.call(this,p);}o.prototype.render=function(){'use strict';var p=k.render.call(this),q=c('DOMQuery').find(p,"._392n"),r=q.parentNode;c('CSS').addClass(r,"_4chl");var s=c('DOMQuery').find(r,"._54nh");c('CSS').addClass(s,"_4chm");return p;};o.prototype.isMoreButton=function(){'use strict';return c('CSS').matchesSelector(this.getRoot(),l);};o.prototype.isMoreOptionsButton=function(){'use strict';return c('CSS').matchesSelector(this.getRoot(),n);};o.prototype.isSeeAllButton=function(){'use strict';return c('CSS').matchesSelector(this.getRoot(),m);};f.exports=o;}),null);
__d('PrivacySelectorOptionNew',['csx','cx','fbt','CSS','DOM','DOMQuery','JSXDOM','PrivacyConst','PrivacySelectorEvent','PrivacySelectorSelectableItem'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('PrivacySelectorSelectableItem'));l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);this._origLabel=this.getLabel();this._origTriggerLabel=this.getTriggerLabel();}m.prototype._getData=function(){'use strict';return this._data;};m.prototype.getTooltip=function(){'use strict';return this._getData().tooltip;};m.prototype.getPostParam=function(){'use strict';return this._getData().postParam.toString();};m.prototype.setPostParam=function(n){'use strict';this._getData().postParam=n;return this;};m.prototype.getSubtitles=function(){'use strict';return this._data.optionSubtitles;};m.prototype.setSubtitles=function(n){'use strict';if(this._data.optionSubtitles!=null)this._data.optionSubtitles=n;return this;};m.prototype.getTriggerIcon=function(){'use strict';return this._getData().triggerIcon;};m.prototype.getTriggerLabel=function(){'use strict';return this._getData().triggerLabel;};m.prototype.isPublic=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.EVERYONE.toString();};m.prototype.isFriendsOfFriends=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.FRIENDS_OF_FRIENDS.toString();};m.prototype.isFriends=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.FRIENDS.toString();};m.prototype.isFriendsExceptAcquaintances=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.FRIENDS_MINUS_ACQUAINTANCES.toString();};m.prototype.isOnlyMe=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.ONLY_ME.toString();};m.prototype.isFBOnly=function(){'use strict';return this.getPostParam()===c('PrivacyConst').PostParam.FB_ONLY.toString();};m.prototype.isFriendlist=function(){'use strict';return this._data.isFriendlist;};m.prototype.isBasicOption=function(){'use strict';return true;};m.prototype.isCustomOption=function(){'use strict';return false;};m.prototype.isSavedCustomOption=function(){'use strict';return false;};m.prototype.getSavedCustomPrivacyType=function(){'use strict';return null;};m.prototype.getTagExpansionBehavior=function(){'use strict';return this._getData().tagExpansionBehavior;};m.prototype.getBaseValue=function(){'use strict';return this._getData().baseValue;};m.prototype.getIndex=function(){'use strict';return this._getData().value;};m.prototype.getLoggingEventName=function(){'use strict';if(this.isPublic()){return c('PrivacySelectorEvent').SELECT_EVERYONE;}else if(this.isFriendsOfFriends()){return c('PrivacySelectorEvent').SELECT_FRIENDS_OF_FRIENDS;}else if(this.isFriends()){return c('PrivacySelectorEvent').SELECT_FRIENDS;}else if(this.isFriendsExceptAcquaintances()){return c('PrivacySelectorEvent').SELECT_FRIENDS_EXCEPT_ACQUIANTANCES;}else if(this.isOnlyMe()){return c('PrivacySelectorEvent').SELECT_ONLY_ME;}else if(this.isFBOnly()){return c('PrivacySelectorEvent').SELECT_FB_ONLY;}else if(this.isFriendlist()){return c('PrivacySelectorEvent').SELECT_FRIENDLIST;}else return c('PrivacySelectorEvent').SELECT_OTHER;};m.prototype.updateAfterTagExpansion=function(n,o){'use strict';var p=this._origLabel,q=this._origTriggerLabel;if(n&&this._getData().showPlusOnTagExpansion){p=j._("{privacyLabel} (+)",[j.param('privacyLabel',p)]);if(o&&this.isFriends()){q=j._("Amigos, Amigos das pessoas identificadas");}else q=j._("{privacyLabel} (+)",[j.param('privacyLabel',q)]);}this._setLabel(p);this._getData().triggerLabel=q;var r=this._getExpansionType(n),s=this._getData().optionSubtitles||{};this._setSubtitle(s[r]);};m.prototype.isBelowSoftFold=function(){'use strict';return c('CSS').matchesSelector(this.getRoot(),"._4mwj");};m.prototype.isBelowFold=function(){'use strict';return c('CSS').matchesSelector(this.getRoot(),"._3ey_");};m.prototype.removeOnBootload=function(){'use strict';return !!this._getData().removeOnBootload;};m.prototype._setLabel=function(n){'use strict';if(!n)return;var o=c('DOMQuery').find(this.getRoot(),"._54nh");o&&c('DOM').setContent(o,n);this._getData().label=n;};m.prototype._setSubtitle=function(n){'use strict';if(!n)return;var o=c('DOMQuery').scry(this.getRoot(),"._48u1");o&&o[0]&&c('DOM').setContent(o[0],n);};m.prototype._getExpansionType=function(n){'use strict';return n?c('PrivacyConst').ExpansionType.TAGS_ONLY:c('PrivacyConst').ExpansionType.NONE;};m.prototype.render=function(){'use strict';var n=l.render.call(this);if(!this._getData().isPrimaryOption)return n;var o=c('DOMQuery').find(n,"._54nc");o&&c('CSS').addClass(o,"_48t_");var p=c('DOM').find(n,"._54nh");p&&c('CSS').addClass(p,"_48u0");var q=c('JSXDOM').div({className:"_48u1"},this._getData().optionSubtitle);c('DOM').appendContent(o,q);return n;};f.exports=m;}),null);
__d("XPrivacySelectorLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/selector\/log\/",{event:{type:"Enum",required:true,enumType:1},render_location:{type:"Enum",required:true,enumType:0},content_type:{type:"String",required:true},privacy_fbid:{type:"String"},saved_custom_opt_in:{type:"Bool",defaultValue:false}});}),null);
__d('PrivacySelectorCustomOption',['invariant','AsyncDialog','AsyncRequest','DataStore','PrivacySelectorEvent','PrivacySelectorOptionNew','XPrivacyCustomDialogController','XPrivacySelectorLoggingController'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('PrivacySelectorOptionNew'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this._subtitlesWhenNotSelected=l.optionSubtitlesWhenNotSelected;}k.prototype.isBasicOption=function(){'use strict';return false;};k.prototype.isCustomOption=function(){'use strict';return true;};k.prototype.getSelector=function(){'use strict';return this._selector;};k.prototype.getLoggingEventName=function(){'use strict';return c('PrivacySelectorEvent').SELECT_CUSTOM;};k.prototype.setSubtitlesToNonSelected=function(){'use strict';this.setSubtitles(this._subtitlesWhenNotSelected);};k.prototype.openDialog=function(l){'use strict';if(this._selector==null)this._selector=l;c('DataStore').set(this._data.id,'PrivacySelectorCustomOption',this);var m=c('XPrivacyCustomDialogController').getURIBuilder().setString('option_id',this._data.id).setString('id',this._data.privacyfbid.toString()).setString('post_param',l.getPostParam()).setString('content_type',l.getContentType()).setInt('render_location',l.getRenderLocation()).setIntVector('tags',l.getTags()).setBool('autosave',this._data.autosave).setBool('limit_community',this._data.limitcommunity).setBool('limit_facebook',this._data.limitfacebook).setBool('limit_fof',this._data.limitfof).setBool('limit_tagexpand',this._data.limittagexpand).setBool('is_new_privacy_selector',true).setBool('saved_custom_opt_in',l.getSavedCustomOptIn()).getURI(),n=new (c('AsyncRequest'))(m);n.setRelativeTo(l.getTriggerButtonElement());c('AsyncDialog').send(n,function(o){var p=function(q){var r=document.getElementsByName('render_location')[0];r instanceof HTMLInputElement||h(0);var s=document.getElementsByName('content_type')[0];s instanceof HTMLInputElement||h(0);var t=c('XPrivacySelectorLoggingController').getURIBuilder().setEnum('event',q).setString('privacy_fbid',this._data.privacyfbid!=null?String(this._data.privacyfbid):null).setEnum('render_location',r.value).setString('content_type',s.value).getURI();new (c('AsyncRequest'))().setURI(t).send();}.bind(this);o.subscribe('hide',function(){l.inform('custom/hide');l.inform('selectorFinished');});o.subscribe('success',function(){l.inform('custom/success');p(c('PrivacySelectorEvent').CUSTOM_SAVE);});o.subscribe('cancel',function(){l.inform('custom/cancel');p(c('PrivacySelectorEvent').CUSTOM_CANCEL);});}.bind(this));};k.customPrivacySave=function(l,m,n){var o=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];'use strict';var p=c('DataStore').get(l,'PrivacySelectorCustomOption');c('DataStore').remove(l,'PrivacySelectorCustomOption');if(!(p==null))if(!(p.getSelector==null)){var q=p.getSelector();if(n!==null){q.updateSavedCustomOption(n,m,o);}else q.updateCustomOption(o);q.selectOption(m);q.finishAnimatingSavedCustomSave();}};f.exports=k;}),null);
__d("XPrivacySelectorAsyncMoreController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/selector\/async_more\/",{id:{type:"String",required:true},next_value:{type:"Int",required:true},render_location:{type:"Int",required:true}});}),null);
__d('PrivacySelectableMenu',['cx','Arbiter','AsyncRequest','CSS','DataStore','Ease','PrivacySelectorCustomOption','PrivacySelectorEvent','PrivacySelectorOptionNew','PrivacySelectorSelectableItem','SelectableMenu','SelectableMenuUtils','XPrivacySelectorAsyncMoreController','XPrivacySelectorLoggingController'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('SelectableMenu'));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this,l,m);c('DataStore').set('PrivacySelectableMenu',m.id,this);this._needsBootload=!!m.needsbootload;this.collapseMenu();this.updateOptionsAfterTagExpansion(!!m.hasTags);}k.prototype.cleanup=function(){'use strict';c('DataStore').remove('PrivacySelectableMenu',this._config.id);};k.prototype.getItemForIndex=function(l){'use strict';return this.findOption(function(m){return m.getIndex()==l;});};k.prototype.findItem=function(l){'use strict';for(var m=this._items,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(q instanceof c('PrivacySelectorSelectableItem')&&l(q))return q;}return null;};k.prototype.findOption=function(l){'use strict';return this.findItem(function(m){return m instanceof c('PrivacySelectorOptionNew')&&l(m);});};k.prototype.getSelectedOption=function(){'use strict';return this.findOption(function(l){return l.isSelected();});};k.prototype.selectOption=function(l){'use strict';var m=null,n=false,o=false;for(var p=this._items,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s;if(!(t instanceof c('PrivacySelectorSelectableItem')))continue;if(t instanceof c('PrivacySelectorCustomOption')){m=t;continue;}if(t.isMoreButton()){this.expandMenuWithMore();continue;}if(t.isMoreOptionsButton()||t.isSeeAllButton()){if(this._needsBootload){n=true;}else this.expandMenu();continue;}if(!n&&t instanceof c('PrivacySelectorOptionNew')&&t.getPostParam()==l){this.setValue(t.getIndex());o=true;break;}}if(!o&&m){m.setPostParam(l);this.setValue(m.getIndex());}if(n){this.subscribeOnce('expandMenu',function(){this.selectOption(l);}.bind(this));this.expandMenu();}else this.inform('selectOption');return !n;};k.prototype._handleItemClick=function(l,m){'use strict';if(!c('SelectableMenuUtils').doesItemSupportSelect(l))return j._handleItemClick.call(this,l,m);if(l.isMoreButton()){this._logMoreButtonClick();this.expandMenuWithMore();return undefined;}if(l.isMoreOptionsButton()||l.isSeeAllButton()){this._logMoreOptionsOrSeeAllButtonClick();this.expandMenu();return undefined;}if(!(l instanceof c('PrivacySelectorOptionNew')))return undefined;this._logOptionClick(l);var n=this.inform('itemclick',{item:l,event:m});if(n)return undefined;if(!c('SelectableMenuUtils').isSelected(l)&&!l.isCustomOption()&&!l.isSavedCustomOption()&&l.select()!==false){this._items.forEach(function(o){if(c('SelectableMenuUtils').isSelected(o)&&o!==l)o.deselect();});this.inform('change',this.getSelection());}c('Arbiter').inform('composerprivacy/aborteducation');this.done();return l.handleClick();};k.prototype._logMoreButtonClick=function(){'use strict';var l=c('XPrivacySelectorLoggingController').getURIBuilder().setString('content_type',this._config.contenttype).setEnum('event',c('PrivacySelectorEvent').MORE).setString('privacy_fbid',this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum('render_location',this._config.renderlocation).setBool('saved_custom_opt_in',this._config.savedCustomOptIn).getURI();new (c('AsyncRequest'))().setURI(l).send();};k.prototype._logMoreOptionsOrSeeAllButtonClick=function(){'use strict';var event=this._config.hasSavedCustom?c('PrivacySelectorEvent').SEE_ALL:c('PrivacySelectorEvent').MORE_OPTIONS,l=c('XPrivacySelectorLoggingController').getURIBuilder().setString('content_type',this._config.contenttype).setEnum('event',event).setString('privacy_fbid',this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum('render_location',this._config.renderlocation).setBool('saved_custom_opt_in',this._config.savedCustomOptIn).getURI();new (c('AsyncRequest'))().setURI(l).send();};k.prototype._logOptionClick=function(l){'use strict';var m=c('XPrivacySelectorLoggingController').getURIBuilder().setString('content_type',this._config.contenttype).setEnum('event',l.getLoggingEventName()).setString('privacy_fbid',this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum('render_location',this._config.renderlocation).setBool('saved_custom_opt_in',this._config.savedCustomOptIn).getURI();new (c('AsyncRequest'))().setURI(m).send();};k.prototype._getMoreOptionsOrSeeAllButton=function(){'use strict';return this.findItem(function(l){return l.isMoreOptionsButton()||l.isSeeAllButton();});};k.prototype.getCustomItem=function(){'use strict';return this.findOption(function(l){return l instanceof c('PrivacySelectorCustomOption');});};k.prototype._setMenuState=function(l){'use strict';var m=this.getRoot();c('CSS').conditionClass(m,"_po3",l!=='expanded');c('CSS').conditionClass(m,"_po4",l==='expanded');if(this._config.hasSavedCustom){c('CSS').conditionClass(m,"_n_v",l==='collapsed');c('CSS').conditionClass(m,"_n__",l!=='collapsed');}this._expanded=l==='expanded';};k.prototype.expandMenuWithMore=function(){'use strict';this._setMenuState('withMore');this.inform('expandMenuWithMore');};k.prototype.expandMenu=function(){'use strict';if(this._expanded)return;this._setMenuState('withMore');this._expanded=true;if(!this._needsBootload){this.expandMenuAfterLoaded();return;}this._needsBootload=false;var l=this._getMoreOptionsOrSeeAllButton();if(l){this._moreOptionsIcon=l.getIcon();l.setIcon(this._config.morespinner);this._scrollToOption(l);}var m=Date.now(),n=c('XPrivacySelectorAsyncMoreController').getURIBuilder().setString('id',this._config.id).setInt('next_value',this._config.nextvalue).setInt('render_location',this._config.renderlocation).getURI();new (c('AsyncRequest'))().setURI(n).setRelativeTo(this.getRoot()).setErrorHandler(function(o){var p=1250-(Date.now()-m);setTimeout(function(){l&&l.setIcon(this._moreOptionsIcon);this._needsBootload=true;this._expanded=false;}.bind(this),p>0&&l?p:0);}.bind(this)).send();};k.prototype.expandMenuAfterLoaded=function(){'use strict';this._setMenuState('expanded');if(this._moreOptionsIcon){var l=this._getMoreOptionsOrSeeAllButton();l&&l.setIcon(this._moreOptionsIcon);this._moreOptionsIcon=undefined;}this.inform('expandMenu');};k.prototype.collapseMenu=function(){'use strict';this._setMenuState('collapsed');};k.prototype.updateOptionsAfterTagExpansion=function(l){'use strict';this._lastHasTagsUpdate=l;this.forEachItem(function(m){if(m instanceof c('PrivacySelectorOptionNew'))m.updateAfterTagExpansion(l,!!this._config.hasSimpleLabels);}.bind(this));};k.prototype.refreshTagExpansionLabels=function(){'use strict';this.updateOptionsAfterTagExpansion(!!this._lastHasTagsUpdate);};k.prototype.updateTagExpansionLabelAfterBootload=function(){'use strict';this.refreshTagExpansionLabels();};k.prototype.onPopoverOpen=function(l){'use strict';if(l&&l.isBelowFold()){if(this._needsBootload){this.subscribeOnce('expandMenu',function(){var m=this.getSelectedOption();m&&this._scrollToOption(m);}.bind(this));}else this._scrollToOption(l);this.expandMenu();}else if(l&&l.isBelowSoftFold()){this.expandMenuWithMore();this._scrollToOption(l);}else this.collapseMenu();};k.prototype._scrollToOption=function(l){'use strict';if(!this._scrollableArea)return;var m=l.getRoot();if(m===null)return;var n=12,o=this._scrollableArea.getScrollTop(),p=o+this._scrollableArea.getClientHeight(),q=m.offsetTop+m.offsetHeight;if(q+n>p)this._scrollableArea.setScrollTop(o+q+n-p,true,{duration:Math.min(1000,(q+n-p)*10),ease:c('Ease').sineOut});};f.exports=k;}),null);
__d('PopoverButton',['csx','DOM','DOMQuery','isTextNode'],(function a(b,c,d,e,f,g,h){var i={setLabel:function j(k,l){var m=c('DOMQuery').find(k,"._55pe"),n=m.childNodes;for(var o=0;o<n.length;o++)if(c('isTextNode')(n[o])){c('DOM').replace(n[o],l);return;}c('DOM').appendContent(m,l);}};f.exports=i;}),null);
__d('PrivacySelectorDataStore',['ArbiterMixin','PrivacySelectorNewDispatcher','KeyedCallbackManager'],(function a(b,c,d,e,f,g){var h=new (c('KeyedCallbackManager'))(),i=babelHelpers['extends']({},c('ArbiterMixin'),{get:function j(k,l){h.executeOrEnqueue(k,l);},hasValueChanged:function j(k){return !!h.getResource(k);}});c('PrivacySelectorNewDispatcher').register(function(j){if(j.saved_custom_privacy_type!=null){h.addResourcesAndExecute({saved_custom_update:{postParam:j.post_param,savedCustomPrivacyType:j.saved_custom_privacy_type,sourceSelectorID:j.unique_id,subtitles:j.subtitles}});i.inform('saved_custom_update');}if(j.selector_type){var k={};k[j.selector_type]={post_param:j.post_param,unique_id:j.unique_id,reload:j.reload,is_error:j.is_error,is_custom:j.is_custom,selector_type:j.selector_type,subtitles:j.subtitles};h.addResourcesAndExecute(k);i.inform('change');}});f.exports=i;}),null);
__d("SavedCustomPrivacyType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPECIFIC_FRIENDS:"specific_friends",FRIENDS_EXCEPT:"friends_except"});}),null);
__d("XPrivacySpecificAudienceSelectorDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/specific_audience_selector_dialog\/",{autosave:{type:"Bool",defaultValue:false},content_type:{type:"String"},fbid:{type:"String",required:true},option_id:{type:"String"},post_param:{type:"String"},privacy_type:{type:"Enum",required:true,enumType:1},render_location:{type:"Enum",required:true,enumType:0},return_uri:{type:"String"},cancel_uri:{type:"String"}});}),null);
__d('PrivacySelectorSavedCustomOption',['AsyncDialog','AsyncRequest','DataStore','PrivacySelectorEvent','PrivacySelectorOptionNew','SavedCustomPrivacyType','XPrivacySpecificAudienceSelectorDialogController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('PrivacySelectorOptionNew'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);}j.prototype.getSelector=function(){'use strict';return this._selector;};j.prototype.isBasicOption=function(){'use strict';return false;};j.prototype.isSavedCustomOption=function(){'use strict';return true;};j.prototype.getSavedCustomPrivacyType=function(){'use strict';return this._data.savedCustomPrivacyType;};j.prototype.getLoggingEventName=function(){'use strict';switch(this._data.savedCustomPrivacyType){case c('SavedCustomPrivacyType').FRIENDS_EXCEPT:return c('PrivacySelectorEvent').SELECT_FRIENDS_EXCEPT;case c('SavedCustomPrivacyType').SPECIFIC_FRIENDS:return c('PrivacySelectorEvent').SELECT_SPECIFIC_FRIENDS;default:return c('PrivacySelectorEvent').SELECT_OTHER;}};j.prototype.openDialog=function(k){'use strict';this._selector=k;c('DataStore').set(this._data.id,'PrivacySelectorCustomOption',this);var l=c('XPrivacySpecificAudienceSelectorDialogController').getURIBuilder().setBool('autosave',this._data.autosave).setString('content_type',k.getContentType()).setString('fbid',this._data.privacyFBID).setString('option_id',this._data.id).setString('post_param',this.getPostParam()).setEnum('privacy_type',this._data.savedCustomPrivacyType).setEnum('render_location',k.getRenderLocation()).getURI(),m=new (c('AsyncRequest'))().setURI(l).setRelativeTo(k.getTriggerButtonElement());c('AsyncDialog').send(m);};j.informSave=function(k){'use strict';var l=c('DataStore').get(k,'PrivacySelectorCustomOption');if(l instanceof j){var m=l.getSelector();m&&m.animateSavedCustomSave();}};f.exports=j;}),null);
__d("XPrivacySelectorSavedCustomUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/selector\/update\/saved_custom\/",{});}),null);
__d("XPrivacySelectorUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/selector\/update\/",{privacy_fbid:{type:"String",required:true},post_param:{type:"String",required:true},tags:{type:"IntVector"},render_location:{type:"Int",required:true},is_saved_on_select:{type:"Bool",defaultValue:false},should_return_tooltip:{type:"Bool",defaultValue:false},replace_on_select:{type:"Bool",defaultValue:false},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:false},ent_id:{type:"String",required:true},reload_selector:{type:"Bool",defaultValue:false}});}),null);
__d('PrivacySelectorBase',['cx','fbt','Animation','Arbiter','ArbiterMixin','AsyncRequest','Button','CSS','CurrentUser','DOM','Focus','Input','MenuStaticItem','PopoverButton','PopoverLoadingMenu','PrivacyConst','DataStore','PrivacySelectableMenu','PrivacySelectorCustomOption','PrivacySelectorDataStore','PrivacySelectorEvent','PrivacySelectorNewDispatcher','PrivacySelectorSavedCustomOption','Run','SubscriptionsHandler','TooltipData','XPrivacySelectorLoggingController','XPrivacySelectorSavedCustomUpdateController','XPrivacySelectorUpdateController','XUIError','bind','debounce','mixin'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('mixin')(c('ArbiterMixin')));k=j&&j.prototype;function l(m,n,o,p,q,r){'use strict';k.constructor.call(this);this._isWaitingForSavedCustom=false;c('DataStore').set(m,'selector',this);this._root=m;this._button=n;this._config=r;this._menu=o;this._popoverMenu=q;this._input=p;this._isSavedOnSelect=r.is_saved_on_select;this._privacyFBID=r.privacy_fbid;this._contentType=r.content_type;this._renderLocation=r.render_location;this._supportsTagExpansion=r.supports_tag_expansion;this._skipCleanup=r.skip_cleanup;this._prefixTooltipApps=r.should_prefix_tooltip_apps;this._shouldDisplayLabel=r.should_display_label;this._tags=r.tagged_uids;this._hasTags=this._tags.length>0;this._entID=r.ent_id;this._popover=this._popoverMenu.getPopover();this._receivingUpdate=false;this._selectorSyncKey=r.selector_sync_key;this._previousParam=null;this._listeners=new (c('SubscriptionsHandler'))();this._spinnerCount=0;this._postParam=r.postParam;if(r.use_async_menu){this._listeners.addSubscriptions(this._popoverMenu.subscribe('setMenu',function(){this._menu=this._popoverMenu.getMenu();if(!(this._menu instanceof c('PrivacySelectableMenu')))return;this._onMenuLoad();this._onPopoverOpen();this.inform('asyncMenuLoaded');}.bind(this)));}else this._onMenuLoad();if(this._selectorSyncKey||this._config.hasSavedCustomPrivacy)this._initSelectorSync();c('Run').onLeave(this._cleanup.bind(this));}l.prototype._cleanup=function(){'use strict';if(this._skipCleanup)return;if(this._menu instanceof c('PrivacySelectableMenu'))this._menu.cleanup();this._listeners&&this._listeners.release();this._listeners=null;};l.prototype._initSelectorSync=function(){'use strict';if(this._selectorSyncKey)this._listeners&&this._listeners.addSubscriptions(c('PrivacySelectorDataStore').subscribe('change',function(){if(this._selectorSyncKey==null)return;c('PrivacySelectorDataStore').get(this._selectorSyncKey,function(m){if(m.unique_id!==this._menu._config.id){this._receivingUpdate=true;c('XUIError').clear(this._button);if(m.post_param)this.selectOption(m.post_param,function(){if(m.is_custom&&m.subtitles)this.updateCustomOption(m.subtitles);}.bind(this));m.reload&&this.reloadSelector();m.is_error&&this._displayErrorWithoutFocus();if(!m.post_param)this._receivingUpdate=false;}}.bind(this));}.bind(this)));if(this._config.hasSavedCustomPrivacy)this._listeners&&this._listeners.addSubscriptions(c('PrivacySelectorDataStore').subscribe('saved_custom_update',function(){c('PrivacySelectorDataStore').get('saved_custom_update',function(m){if(m.sourceSelectorID===this._menu._config.id)return;this._receivingUpdate=true;if(this._menu instanceof c('PrivacySelectableMenu')&&m.savedCustomPrivacyType!=null&&m.postParam!=null&&m.subtitles!=null)this.updateSavedCustomOption(m.savedCustomPrivacyType,m.postParam,m.subtitles);if(!this.shouldTryToUpdateSavedCustom())return;l._savedCustomSelectorsToUpdate.push(this);l._sendSavedCustomUpdateRequest();if(!m.postParam)this._receivingUpdate=false;}.bind(this));}.bind(this)));};l.prototype.shouldTryToUpdateSavedCustom=function(){'use strict';if(this._menu instanceof c('PrivacySelectableMenu'))return this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected();for(var m=Object.keys(c('PrivacyConst').PostParam),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(this._postParam===c('PrivacyConst').PostParam[q].toString())return false;}return true;};l.prototype._broadcastUpdate=function(){'use strict';this._broadcastUpdateImpl(false);};l.prototype._broadcastError=function(){'use strict';this._broadcastUpdateImpl(true);};l.prototype._broadcastUpdateImpl=function(m){'use strict';if(!this._receivingUpdate){var n={};n.selector_type=this._selectorSyncKey;n.unique_id=this._menu._config.id;if(m){n.is_error=m;}else{var o=this._getSelectedOption();if(!o)return;n.post_param=o.getPostParam();n.subtitles=o.getSubtitles();n.is_custom=o.isCustomOption();n.saved_custom_privacy_type=o.getSavedCustomPrivacyType();}c('PrivacySelectorNewDispatcher').handleUpdateFromSelector(n);}};l.prototype.disable=function(){'use strict';c('Button').setEnabled(this._button,false);this._popover.disable();c('CSS').addClass(this._button,"_4swv");return this;};l.prototype.enable=function(){'use strict';c('Button').setEnabled(this._button,true);this._popover.enable();c('CSS').removeClass(this._button,"_4swv");return this;};l.prototype.shouldReplaceOnPost=function(){'use strict';return this._config.replace_on_post;};l.prototype.getSelectedTriggerIcon=function(){'use strict';return this._selectedOption&&this._selectedOption.getTriggerIcon();};l.prototype.getSelectedTriggerLabel=function(){'use strict';return this._selectedOption&&this._selectedOption.getTriggerLabel();};l.prototype.getIsPublicSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isPublic();};l.prototype.getIsFriendsSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isFriends();};l.prototype.getIsOnlyMeSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isOnlyMe();};l.prototype.getSelectedBaseValue=function(){'use strict';return this._selectedOption&&this._selectedOption.getBaseValue();};l.prototype.getSelectedLabelString=function(){'use strict';return this._selectedOption&&this._selectedOption.getLabel();};l.prototype.getSelectedPostParam=function(){'use strict';return this._selectedOption&&this._selectedOption.getPostParam();};l.prototype.getIsCustomOptionSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isCustomOption();};l.prototype.getIsSavedCustomOptionSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isSavedCustomOption();};l.prototype.getIsSavedOnSelect=function(){'use strict';return this._isSavedOnSelect;};l.prototype.getPrivacyFBID=function(){'use strict';return this._privacyFBID;};l.prototype.setValue=function(m){'use strict';this._menu.setValue(m);};l.prototype.setIsSavedOnSelect=function(m){'use strict';this._isSavedOnSelect=m;};l.prototype.getSavedCustomOptIn=function(){'use strict';return this._config.savedCustomOptIn;};l.prototype.openSelectorExpanded=function(m){'use strict';this.openSelector(function(){this._menu.expandMenu();m&&m();}.bind(this));};l.prototype.openSelector=function(m){'use strict';if(this._menu instanceof c('PopoverLoadingMenu')){this.subscribeOnce('asyncMenuLoaded',function(){m&&m();});this._popover.showLayer();}else{this._popover.showLayer();m&&m();}};l.prototype.closeSelector=function(){'use strict';this._popover.hideLayer();};l.prototype.getPopover=function(){'use strict';return this._popover;};l.prototype.getPopoverMenu=function(){'use strict';return this._popoverMenu;};l.prototype.getTriggerButtonElement=function(){'use strict';return this._button;};l.prototype.getRoot=function(){'use strict';return this._root;};l.prototype.getMenuElement=function(){'use strict';return this._menu.getRoot();};l.prototype.selectOption=function(m,n){'use strict';if(!m)return;if(this._menu instanceof c('PopoverLoadingMenu')){this.subscribeOnce('asyncMenuLoaded',this._selectOptionImpl.bind(this,m,n));this._fetchAsyncMenu();}else this._selectOptionImpl(m,n);};l.prototype._selectOptionImpl=function(m,n){'use strict';var o=this._menu.selectOption(m);if(!o){this._menu.subscribeOnce('selectOption',function(){var p=this.getIsSavedOnSelect();this.setIsSavedOnSelect(false);this._updateMenu();this.setIsSavedOnSelect(p);this._finishSpinnerSuccess();n&&n();}.bind(this));this._showSpinner();}else n&&n();this._updateMenu();};l.prototype._updateMenu=function(){'use strict';this._selectedOption=this._getSelectedOption();if(!this._selectedOption)return;this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam());};l.prototype._fetchAsyncMenu=function(){'use strict';if(this._config.use_async_menu)this._popoverMenu.fetchMenu();};l.prototype._getSelectedOption=function(){'use strict';return this._menu instanceof c('PrivacySelectableMenu')?this._menu.getSelectedOption():null;};l.prototype._onItemClick=function(m,n){'use strict';var o=n.item;if(o instanceof c('MenuStaticItem'))return;if(o.isBasicOption()){this.updateDataForItemIndex(o.getIndex(),o.getPostParam());}else if(o.isCustomOption()||o.isSavedCustomOption()){this._closeForCustom=true;o.openDialog(this);}this.inform('click',{customSelected:o.isCustomOption()});};l.prototype.getContentType=function(){'use strict';return this._contentType;};l.prototype.getRenderLocation=function(){'use strict';return this._renderLocation;};l.prototype.getPostParam=function(){'use strict';return this._postParam;};l.prototype.getTags=function(){'use strict';return this._tags;};l.prototype.updateCustomOption=function(m){'use strict';var n=this._menu.findOption(function(o){return o instanceof c('PrivacySelectorCustomOption');});if(n==null)return;n.setSubtitles(m);this._menu.refreshTagExpansionLabels();};l.prototype.updateSavedCustomOption=function(m,n,o){'use strict';var p=this._menu.findOption(function(q){return q instanceof c('PrivacySelectorSavedCustomOption')&&q.getSavedCustomPrivacyType()===m;});if(p==null)return;p.setPostParam(n).setSubtitles(o);this._menu.refreshTagExpansionLabels();};l.prototype.updateDataForItemIndex=function(m,n){'use strict';var o=this._menu.getItemForIndex(String(m));if(!o)return;if(o.isCustomOption()||o.isSavedCustomOption())o.setPostParam(n);if(!o.isCustomOption()){var p=this._menu.findOption(function(q){return q instanceof c('PrivacySelectorCustomOption');});if(p!=null){p.setSubtitlesToNonSelected();this._menu.refreshTagExpansionLabels();}}this._selectedOption=o;this._previousParam=this._postParam;this._postParam=n;c('Input').setValue(this._input,n);this._updateTriggerButtonLabelAndIcon();this._updateTooltipAndSavePrivacyIfNeeded();this.inform('changed',{post_param:this._postParam,base_value:this.getSelectedBaseValue()});};l.prototype._shouldUpdateTooltips=function(){'use strict';return this._prefixTooltipApps||this._supportsTagExpansion&&this._hasTags||this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected();};l.prototype._updateTooltip=function(){'use strict';this._updateTooltipAndSavePrivacyIfNeededImpl(false);};l.prototype._updateTooltipAndSavePrivacyIfNeeded=function(){'use strict';this._updateTooltipAndSavePrivacyIfNeededImpl(true);};l.prototype._updateTooltipAndSavePrivacyIfNeededImpl=function(m){'use strict';if(this._shouldUpdateTooltips())this._updateTooltipToLoading();this._sendUpdateRequest(m);if(!this._shouldUpdateTooltips())this._setTooltipValue(this._selectedOption.getTooltip());};l.prototype.reloadSelector=function(){'use strict';this._cleanup();var m=c('XPrivacySelectorUpdateController').getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setInt('render_location',this._renderLocation).setBool('reload_selector',true).setString('ent_id',String(this._entID)).getURI();new (c('AsyncRequest'))().setRelativeTo(this._root).setHandler(this.inform.bind(this,'reloaded')).setURI(m).send();};l.prototype._sendUpdateRequest=function(m){'use strict';m=m&&this._isSavedOnSelect&&!this._receivingUpdate;var n=this._shouldUpdateTooltips();if(!m&&!n){this._receivingUpdate=false;return;}m&&this._showSpinner();var o=c('XPrivacySelectorUpdateController').getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setIntVector('tags',this._tags).setInt('render_location',this._renderLocation).setBool('is_saved_on_select',m).setBool('should_return_tooltip',n).setBool('prefix_tooltip_with_app_privacy',this._prefixTooltipApps).setBool('replace_on_select',this._config.replace_on_select).setString('ent_id',String(this._entID)).getURI(),p=new (c('AsyncRequest'))(o).setRelativeTo(this._root).setHandler(function(q){if(m){this._finishSpinnerSuccess();this._broadcastUpdate();}if(this._config.replace_on_select)this._cleanup();var r=q&&q.payload&&q.payload.tooltip;r&&this._setTooltipValue(q.payload.tooltip);this.inform('selector_updated');}.bind(this)).setFinallyHandler(function(q){this._receivingUpdate=false;}.bind(this));if(m)p.setErrorHandler(c('bind')(this,function(q){if(this._receivingUpdate){this._displayErrorWithoutFocus();return;}this._menu.selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError();}));p.send();};l.prototype.animateSavedCustomSave=function(){'use strict';if(this._isWaitingForSavedCustom)return;this._showSpinner();this._updateTooltipToLoading();if(this._shouldDisplayLabel)this._updateTriggerToLoading();this._isWaitingForSavedCustom=true;};l.prototype.finishAnimatingSavedCustomSave=function(){'use strict';if(!this._isWaitingForSavedCustom)return;this._finishSpinnerSuccess();this._isWaitingForSavedCustom=false;};l.prototype._showSpinner=function(){'use strict';if(!this.getIsSavedOnSelect())return;if(this._spinnerCount===0){c('XUIError').clear(this._button);c('Button').setIcon(this._button,this._config.spinner);c('CSS').show(this._config.spinner);c('CSS').hide(this._config.checkmark);}this._spinnerCount++;};l.prototype._finishSpinnerSuccess=function(){var m,n=this;'use strict';if(!this.getIsSavedOnSelect())return;this._spinnerCount--;if(this._spinnerCount===0){c('CSS').hide(this._config.spinner);this._updateTriggerButtonLabelAndIcon();if(this._config.checkmark)(function(){var o=c('Button').getIcon(n._button);c('Button').setIcon(n._button,n._config.checkmark);c('CSS').hide(o);new (c('Animation'))(n._config.checkmark).show().from('opacity',0).to('opacity',1).duration(400).checkpoint().duration(200).checkpoint().from('opacity',1).to('opacity',0).duration(400).hide().ondone(function(){this._updateTriggerButtonLabelAndIcon();new (c('Animation'))(o).show().from('opacity',0).to('opacity',1).duration(300).go();}.bind(n)).go();})();}};l.prototype._displayError=function(){'use strict';this._spinnerCount--;this._displayErrorImpl(true);};l.prototype._displayErrorWithoutFocus=function(){'use strict';this._displayErrorImpl(false);};l.prototype._displayErrorImpl=function(m){'use strict';c('PopoverButton').setLabel(this._button,i._("Selecionar p\u00fablico"));c('Button').setIcon(this._button,this._config.error_icon);c('CSS').show(this._config.error_icon);c('TooltipData').remove(this._button);m&&c('Focus').setWithoutOutline(this._button);c('XUIError').set({target:this._button,message:i._("A tua sele\u00e7\u00e3o pode n\u00e3o ter sido guardada. Recomendamos que tentes novamente mais tarde.")});};l.prototype.informTagsChanged=function(m){'use strict';var n=this._getTags(m);this.informTagsChangedWithIDs(n);};l.prototype.informTagsChangedWithIDs=function(m){'use strict';var n=!m.length;if(this._hasTags===n){this._hasTags=!!m.length;this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabelAndIcon();}if(this._tags.length!==m.length||m.some(function(o){return !this._tags.includes(o);}.bind(this))){this._tags=m;this._updateTooltip();c('Arbiter').inform('PrivacySelectorBase/changed',this._getChangedData());}};l.prototype._getChangedData=function(){'use strict';return {tags:this._tags,privacy:this.getSelectedBaseValue()};};l.prototype._showTagExpansion=function(){'use strict';return this._hasTags;};l.prototype._getTags=function(m){'use strict';var n=[],o=c('CurrentUser').getID();if(m.withTags)for(var p=0;p<m.withTags.length;p++){var q=m.withTags[p].info;if(q.uid!=o)n.push(q.uid.toString());}if(m.mention)for(var r in m.mention)if(m.mention[r].type=='user'&&m.mention[r].uid!=o)n.push(m.mention[r].uid.toString());return n;};l.prototype._updateTriggerButtonLabelAndIcon=function(){'use strict';if(this._spinnerCount===0){var m=this._selectedOption.getTriggerIcon();if(this._config.trigger_no_icon)c('CSS').hide(m);c('Button').setIcon(this._button,m.cloneNode());c('CSS').conditionClass(c('Button').getIcon(this._button),"_21or",this.getIsPublicSelected());}if(!this._shouldDisplayLabel)return;if(!this._isWaitingForSavedCustom)c('PopoverButton').setLabel(this._button,this._selectedOption.getTriggerLabel());};l.prototype._getLoadingText=function(){'use strict';return i._("A carregar\u2026");};l.prototype._updateTooltipToLoading=function(){'use strict';this._setTooltipValue(this._getLoadingText());};l.prototype._updateTriggerToLoading=function(){'use strict';c('PopoverButton').setLabel(this._button,this._getLoadingText());};l.prototype._setTooltipValue=function(m){'use strict';m&&c('TooltipData').set(this._button,m);};l.prototype._onPopoverClose=function(){'use strict';if(!this._getSelectedOption())return;var m=c('XPrivacySelectorLoggingController').getURIBuilder().setString('content_type',this._contentType).setEnum('event',c('PrivacySelectorEvent').CLOSE_MENU).setString('privacy_fbid',this._privacyFBID!=null?String(this._privacyFBID):null).setEnum('render_location',this._renderLocation).setBool('saved_custom_opt_in',this._config.savedCustomOptIn).getURI();new (c('AsyncRequest'))().setURI(m).send();if(this._closeForCustom){this._closeForCustom=false;}else this.inform('selectorFinished');this.inform('close');};l.prototype._onPopoverOpen=function(){'use strict';if(!(this._menu instanceof c('PrivacySelectableMenu')))return;c('Arbiter').inform('composerprivacy/aborteducation');this._menu.onPopoverOpen(this._getSelectedOption());var m=c('XPrivacySelectorLoggingController').getURIBuilder().setString('content_type',this._contentType).setEnum('event',c('PrivacySelectorEvent').OPEN_MENU).setString('privacy_fbid',this._privacyFBID!=null?String(this._privacyFBID):null).setEnum('render_location',this._renderLocation).setBool('saved_custom_opt_in',this._config.savedCustomOptIn).getURI();new (c('AsyncRequest'))().setURI(m).send();this.inform('open');};l.prototype._onMenuLoad=function(){'use strict';this._listeners&&this._listeners.addSubscriptions(this._menu.subscribe('itemclick',this._onItemClick.bind(this)),this._popover.subscribe('hide',this._onPopoverClose.bind(this)),this._popover.subscribe('show',this._onPopoverOpen.bind(this)));this._listeners&&this._listeners.addSubscriptions(this._menu.subscribe(['expandMenu','expandMenuWithMore'],function(){if(this._popover&&this._popover.getLayer())this._popover.getLayer().updatePosition();this._selectedOption=this._getSelectedOption();}.bind(this)));this._selectedOption=this._getSelectedOption();if(this._selectedOption){this._postParam=this._selectedOption.getPostParam().toString();this._previousParam=this._postParam;this._hasAudienceExpansion()&&this._updateTriggerButtonLabelAndIcon();}};l.prototype._hasAudienceExpansion=function(){'use strict';return this._hasTags;};l._savedCustomSelectorsToUpdate=[];l._sendSavedCustomUpdateRequest=c('debounce')(function(){var m=l._savedCustomSelectorsToUpdate;l._savedCustomSelectorsToUpdate=[];var n={},o={},p=false;for(var q=m,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;n[u._postParam]=true;o[u._config.trigger_style]=true;p=p||u._menu instanceof c('PopoverLoadingMenu');}new (c('AsyncRequest'))(c('XPrivacySelectorSavedCustomUpdateController').getURIBuilder().getURI()).setData({has_async_menu:p,post_params:Object.keys(n),trigger_icon_styles:Object.keys(o)}).setHandler(function(v){var w=v.payload||{},x=w.post_param_map||{},y=w.data||{},z=c('DOM').create('div',{className:'hidden_elem'});for(var aa=m,ba=Array.isArray(aa),ca=0,aa=ba?aa:aa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var da;if(ba){if(ca>=aa.length)break;da=aa[ca++];}else{ca=aa.next();if(ca.done)break;da=ca.value;}var ea=da,fa=x[ea._postParam];if(!fa)continue;if(ea._menu instanceof c('PopoverLoadingMenu')){var ga=y[fa]||{};ea._postParam=fa;if(!ea._config.trigger_no_icon){var ha=ga.icons[ea._config.trigger_style];if(ha!=null){c('DOM').setContent(z,ha);var ia=z.firstChild;c('Button').setIcon(ea._button,ia);}}if(ea._shouldDisplayLabel){var ja=ga.label;ja!=null&&c('PopoverButton').setLabel(ea._button,ja);}}else if(ea._menu instanceof c('PrivacySelectableMenu')){ea._receivingUpdate=true;ea.selectOption(fa);ea._receivingUpdate=false;}}c('DOM').remove(z);}).send();},10,this);f.exports=l;}),null);