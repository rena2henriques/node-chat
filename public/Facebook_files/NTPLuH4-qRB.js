if (self.CavalryLogger) { CavalryLogger.start_js(["f2nIq"]); }

__d('Dock',['csx','Event','shield','Arbiter','ArbiterMixin','BlueBar','ChatQuietLinks','CSS','DataStore','DOM','Parent','Scroll','Style','Toggler','Vector','emptyFunction'],(function a(b,c,d,e,f,g,h){function i(){}Object.assign(i,c('ArbiterMixin'),{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function j(k){this.init=c('emptyFunction');this.rootEl=k;this.calculateViewportDimensions();c('ChatQuietLinks').removeEmptyHrefs(this.rootEl);c('Event').listen(k,'click',this._onClick.bind(this));c('Event').listen(window,'resize',this._onWindowResize.bind(this));c('Toggler').subscribe(['show','hide'],function(l,m){var n=m.getActive();if(!c('DOM').contains(k,n))return;if(c('CSS').hasClass(n,'fbNub')){this.notifyNub(n,l);if(l==='show')this._resizeNubFlyout(n);}else{var o=c('Parent').byClass(n,'fbNubFlyout');if(o)c('CSS').conditionClass(o,'menuOpened',l==='show');}}.bind(this));this.inform('init',{},c('Arbiter').BEHAVIOR_PERSISTENT);},calculateViewportDimensions:function j(){return this.viewportDimensions=c('Vector').getViewportDimensions();},getFlyoutHeightOffset:function j(){if(this.flyoutHeightOffset)return this.flyoutHeightOffset;this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+c('Vector').getElementDimensions(this.rootEl).y;var k=c('BlueBar').getBar();if(k){var l=c('Style').isFixed(k)?'viewport':'document';this.flyoutHeightOffset+=c('Vector').getElementPosition(k,l).y+c('Vector').getElementDimensions(k).y;}return this.flyoutHeightOffset;},toggle:function j(k){var l=this._findFlyout(k);if(!l)return;this.subscribe('init',function(){c('Toggler').toggle(k);});},show:function j(k){this.subscribe('init',function(){c('Toggler').show(k);});},showNub:function j(k){c('CSS').show(k);},hide:function j(k){this.subscribe('init',function(){var l=c('Toggler').getInstance(k);c('DOM').contains(k,l.getActive())&&l.hide();});},hideNub:function j(k){c('CSS').hide(k);this.hide(k);},setUseMaxHeight:function j(k,l){c('CSS').conditionClass(k,'maxHeight',l!==false);this._resizeNubFlyout(k);},_resizeNubFlyout:function j(k){var l=this._findFlyout(k);if(!l||c('CSS').hasClass(k,'placeholder')||!(c('CSS').hasClass(k,'openToggler')||c('CSS').hasClass(k,'opened')))return;var m=c('DOM').find(l,'div.fbNubFlyoutOuter'),n=c('DOM').find(m,'div.fbNubFlyoutInner'),o=c('DOM').find(n,'div.fbNubFlyoutBody'),p=c('CSS').hasClass(k,'canBeCompactTab'),q=c('Scroll').getTop(o),r=o.offsetHeight;c('Style').set(o,'height','auto');var s=c('Vector').getElementDimensions(l),t=c('Vector').getElementDimensions(o),u=this.getMaxFlyoutHeight(k);c('Style').set(l,'max-height',u+'px');c('Style').set(m,'max-height',u+'px');s=c('Vector').getElementDimensions(l);var v=c('Vector').getElementDimensions(n),w=v.y-t.y,x=s.y-w,y=parseInt(o.style.height||o.clientHeight,10),z=x!==y;if(s.y>w&&z&&!p)c('Style').set(o,'height',x+'px');c('CSS').removeClass(l,'swapDirection');var aa=c('Vector').getElementPosition(l).x;c('CSS').conditionClass(l,'swapDirection',function(){if(aa<0)return true;if(!s||!this.viewportDimensions)return false;return aa+s.x>this.viewportDimensions.x;}.bind(this)());if(z&&q+r>=t.y){c('Scroll').setTop(o,o.scrollHeight);}else c('Scroll').setTop(o,q);this.notifyNub(k,'resize');},getMaxFlyoutHeight:function j(k){var l=this._findFlyout(k),m=c('Vector').getElementPosition(l,'viewport'),n=c('Vector').getElementDimensions(l);if(!this.viewportDimensions||!m)return 0;var o=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.getFlyoutHeightOffset())-(this.viewportDimensions.y-m.y-n.y);return Math.max(o,0);},resizeAllFlyouts:function j(){var k=this._getAllNubs(),l=k.length;while(l--)this._resizeNubFlyout(k[l]);},hideAllFlyouts:function j(){var k=this._getAllNubs(),l=k.length;while(l--)this.hide(k[l]);},_getAllNubs:function j(){var k=c('DOM').scry(this.rootEl,"div._50-v.openToggler");return k.concat(c('DOM').scry(this.rootEl,"div._50-v.opened"));},_onClick:function j(event){var k=event.getTarget(),l=c('Parent').byClass(k,'fbNub');if(l){if(c('Parent').byClass(k,'fbNubFlyoutTitlebar')){var m=c('Parent').byTag(k,'a'),n=k.nodeName=='INPUT'&&k.getAttribute('type')=='submit';if(!m&&!n){this.hide(l);return false;}}this.notifyNub(l,'click');}},_onWindowResize:function j(event){this.calculateViewportDimensions();this.resizeAllFlyouts();},_findFlyout:function j(k){return c('CSS').hasClass(k,'fbNubFlyout')?k:c('DOM').scry(k,'div.fbNubFlyout')[0]||null;},registerNubController:function j(k,l){c('DataStore').set(k,'dock:nub:controller',l);l.subscribe('nub/button/content-changed',c('shield')(this.inform,this,'resize',k));l.subscribe('nub/flyout/content-changed',c('shield')(this._resizeNubFlyout,this,k));},unregisterNubController:function j(k){c('DataStore').remove(k,'dock:nub:controller');},notifyNub:function j(k,l,m){var n=c('DataStore').get(k,'dock:nub:controller');n&&n.inform(l,m);}});f.exports=b.Dock||i;}),null);
__d('MercuryTypeaheadDataSource',['CurrentUser','DataSource','MercuryConfig','MercuryParticipantTypes','MercuryTypeaheadConstants','OrderedFriendsList','ShortProfiles','WorkModeConfig'],(function a(b,c,d,e,f,g){var h,i,j=[],k={},l={},m={},n=false,o=false;h=babelHelpers.inherits(p,c('DataSource'));i=h&&h.prototype;function p(q){'use strict';q=q||{};q.kanaNormalization=true;i.constructor.call(this,q);}p.prototype.dirty=function(){'use strict';this.$MercuryTypeaheadDataSource1=j;this.localCache=l;this.queryCache=k;this.queryIDs=m;return this;};p.prototype.bootstrap=function(){'use strict';if(n||o)return false;o=true;c('ShortProfiles').fetchAll().then(function(){this.updateBootstrapData();o=false;n=true;}.bind(this),function(){}.bind(this));return true;};p.prototype.updateBootstrapData=function(){'use strict';var q=this.getCachedShortProfileIDs(),r=c('WorkModeConfig').is_work_user?c('MercuryParticipantTypes').FB4C:c('MercuryParticipantTypes').FRIEND,s=q.map(function(t){var u=c('ShortProfiles').getNow(t),v=t==c('CurrentUser').getID()?r:u.type,w=[u.additionalName,u.alternateName].concat(u.searchTokens||[]).join(' '),x=u.name,y=null;return {uid:t,index:c('OrderedFriendsList').getActiveRank(t),text:x,subtext:y,tokens:w,localized_text:u.name,additional_text:u.additionalName,photo:u.thumbSrc,render_type:v,type:c('MercuryTypeaheadConstants').USER_TYPE};});if(s.length)this.addEntries(s);};p.prototype.query=function(q,r,s,t){'use strict';var u=r||q.length===1;return i.query.call(this,q,u,s,t);};p.prototype.getQueryData=function(q,r){'use strict';return babelHelpers['extends']({},i.getQueryData.call(this,q,r));};p.prototype.setEntry=function(q,r){'use strict';this.$MercuryTypeaheadDataSource1[q]=r;};p.prototype.getEntry=function(q){'use strict';return this.$MercuryTypeaheadDataSource1[q]||null;};p.prototype.getCachedShortProfileIDs=function(){'use strict';var q=c('ShortProfiles').getCachedProfileIDs(),r=q.filter(function(s){var t=c('ShortProfiles').getNow(s);return s==c('CurrentUser').getID()||t.type===c('MercuryParticipantTypes').FRIEND||t.type===c('MercuryParticipantTypes').FB4C||t.type===c('MercuryParticipantTypes').PAGE&&c('MercuryConfig').LinkedAgents&&c('MercuryConfig').LinkedAgents.indexOf(s.toString())>-1;});return r;};p.prototype.isBootstrapped=function(){'use strict';return n;};p.prototype.isBootstrapping=function(){'use strict';return o;};p.prototype.processEntries=function(q,r){'use strict';q=q.map(function(s){if(s.index==null&&(s.render_type===c('MercuryParticipantTypes').FRIEND||s.render_type===c('MercuryParticipantTypes').FB4C))s.index=c('OrderedFriendsList').getActiveRank(s.uid);if(s.render_type===c('MercuryParticipantTypes').PAGE&&c('MercuryConfig').LinkedAgents&&c('MercuryConfig').LinkedAgents.indexOf(s.uid.toString())>-1)s.index=1;return s;});return i.processEntries.call(this,q);};p.prototype.mergeUids=function(q,r,s,t){'use strict';var u=r.sort(function(v,w){return this.getEntry(v).index-this.getEntry(w).index;}.bind(this));return i.mergeUids.call(this,q,u,s,t);};f.exports=p;}),null);
__d('ChatTabTypeaheadDataSource',['MercuryConfig','MercuryTypeaheadConstants','MercuryTypeaheadDataSource'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MercuryTypeaheadDataSource'));i=h&&h.prototype;function j(k){'use strict';k=k||{};k.maxResults=c('MercuryTypeaheadConstants').COMPOSER_CHATTAB_MAX;i.constructor.call(this,k);this.$ChatTabTypeaheadDataSource1=true;}j.prototype.buildData=function(k){'use strict';var l=[],m=[],n=[],o=[],p=[],q=[];k.forEach(function(s){var t=i.getEntry.call(this,s);switch(t.render_type){case c('MercuryTypeaheadConstants').FRIEND_TYPE:l.push(s);break;case c('MercuryTypeaheadConstants').THREAD_TYPE:if(this.$ChatTabTypeaheadDataSource1)m.push(s);break;case c('MercuryTypeaheadConstants').NON_FRIEND_TYPE:n.push(s);break;case c('MercuryTypeaheadConstants').FB4C_TYPE:o.push(s);break;case c('MercuryTypeaheadConstants').PAGE_TYPE:if(this.$ChatTabTypeaheadDataSource1)if(c('MercuryConfig').LinkedAgents&&c('MercuryConfig').LinkedAgents.indexOf(s.toString())>-1){q.push(s);}else p.push(s);break;default:break;}}.bind(this),this);var r=q.concat(l,o,m,p,n);return i.buildData.call(this,r);};j.prototype.query=function(k,l,m,n){'use strict';return i.query.call(this,k,l,m,n);};j.prototype.respond=function(k,l,m){'use strict';return i.respond.call(this,k,l,m);};j.prototype.setShowThreads=function(k){'use strict';this.$ChatTabTypeaheadDataSource1=k;};f.exports=j;}),null);
__d('bs_js_exn',['bs_caml_exceptions'],(function a(b,c,d,e,f,g){'use strict';var h=c('bs_caml_exceptions').create("Js_exn.Error");function i(q){if(c('bs_caml_exceptions').isCamlExceptionOrOpenVariant(q)){return q;}else return [h,q];}function j(q){throw new Error(q);}function k(q){throw new EvalError(q);}function l(q){throw new RangeError(q);}function m(q){throw new ReferenceError(q);}function n(q){throw new SyntaxError(q);}function o(q){throw new TypeError(q);}function p(q){throw new URIError(q);}g.$$Error=h;g.internalToOCamlException=i;g.raiseError=j;g.raiseEvalError=k;g.raiseRangeError=l;g.raiseReferenceError=m;g.raiseSyntaxError=n;g.raiseTypeError=o;g.raiseUriError=p;}),null);
__d('bs_array',['bs_curry','bs_js_exn','bs_caml_array','bs_caml_exceptions','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(da,ea){if(da){if(da<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.init"];}else{var fa=c('bs_caml_array').caml_make_vect(da,c('bs_curry')._1(ea,0));for(var ga=1,ha=da-1|0;ga<=ha;++ga)fa[ga]=c('bs_curry')._1(ea,ga);return fa;}}else return [];}function i(da,ea,fa){var ga=c('bs_caml_array').caml_make_vect(da,[]);for(var ha=0,ia=da-1|0;ha<=ia;++ha)ga[ha]=c('bs_caml_array').caml_make_vect(ea,fa);return ga;}function j(da){var ea=da.length;if(ea){return c('bs_caml_array').caml_array_sub(da,0,ea);}else return [];}function k(da,ea){var fa=da.length;if(fa){if(ea.length){return da.concat(ea);}else return c('bs_caml_array').caml_array_sub(da,0,fa);}else return j(ea);}function l(da,ea,fa){if(fa<0||ea>(da.length-fa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.sub"];}else return c('bs_caml_array').caml_array_sub(da,ea,fa);}function m(da,ea,fa,ga){if(ea<0||fa<0||ea>(da.length-fa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.fill"];}else{for(var ha=ea,ia=(ea+fa|0)-1|0;ha<=ia;++ha)da[ha]=ga;return 0;}}function n(da,ea,fa,ga,ha){if(ha<0||ea<0||ea>(da.length-ha|0)||ga<0||ga>(fa.length-ha|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.blit"];}else return c('bs_caml_array').caml_array_blit(da,ea,fa,ga,ha);}function o(da,ea){for(var fa=0,ga=ea.length-1|0;fa<=ga;++fa)c('bs_curry')._1(da,ea[fa]);return 0;}function p(da,ea){var fa=ea.length;if(fa){var ga=c('bs_caml_array').caml_make_vect(fa,c('bs_curry')._1(da,ea[0]));for(var ha=1,ia=fa-1|0;ha<=ia;++ha)ga[ha]=c('bs_curry')._1(da,ea[ha]);return ga;}else return [];}function q(da,ea){for(var fa=0,ga=ea.length-1|0;fa<=ga;++fa)c('bs_curry')._2(da,fa,ea[fa]);return 0;}function r(da,ea){var fa=ea.length;if(fa){var ga=c('bs_caml_array').caml_make_vect(fa,c('bs_curry')._2(da,0,ea[0]));for(var ha=1,ia=fa-1|0;ha<=ia;++ha)ga[ha]=c('bs_curry')._2(da,ha,ea[ha]);return ga;}else return [];}function s(da){var ea=da.length-1|0,fa=0;while(true){var ga=fa,ha=ea;if(ha<0){return ga;}else{fa=[da[ha],ga];ea=ha-1|0;continue;}}}function t(da,ea){while(true){var fa=ea,ga=da;if(fa){ea=fa[1];da=ga+1|0;continue;}else return ga;}}function u(da){if(da){var ea=c('bs_caml_array').caml_make_vect(t(0,da),da[0]),fa=1,ga=da[1];while(true){var ha=ga,ia=fa;if(ha){ea[ia]=ha[0];ga=ha[1];fa=ia+1|0;continue;}else return ea;}}else return [];}function v(da,ea,fa){var ga=ea;for(var ha=0,ia=fa.length-1|0;ha<=ia;++ha)ga=c('bs_curry')._2(da,ga,fa[ha]);return ga;}function w(da,ea,fa){var ga=fa;for(var ha=ea.length-1|0;ha>=0;--ha)ga=c('bs_curry')._2(da,ea[ha],ga);return ga;}var x=c('bs_caml_exceptions').create("Array.Bottom");function y(da,ea){var fa=function oa(pa,qa){var ra=((qa+qa|0)+qa|0)+1|0,sa=ra;if((ra+2|0)<pa){if(c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(ea,ra),c('bs_caml_array').caml_array_get(ea,ra+1|0))<0)sa=ra+1|0;if(c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(ea,sa),c('bs_caml_array').caml_array_get(ea,ra+2|0))<0)sa=ra+2|0;return sa;}else if((ra+1|0)<pa&&c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(ea,ra),c('bs_caml_array').caml_array_get(ea,ra+1|0))<0){return ra+1|0;}else if(ra<pa){return ra;}else throw [x,qa];},ga=function oa(pa,qa,ra){try{var sa=pa,ta=qa,ua=ra;while(true){var va=ta,wa=fa(sa,va);if(c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(ea,wa),ua)>0){c('bs_caml_array').caml_array_set(ea,va,c('bs_caml_array').caml_array_get(ea,wa));ta=wa;continue;}else return c('bs_caml_array').caml_array_set(ea,va,ua);}}catch(ya){var xa=c('bs_js_exn').internalToOCamlException(ya);if(xa[0]===x){return c('bs_caml_array').caml_array_set(ea,xa[1],ra);}else throw xa;}},ha=function oa(pa,qa){try{var ra=pa,sa=qa;while(true){var ta=sa,ua=fa(ra,ta);c('bs_caml_array').caml_array_set(ea,ta,c('bs_caml_array').caml_array_get(ea,ua));sa=ua;continue;}}catch(wa){var va=c('bs_js_exn').internalToOCamlException(wa);if(va[0]===x){return va[1];}else throw va;}},ia=function oa(pa,qa){while(true){var ra=pa,sa=(ra-1|0)/3|0;if(ra===sa)throw [c('bs_caml_builtin_exceptions').assert_failure,["array.ml",168,4]];if(c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(ea,sa),qa)<0){c('bs_caml_array').caml_array_set(ea,ra,c('bs_caml_array').caml_array_get(ea,sa));if(sa>0){pa=sa;continue;}else return c('bs_caml_array').caml_array_set(ea,0,qa);}else return c('bs_caml_array').caml_array_set(ea,ra,qa);}},ja=ea.length;for(var ka=((ja+1|0)/3|0)-1|0;ka>=0;--ka)ga(ja,ka,c('bs_caml_array').caml_array_get(ea,ka));for(var la=ja-1|0;la>=2;--la){var ma=c('bs_caml_array').caml_array_get(ea,la);c('bs_caml_array').caml_array_set(ea,la,c('bs_caml_array').caml_array_get(ea,0));ia(ha(la,0),ma);}if(ja>1){var na=c('bs_caml_array').caml_array_get(ea,1);c('bs_caml_array').caml_array_set(ea,1,c('bs_caml_array').caml_array_get(ea,0));return c('bs_caml_array').caml_array_set(ea,0,na);}else return 0;}function z(da,ea){var fa=function ma(na,oa,pa,qa,ra,sa,ta){var ua=na+oa|0,va=qa+ra|0,wa=na,xa=c('bs_caml_array').caml_array_get(ea,na),ya=qa,za=c('bs_caml_array').caml_array_get(pa,qa),ab=ta;while(true){var bb=ab,cb=za,db=ya,eb=xa,fb=wa;if(c('bs_curry')._2(da,eb,cb)<=0){c('bs_caml_array').caml_array_set(sa,bb,eb);var gb=fb+1|0;if(gb<ua){ab=bb+1|0;xa=c('bs_caml_array').caml_array_get(ea,gb);wa=gb;continue;}else return n(pa,db,sa,bb+1|0,va-db|0);}else{c('bs_caml_array').caml_array_set(sa,bb,cb);var hb=db+1|0;if(hb<va){ab=bb+1|0;za=c('bs_caml_array').caml_array_get(pa,hb);ya=hb;continue;}else return n(ea,fb,sa,bb+1|0,ua-fb|0);}}},ga=function ma(na,oa,pa,qa){for(var ra=0,sa=qa-1|0;ra<=sa;++ra){var ta=c('bs_caml_array').caml_array_get(ea,na+ra|0),ua=(pa+ra|0)-1|0;while(ua>=pa&&c('bs_curry')._2(da,c('bs_caml_array').caml_array_get(oa,ua),ta)>0){c('bs_caml_array').caml_array_set(oa,ua+1|0,c('bs_caml_array').caml_array_get(oa,ua));ua=ua-1|0;}c('bs_caml_array').caml_array_set(oa,ua+1|0,ta);}return 0;},ha=function ma(na,oa,pa,qa){if(qa<=5){return ga(na,oa,pa,qa);}else{var ra=qa/2|0,sa=qa-ra|0;ma(na+ra|0,oa,pa+ra|0,sa);ma(na,ea,na+sa|0,ra);return fa(na+sa|0,ra,oa,pa+ra|0,sa,oa,pa);}},ia=ea.length;if(ia<=5){return ga(0,ea,0,ia);}else{var ja=ia/2|0,ka=ia-ja|0,la=c('bs_caml_array').caml_make_vect(ka,c('bs_caml_array').caml_array_get(ea,0));ha(ja,la,0,ka);ha(0,ea,ka,ja);return fa(ka,ja,la,0,ka,ea,0);}}var aa=i,ba=c('bs_caml_array').caml_array_concat,ca=z;g.init=h;g.make_matrix=i;g.create_matrix=aa;g.append=k;g.concat=ba;g.sub=l;g.copy=j;g.fill=m;g.blit=n;g.to_list=s;g.of_list=u;g.iter=o;g.map=p;g.iteri=q;g.mapi=r;g.fold_left=v;g.fold_right=w;g.sort=y;g.stable_sort=z;g.fast_sort=ca;}),null);
__d('bs_js_boolean',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i){return true;}else return false;}g.to_js_boolean=h;}),null);
__d('FBRTCMessageHandler',['invariant','Bootloader','FBRTCMessageListener','FBRTCSupport'],(function a(b,c,d,e,f,g,h){var i=null,j=false,k=null,l={init:function o(){if(!j&&c('FBRTCSupport').isReceiveWebrtcSupported()){j=true;c('FBRTCMessageListener').init(false);c('FBRTCMessageListener').once('messageReceived',function(p){m();});c('FBRTCMessageListener').once('multiwayMessageReceived',function(p){n(p);});}},resetListener:function o(){i||h(0);c('FBRTCMessageListener').removeMessageHandler();c('FBRTCMessageListener').setMessageHandler(i.onMessageReceived,i);}};function m(){if(!i)c('Bootloader').loadModules(["FBRTCIncomingCallController","FBRTCIncomingCallDialog","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage"],function(o,p,q,r){i=new o(p,r,new q());c('FBRTCMessageListener').setMessageHandler(i.onMessageReceived,i);},'FBRTCMessageHandler');}function n(o){if(!k)c('Bootloader').loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(p,q){k=new p(q);c('FBRTCMessageListener').setMultiwayMessageHandler(k.onMessageReceived,k);k.onMessageReceived(o);},'FBRTCMessageHandler');}f.exports=l;}),null);
__d('MercuryAudienceRestrictedTypeaheadDataSource',['CurrentUser','DataSource','MercuryParticipantTypes','MercuryTypeaheadConstants','OrderedFriendsList','ShortProfiles'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('DataSource'));i=h&&h.prototype;function j(k){'use strict';k=k||{};k.kanaNormalization=true;k.maxResults=c('MercuryTypeaheadConstants').COMPOSER_CHATTAB_MAX;k.minQueryLength=2;i.constructor.call(this,k);this.$MercuryAudienceRestrictedTypeaheadDataSource1=false;this.$MercuryAudienceRestrictedTypeaheadDataSource2=false;this.$MercuryAudienceRestrictedTypeaheadDataSource3={};this.$MercuryAudienceRestrictedTypeaheadDataSource4=true;this.queryCache={};this.localCache={};this.queryIDs={};}j.prototype.dirty=function(){'use strict';return this;};j.prototype.buildData=function(k){'use strict';return i.buildData.call(this,k);};j.prototype.query=function(k,l,m,n){'use strict';var o=l||k.length===1;return i.query.call(this,k,o,m,n);};j.prototype.getQueryData=function(k,l){'use strict';return babelHelpers['extends']({},i.getQueryData.call(this,k,l));};j.prototype.setEntry=function(k,l){'use strict';this.$MercuryAudienceRestrictedTypeaheadDataSource3[k]=l;};j.prototype.getEntry=function(k){'use strict';return this.$MercuryAudienceRestrictedTypeaheadDataSource3[k]||null;};j.prototype.getCachedShortProfileIDs=function(){'use strict';var k=c('ShortProfiles').getCachedProfileIDs(),l=k.filter(function(m){var n=c('ShortProfiles').getNow(m);return m==c('CurrentUser').getID()||n&&(n.type===c('MercuryParticipantTypes').FRIEND||n.type===c('MercuryParticipantTypes').FB4C);});return l;};j.prototype.isBootstrapped=function(){'use strict';return this.$MercuryAudienceRestrictedTypeaheadDataSource1;};j.prototype.isBootstrapping=function(){'use strict';return this.$MercuryAudienceRestrictedTypeaheadDataSource2;};j.prototype.processEntries=function(k,l){'use strict';k=k&&k.map(function(m){if(m.index==null&&(m.render_type===c('MercuryParticipantTypes').FRIEND||m.render_type===c('MercuryParticipantTypes').FB4C))m.index=c('OrderedFriendsList').getActiveRank(m.uid);return m;});return i.processEntries.call(this,k);};j.prototype.mergeUids=function(k,l,m,n){'use strict';var o=l.sort(function(p,q){var r=this.getEntry(p),s=this.getEntry(q);return r&&r.index&&s&&s.index?r.index-s.index:0;}.bind(this));return i.mergeUids.call(this,k,o,m,n);};j.prototype.setQueryData=function(k,l){'use strict';return i.setQueryData.call(this,k);};j.prototype.respond=function(k,l,m){'use strict';return i.respond.call(this,k,l,m);};j.prototype.setShowThreads=function(k){'use strict';this.$MercuryAudienceRestrictedTypeaheadDataSource4=k;};f.exports=j;}),null);
__d('SoundPlayer',['Map','URI','createArrayFromMixed'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))();function i(l){var m=new (c('URI'))(l);return m.getDomain()?l:new (c('URI'))(window.location.href).setPath(m.getPath()).toString();}function j(l){var m=new (c('URI'))(l).getPath();if(/\.mp3$/.test(m))return 'audio/mpeg';if(/\.og[ga]$/.test(m))return 'audio/ogg';return '';}var k={preload:function l(m){for(var n=c('createArrayFromMixed')(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;if(h.has(r))return;var s=document.createElement('audio');if(!s||!s.canPlayType||!s.canPlayType(j(r)))continue;s.preload='auto';s.src=i(r);document.body&&document.body.appendChild(s);h.set(r,s);return;}},play:function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];for(var o=c('createArrayFromMixed')(m),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r;if(!h.has(s))k.preload(s);var t=h.get(s);if(!t)continue;if(n.loop)t.setAttribute('loop','');if(n.volume)t.volume=n.volume;t.play();return;}},pause:function l(m){for(var n=c('createArrayFromMixed')(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=h.get(r);if(s){s.pause();return;}}},stop:function l(m){for(var n=c('createArrayFromMixed')(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=h.get(r);if(s){s.pause();s.removeAttribute('src');s.src=i(r);return;}}}};f.exports=k;}),null);
__d('SoundSynchronizer',['SoundPlayer','WebStorage','createArrayFromMixed'],(function a(b,c,d,e,f,g){var h='fb_sounds_playing3';function i(){var m=c('WebStorage').getLocalStorage();if(m)try{var n=m[h];if(n){n=JSON.parse(n);if(Array.isArray(n))return n;}}catch(o){}return [];}function j(m){var n=c('WebStorage').getLocalStorage();if(n){var o=i();o.push(m);while(o.length>5)o.shift();try{n[h]=JSON.stringify(o);}catch(p){}}}function k(m){return i().some(function(n){return n===m;});}var l={play:function m(n,o,p){n=c('createArrayFromMixed')(n);o=o||n[0]+Math.floor(Date.now()/1000);if(k(o))return;c('SoundPlayer').play(n,{loop:!!p});j(o);},isSupported:function m(){return !!c('WebStorage').getLocalStorage();}};f.exports=l;}),null);
__d('SoundRPC',['Event','FBJSON','SoundSynchronizer'],(function a(b,c,d,e,f,g){function h(j,k,l){c('SoundSynchronizer').play(j,k,l);}var i={playLocal:h,playRemote:function j(k,l,m,n){var o={name:'SoundRPC',data:{paths:l,sync:m,loop:n}};k.postMessage(c('FBJSON').stringify(o),'*');},supportsRPC:function j(){return !!window.postMessage;},_listen:function j(){c('Event').listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l={};try{l=c('FBJSON').parse(k.data);}catch(m){}if(l.name==='SoundRPC')h(l.data.paths,l.data.sync,l.data.loop);});}};f.exports=i;}),null);
__d('Sound',['SoundInitialData','SoundPlayer','SoundRPC','SoundSynchronizer','URI','UserAgent_DEPRECATED','Visibility','isFacebookURI'],(function a(b,c,d,e,f,g){var h=null,i=false,j={init:function n(o){},play:function n(o,p,q){if(h){c('SoundRPC').playRemote(h.contentWindow,o,p,false);}else c('SoundRPC').playLocal(o,p,q);i=true;},hasPlayedSoundBefore:function n(){return i;},playOnlyIfImmediate:function n(o,p,q){if(!i&&c('Visibility').isHidden())return;this.play(o,p,q);},stop:function n(o){if(!h)c('SoundPlayer').stop(o);}},k=new (c('URI'))(location.href);if(k.getSubdomain()&&k.getSubdomain()!=='www')k.setSubdomain('www');var l=k.getDomain();function m(){if(c('UserAgent_DEPRECATED').ie()<9)return false;if(c('SoundInitialData').RPC_DISABLED)return false;return c('SoundSynchronizer').isSupported()&&c('SoundRPC').supportsRPC();}if(c('isFacebookURI')(k)&&location.host!==l&&m()){h=document.createElement('iframe');h.setAttribute('src','//'+l+'/sound_iframe.php');h.style.display='none';document.body.appendChild(h);}f.exports=j;}),null);
__d('NotificationJewelReminderLoader',['JSResource'],(function a(b,c,d,e,f,g){f.exports={init:function h(i){c('JSResource')('NotificationJewelReminder').__setRef('NotificationJewelReminderLoader').load().done(function(j){new j(i);});}};}),null);
__d('utilsRe',['bs_array','bs_curry','bs_js_boolean','bs_js_primitive','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(q){if(c('bs_js_primitive').is_nil_undef(q)){return 0;}else return +q;}function i(q,r){if(q){return q[0];}else return r;}function j(q){return +(c('bs_js_primitive').null_undefined_to_opt(q)!==0);}function k(q){if(q){return q[0];}else return 0;}function l(q){if(c('bs_js_primitive').is_nil_undef(q)){return 0;}else return [+q];}function m(q){if(q){return c('bs_js_boolean').to_js_boolean(q[0]);}else return undefined;}function n(q){if(q){return c('bs_js_boolean').to_js_boolean(q[0]);}else return false;}function o(q,r){var s=q,t=r,u=0;while(true){var v=u,w=t;if(w){var x=w[1],y=c('bs_curry')._1(s,w[0]);if(y){u=[y[0],v];t=x;continue;}else{t=x;continue;}}else return v;}}function p(q){return c('bs_array').map(function(r){if(r){return r[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"arrayCompact: sorry, something went wrong."];},q.filter(function(r){if(r){return 1;}else return 0;}));}g.isTruthy=h;g.$pipe$unknown=i;g.isDefined=j;g.isSomeTrue=k;g.nullUndefinedBooleanToOptionBool=l;g.optionBoolToNullUndefinedBoolean=m;g.optionBoolToBoolean=n;g.listFilterMap=o;g.arrayCompact=p;}),null);
__d("MercuryTimePassed",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4});}),null);
__d("MessengerApprovalModeTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN:0,APPROVALS:1});}),null);
__d("MessengerJoinableModeType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRIVATE:0,JOINABLE:1});}),null);
__d("PaymentModulesClient",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DONATION_P4P:"donation_p4p",INSTANT_EXPERIENCES:"instant_experiences",BUSINESS_PLATFORM_COMMERCE:"business_platform_commerce",MESSENGER_OMNIM:"messenger_omnim",MESSENGER_PLATFORM:"messenger_platform",PAGES_COMMERCE:"pages_commerce",SHIPPING_LABEL:"shipping_label",SYNCHRONOUS_COMPONENT_FLOW:"synchronous_component_flow",MOCK:"mock"});}),null);
__d('MercuryMessageCustomizations',[],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j.customizations;if(!l)return null;var m=l.filter(function(n){return n.customization_type===k;});return m.length>0?m[0].customization_value:null;}function i(j){var k=JSON.parse(j),l=[];Object.keys(k).forEach(function(m){l.push({customization_type:m,customization_value:k[m]});});return l;}f.exports={getCustomizationValue:h,parseCustomizations:i};}),null);
__d('MercuryTimestamp',['fbt','MercuryTimePassed','formatDate'],(function a(b,c,d,e,f,g,h){var i=86400000,j=6*i,k={getFormatedTimestamp:function l(m){var n=m/1000;return k.getFormattedTimestampByBucket(n,this.getTimeBucket(m));},getAbsoluteTimestamp:function l(m){if(m==null){return null;}else{var n=k.getFormatedTimestamp(m);return n.absolute;}},getRelativeTimestamp:function l(m){var n=k.getFormatedTimestamp(m);return n.relative;},getFormattedTimestampByBucket:function l(m,n){switch(n){case c('MercuryTimePassed').TODAY:return {absolute:h._("Hoje"),relative:c('formatDate')(m,'g:ia')};case c('MercuryTimePassed').WEEK_AGO:return {absolute:c('formatDate')(m,'l'),relative:c('formatDate')(m,'D')};case c('MercuryTimePassed').CURRENT_YEAR:return {absolute:c('formatDate')(m,'F j'),relative:c('formatDate')(m,'M j')};default:return {absolute:c('formatDate')(m,'F j, Y'),relative:c('formatDate')(m,'n/j/y')};}},getTimeBucket:function l(m){var n=new Date(m),o=new Date(),p=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(p<n){return c('MercuryTimePassed').TODAY;}else if(p-j<n){return c('MercuryTimePassed').WEEK_AGO;}else if(p.getFullYear()===n.getFullYear()){return c('MercuryTimePassed').CURRENT_YEAR;}else return c('MercuryTimePassed').OTHER_YEAR;},getPreciseTimestamp:function l(m){return c('formatDate')(new Date(m),k.getPreciseFormat(m));},getPreciseFormat:function l(m){var n=k.getTimeBucket(m);switch(n){case c('MercuryTimePassed').TODAY:return 'g:ia';case c('MercuryTimePassed').WEEK_AGO:return 'l g:ia';case c('MercuryTimePassed').CURRENT_YEAR:return 'F jS, g:ia';case c('MercuryTimePassed').OTHER_YEAR:default:return 'F j, Y g:i a';}}};f.exports=k;}),null);