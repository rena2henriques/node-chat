if (self.CavalryLogger) { CavalryLogger.start_js(["kkP+L"]); }

__d("PagesLoggerEventEnum",[],(function a(b,c,d,e,f,g){f.exports={CLICK:"click",CREATE:"create",DELETE:"delete",DRAG:"drag",HOVER:"hover",IMPRESSION:"impression",RECEIVE_REQUEST:"receive_request",RECEIVE_RESPONSE:"receive_response",SCROLL:"scroll",SEND_REQUEST:"send_request",SEND_RESPONSE:"send_response",UPDATE:"update"};}),null);
__d("PagesLoggerEventTargetEnum",[],(function a(b,c,d,e,f,g){f.exports={ABOUT_TAB:"about_tab",ADMIN_TAB:"admin_tab",ADS_CTA:"ads_cta",CONFIRM_APPLY_PAGE_TEMPLATE_BUTTON:"confirm_apply_page_template_button",EDIT_PAGE_TEMPLATE_ROW:"edit_page_template_row",FAN_INVITE_EMAIL:"fan_invite_email",FEED_CTA:"feed_cta",FEED_PAGE_ATTACHMENT:"feed_page_attachment",FEED_PAGE_COMMENT_ATTACHMENT:"feed_page_comment_attachment",FOLLOW_UP_MESSAGE:"follow_up_message",MESSAGE_FANTA_TAB_CLOSE:"message_fanta_tab_close",MESSENGER_ABOUT_BUTTON:"messenger_about_button",MESSENGER_ATTACHMENT:"messenger_attachment",MESSENGER_URL_BUTTON:"messenger_url_button",MSITE_MESSAGE_BUBBLE:"msite_message_bubble",NEW_ACTION_PROMOTION:"new_action_promotion",PAGE_COVER_CTA_BUTTON:"page_cover_cta_button",PAGE_COVER_DESCRIPTION:"page_cover_description",PAGE_GET_DIRECTIONS:"page_get_directions",PAGE_HOME_CARD:"page_home_card",PAGE_MAP:"page_map",PAGE_MENU:"page_menu",PAGE_MESSAGE:"page_message",PAGE_NOTES_CARD:"page_notes_card",PAGE_NOTES_TAB:"page_notes_tab",PAGE_PHONE:"page_phone",PAGE_PROFILE:"page_profile",PAGE_PROMOTIONS_TAB:"page_promotions_tab",PAGE_REQUEST_TIME_BOOST:"page_request_time_boost",PAGE_SAVE:"page_save",PAGE_SETTINGS:"page_settings",PAGE_TAB_BAR:"page_tab_bar",PAGE_TEMPLATE:"page_template",PAGE_TEMPLATE_ALARM_CLOCK:"page_template_alarm_clock",PAGE_TEMPLATE_NUX_TOUR:"page_template_nux_tour",PAGE_THIS_WEEK_CARD:"page_this_week_card",PAGE_VENUE_EVENT_ABOUT:"page_venue_event_about",PAGE_WEBSITE:"page_website",PAGES_COVER_VIDEO:"pages_cover_video",PAGES_PRIMARY_CTA_BUTTON:"pages_primary_cta_button",PMA_TAB:"pma_tab"};}),null);
__d('ChatTypeaheadConstants',[],(function a(b,c,d,e,f,g){var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header',INTERNAL_BOT_PAGE_TYPE:'internal_bot_page',GAME_TYPE:'game'};f.exports=h;}),null);
__d('PagesTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesLoggerConfig',this.$PagesTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesLoggerConfig',this.$PagesTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesTypedLogger1=babelHelpers['extends']({},this.$PagesTypedLogger1,j);return this;};h.prototype.setConnectionClass=function(j){this.$PagesTypedLogger1.connection_class=j;return this;};h.prototype.setEvent=function(j){this.$PagesTypedLogger1.event=j;return this;};h.prototype.setEventLocation=function(j){this.$PagesTypedLogger1.event_location=j;return this;};h.prototype.setEventTarget=function(j){this.$PagesTypedLogger1.event_target=j;return this;};h.prototype.setLogSource=function(j){this.$PagesTypedLogger1.log_source=j;return this;};h.prototype.setPageID=function(j){this.$PagesTypedLogger1.page_id=j;return this;};h.prototype.setSessionid=function(j){this.$PagesTypedLogger1.sessionid=j;return this;};h.prototype.setTags=function(j){this.$PagesTypedLogger1.tags=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$PagesTypedLogger1=babelHelpers['extends']({},this.$PagesTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={connection_class:true,event:true,event_location:true,event_target:true,log_source:true,page_id:true,sessionid:true,tags:true};f.exports=h;}),null);
__d('PagesLogger',['PagesLoggerEventEnum','PagesTypedLogger'],(function a(b,c,d,e,f,g){var h='extra_data_',i={log:function j(k,event,l){var m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=arguments.length<=4||arguments[4]===undefined?[]:arguments[4],o=arguments.length<=5||arguments[5]===undefined?{}:arguments[5];Object.keys(o).forEach(function(p){var q=o[p];if(q instanceof Array||q instanceof Object)q=JSON.stringify(q);o[h+p]=q;delete o[p];});new (c('PagesTypedLogger'))().setPageID(k).setEvent(event).setEventTarget(l).setEventLocation(m).setLogSource('pages_logger').setTags(n).updateExtraData(o).log();},registerLogOnClick:function j(k,l,m){var n=arguments.length<=3||arguments[3]===undefined?null:arguments[3],o=arguments.length<=4||arguments[4]===undefined?[]:arguments[4],p=arguments.length<=5||arguments[5]===undefined?{}:arguments[5];k.addEventListener('click',function(){this.log(l,c('PagesLoggerEventEnum').CLICK,m,n,o,p);}.bind(this));}};f.exports=i;}),null);
__d('ChatOpenTabEventLogger',['Banzai','ChatImpressionLogger','ChatTypeaheadConstants','MercuryIDs','MercuryParticipantTypes','PagesLogger','PagesLoggerEventEnum','PagesLoggerEventTargetEnum'],(function a(b,c,d,e,f,g){'use strict';var h='messaging_tracking',i={log:function j(k,l,m,n){var o={referrer:k||'',message_thread_id:l,message_view:'chat',timestamp_send:Date.now(),message_target_ids:[]};if(m!==undefined)o.message_target_ids=[m];c('ChatImpressionLogger').logImpression(k,m,n);c('Banzai').post(h,o,{delay:0,retry:true});if(k==='pages_manager_user_message_prompt')return;var p=c('MercuryIDs').getUserIDFromThreadID(String(l));c('Banzai').post('page_message_button_click',{page_id:p,ref:k});},logUser:function j(k,l,m){var n=c('MercuryIDs').getThreadIDFromUserID(l);this.log(k,n,l,m);},logPage:function j(k,l){this.logUser(k,l);this._pagesLogger(k,l);},logByType:function j(k,l,m){if(k===c('ChatTypeaheadConstants').THREAD_TYPE){this.log(l,m);}else if(k===c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){var n=c('MercuryIDs').getUserIDFromThreadID(m);this.log(l,m,n);}else if(!k||k===c('MercuryParticipantTypes').FRIEND||k===c('ChatTypeaheadConstants').FRIEND_TYPE||k===c('ChatTypeaheadConstants').PAGE_TYPE||k===c('ChatTypeaheadConstants').USER_TYPE){var o=void 0;if(c('MercuryIDs').isValidThreadID(m))o=c('MercuryIDs').getUserIDFromThreadID(m);this.log(l,m,o);if(k===c('ChatTypeaheadConstants').PAGE_TYPE)this._pagesLogger(l,m);}else this.log(l,m);},_pagesLogger:function j(k,l){if(k==='pages_manager_user_message_prompt')return;c('PagesLogger').log(l,c('PagesLoggerEventEnum').CLICK,c('PagesLoggerEventTargetEnum').PAGE_MESSAGE,k);}};f.exports=i;}),null);
__d('FantaDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('WebMessengerThreadPermalinks',['MercuryIDs','MessagingTag','MessengerURIConstants','URI','WWWBase','requireWeak'],(function a(b,c,d,e,f,g){'use strict';var h={getThreadURI:function j(k,l,m){var n='';if(c('MercuryIDs').isCanonical(k)){n=c('MercuryIDs').tokenize(k).value;}else c('requireWeak')('MercuryThreadIDMap',function(p){n=p.get().getServerIDFromClientIDNow(k);});var o=h.getThreadURIFromServerID(n,m);l&&l(o);},getThreadURIFromServerID:function j(k,l){var m=new (c('URI'))(c('WWWBase').uri),n=c('MessengerURIConstants').FACEBOOK_PREFIX;if(l)switch(l){case c('MessagingTag').OTHER:n+='/filtered';break;case c('MessagingTag').PENDING:n+='/requests';break;case c('MessagingTag').INBOX:break;default:n+='/'+l;break;}m.setPath(n+c('MessengerURIConstants').THREAD_PREFIX+k);return m.toString();},getThreadURIFromUserID:function j(k,l){var m=new (c('URI'))(c('WWWBase').uri),n=c('MessengerURIConstants').FACEBOOK_PREFIX;m.setPath(i(n,l)+'/t/'+k);return m.toString();}};function i(j,k){if(k&&k!=c('MessagingTag').INBOX)j+='/'+k;return j;}f.exports=h;}),null);
__d('FantaTabActions',['Bootloader','FantaDispatcher','MercuryConfig','MessengerURIConstants','URI','WebMessengerThreadPermalinks','goURI','ifRequired','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({BLUR_TAB:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HOVERED_TAB:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SHOW_UNSEEN_MESSAGES:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null});function i(l){var m=l?new (c('URI'))(c('WebMessengerThreadPermalinks').getThreadURIFromServerID(l)):new (c('URI'))(c('MessengerURIConstants').COMPOSE_SUBPATH);c('ifRequired')('BusinessURI.brands',function(n){return c('goURI')(n(m));},function(){return c('goURI')(m);});}function j(l){if(c('MercuryConfig').ChatOpenEventually){setTimeout(function(){k.openTabEventually(l);},100);}else i(l);}var k={Types:h,openTab:function l(m,n){this.dispatchOrBootloadGetMessages(function(){c('FantaDispatcher').dispatch({type:h.OPEN_TAB,tabID:m});c('ifRequired')('FantaTabsReactApp',function(o){this._tryLoadSlimApp(m);}.bind(this),function(){this._tryLoadSlimApp(m,function(){return i(m);});}.bind(this));}.bind(this));},openTabEventually:function l(m){this.dispatchOrBootloadGetMessages(function(){c('FantaDispatcher').dispatch({type:h.OPEN_TAB,tabID:m});c('ifRequired')('FantaTabsReactApp',function(n){this._tryLoadSlimApp(m);}.bind(this),function(){this._tryLoadSlimApp(m,function(){return j(m);});}.bind(this));}.bind(this));},openInterstitialTab:function l(m,n){this.dispatchOrBootloadGetMessages(function(){c('FantaDispatcher').dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n});c('ifRequired')('FantaTabsReactApp',function(o){this._tryLoadSlimAppWithInterstitialData(m,n);}.bind(this),function(){this._tryLoadSlimAppWithInterstitialData(m,n);}.bind(this));}.bind(this));},_tryLoadSlimApp:function l(m,n){c('ifRequired')('FantaTabsSlimApp',function(o){c('ifRequired')('FantaAppStore',function(){},function(){o.getPumpedUp(function(){c('FantaDispatcher').dispatch({type:h.OPEN_TAB,tabID:m});});});},function(){return n&&n(m);});},_tryLoadSlimAppWithInterstitialData:function l(m,n,o){c('ifRequired')('FantaTabsSlimApp',function(p){c('ifRequired')('FantaAppStore',function(){},function(){p.getPumpedUp(function(){c('FantaDispatcher').dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:m,interstitialData:n});});});});},replaceTab:function l(m,n){c('FantaDispatcher').dispatch({type:h.REPLACE_TAB,tabID:m,newTabID:n});},minimizeTab:function l(m){c('FantaDispatcher').dispatch({type:h.MINIMIZE_TAB,tabID:m});},minimizeAllTabs:function l(){c('FantaDispatcher').dispatch({type:h.MINIMIZE_ALL_TABS});},unminimizeTab:function l(m){c('FantaDispatcher').dispatch({type:h.UNMINIMIZE_TAB,tabID:m});},closeTab:function l(m){c('FantaDispatcher').dispatch({type:h.CLOSE_TAB,tabID:m});},closeAllTabs:function l(){c('FantaDispatcher').dispatch({type:h.CLOSE_ALL_TABS});},closeAndTabNext:function l(m){c('FantaDispatcher').dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:m});},deleteTab:function l(m){c('FantaDispatcher').dispatch({type:h.DELETE_TAB,tabID:m});},focusTab:function l(m){c('FantaDispatcher').dispatch({type:h.FOCUS_TAB,tabID:m});},blurTab:function l(m){c('FantaDispatcher').dispatch({type:h.BLUR_TAB,tabID:m});},hoveredTab:function l(m){c('FantaDispatcher').dispatch({type:h.HOVERED_TAB,tabID:m});},unhoveredTab:function l(m){c('FantaDispatcher').dispatch({type:h.UNHOVERED_TAB,tabID:m});},setAllowedRaisedTabs:function l(m){c('FantaDispatcher').dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:m});},loadFromData:function l(m){this.dispatchOrBootloadGetMessages(function(){c('FantaDispatcher').dispatch({type:h.LOAD_FROM_DATA,tabData:m});});},focusNextTab:function l(event){c('FantaDispatcher').dispatch({type:h.FOCUS_NEXT_TAB,event:event});},focusPreviousTab:function l(event){c('FantaDispatcher').dispatch({type:h.FOCUS_PREVIOUS_TAB,event:event});},scrollBottomChanged:function l(m,n,o){c('FantaDispatcher').dispatch({type:h.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:n,tabID:m,showUnseenMessages:o});},showUnseenMessages:function l(m){c('FantaDispatcher').dispatch({type:h.SHOW_UNSEEN_MESSAGES,tabID:m});},dispatchOrBootloadGetMessages:function l(m){c('ifRequired')('FantaReducersGetMessages',function(){m();},function(){c('ifRequired')('FantaAppStore',function(n){c('Bootloader').loadModules(["FantaReducersGetMessages"],function(o){n.addReducers(o);m();},'FantaTabActions');},function(){m();});});}};f.exports=k;}),null);