if (self.CavalryLogger) { CavalryLogger.start_js(["7hPbX"]); }

__d('AdsPagerConstants',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({ADD_PAGE:null,PAGE_TRANSITION:null,REQUEST_PAGE:null}),i=c('keyMirror')({VIEW_ACTION:null,SERVER_ACTION:null});f.exports={ActionTypes:h,PayloadSources:i};}),null);
__d('AdsPagerDispatcher',['AdsPagerConstants','Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsPagerConstants').PayloadSources;function i(k){return function(l){this.dispatch({payloadSource:k,action:l});};}var j=Object.assign(new (c('Dispatcher_DEPRECATED'))(),{handleUpdateFromViewAction:i(h.VIEW_ACTION),handleUpdateFromServerAction:i(h.SERVER_ACTION)});f.exports=j;}),null);
__d('AdsRefreshHandler',['csx','AdsMouseStateStore','AdsPagerConstants','AdsPagerDispatcher','Arbiter','CSSFade','DataAttributeUtils','DOM','Event','SubscriptionsHandler','Toggler','UIPagelet','cxodecode','debounceAcrossTransitions','getOrCreateDOMID'],(function a(b,c,d,e,f,g,h){var i=c('AdsMouseStateStore').STATES,j=600,k=c('AdsMouseStateStore').get(),l=void 0;function m(n,o,p){'use strict';if(!p.data||!p.pid)return;if(o.nonce)l=c('cxodecode')(o.nonce);this.$AdsRefreshHandler1=n;this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler3=o;this.$AdsRefreshHandler4=p;this.$AdsRefreshHandler5=0;this.$AdsRefreshHandler6=false;this.$AdsRefreshHandler7=true;this.$AdsRefreshHandler8=null;this.$AdsRefreshHandler9=c('debounceAcrossTransitions')(this.reloadAdsIfNeeded.bind(this),this.$AdsRefreshHandler3.delay);this.$AdsRefreshHandler10=new (c('SubscriptionsHandler'))();this.$AdsRefreshHandler10.addSubscriptions(c('Event').listen(this.$AdsRefreshHandler1,'mouseenter',this.setMouseOver.bind(this,true)),c('Event').listen(this.$AdsRefreshHandler1,'mouseleave',this.setMouseOver.bind(this,false)),k.addListener('change',this.onMouseStateStoreChange.bind(this)),c('Arbiter').subscribe('AdsPreferencesDialog/opened',this.stopRefreshingRHC.bind(this)),c('Arbiter').subscribe('AdsPreferencesDialog/closed',this.startRefreshingRHC.bind(this)),c('Arbiter').subscribe('VideoChannelView/opened',this.stopRefreshingRHC.bind(this)),c('Arbiter').subscribe('VideoChannelView/closed',this.startRefreshingRHC.bind(this)));this.$AdsRefreshHandler11();c('AdsPagerDispatcher').register(this.handlePageDispatch.bind(this));}m.prototype.$AdsRefreshHandler11=function(){'use strict';if(this.$AdsRefreshHandler12)this.$AdsRefreshHandler12.release();this.$AdsRefreshHandler12=new (c('SubscriptionsHandler'))();var n=c('DOM').scry(this.$AdsRefreshHandler1,'.uiToggle');for(var o=0;o<n.length;o++)this.$AdsRefreshHandler12.addSubscriptions(c('Toggler').listen('show',n[o],this.stopRefreshingRHC.bind(this)),c('Toggler').listen('hide',n[o],this.startRefreshingRHC.bind(this)));};m.prototype.handlePageDispatch=function(n){'use strict';var o=n.action||{};if(o.actionType===c('AdsPagerConstants').ActionTypes.REQUEST_PAGE)this.reloadAds();};m.prototype.setMouseOver=function(n){'use strict';this.$AdsRefreshHandler13=n;if(n&&this.$AdsRefreshHandler8!=null){this.$AdsRefreshHandler8.cancel();this.$AdsRefreshHandler8=null;}};m.prototype.subscribeDefaultEventsForRefresh=function(){'use strict';this.$AdsRefreshHandler10.addSubscriptions(c('Event').listen(window,'scroll',this.$AdsRefreshHandler9),c('Event').listen(window,'resize',this.$AdsRefreshHandler9));return this;};m.prototype.reloadWithDebounce=function(){'use strict';this.$AdsRefreshHandler9();};m.prototype.reloadWithoutDebounce=function(){'use strict';this.reloadAdsIfNeeded();};m.prototype.stopRefreshingRHC=function(n,o){'use strict';this.$AdsRefreshHandler7=false;};m.prototype.startRefreshingRHC=function(n,o){'use strict';this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler7=true;};m.prototype.forceLoadIfEnoughTimePassed=function(n){'use strict';if(Date.now()-this.$AdsRefreshHandler2>n)this.reloadAds();};m.prototype.containsPremium=function(){'use strict';var n=c('DOM').scry(this.$AdsRefreshHandler1,l||"div._4u8");return !!n.filter(function(o){return JSON.parse(c('DataAttributeUtils').getDataAttribute(o,'data-ad')).segment==='premium';}).length;};m.prototype.reloadAdsIfNeeded=function(){'use strict';if(!this.$AdsRefreshHandler1)return;c('Arbiter').inform('AdsRefreshHandler/CheckingReload');if(this.$AdsRefreshHandler3.stateRefresh){this.reloadAdsIfNeededStateBased();return;}if(this.containsPremium()||this.$AdsRefreshHandler13||!this.$AdsRefreshHandler3.interval)return;if(Date.now()-this.$AdsRefreshHandler2>=this.$AdsRefreshHandler3.interval)this.reloadAds();};m.prototype.reloadAdsIfNeededStateBased=function(){'use strict';if(Date.now()-this.$AdsRefreshHandler2<this.$AdsRefreshHandler3.interval)return;if(this.containsPremium())return;if(!this.$AdsRefreshHandler3.interval)return;this.$AdsRefreshHandler6=true;c('Arbiter').inform('AdsRefreshHandler/RefreshScheduled');this.checkScheduledRefresh();};m.prototype.getRefreshScheduled=function(){'use strict';return this.$AdsRefreshHandler6;};m.prototype.onMouseStateStoreChange=function(){'use strict';this.checkScheduledRefresh();};m.prototype.checkScheduledRefresh=function(){'use strict';if(!this.$AdsRefreshHandler6)return;if(this.$AdsRefreshHandler13)return;var n=k.getState(),o=false;switch(n){case i.HOVER:case i.NO_INTENT:o=true;break;default:break;}if(!o)return;this.$AdsRefreshHandler6=false;this.reloadAds();};m.prototype.reloadAds=function(){'use strict';if(!this.$AdsRefreshHandler1)return;this.$AdsRefreshHandler2=Date.now();if(!this.$AdsRefreshHandler7)return;var n=this.$AdsRefreshHandler4&&this.$AdsRefreshHandler4.data,o=babelHelpers['extends']({},n,{refresh_num:++this.$AdsRefreshHandler5});this.$AdsRefreshHandler8=c('UIPagelet').loadFromEndpoint('WebEgoPane',this.$AdsRefreshHandler1,{dom_id:c('getOrCreateDOMID')(this.$AdsRefreshHandler1),pid:this.$AdsRefreshHandler4.pid,data:o},{bundle:false,handler:this.onLoadHandler.bind(this)});c('Arbiter').inform('AdsRefreshHandler/AdsLoading');};m.prototype.onLoadHandler=function(){'use strict';c('Arbiter').inform('AdsRefreshHandler/AdsLoaded');this.$AdsRefreshHandler8=null;this.$AdsRefreshHandler11();if(!this.$AdsRefreshHandler3.fade)return;c('CSSFade').show(this.$AdsRefreshHandler1,{duration:j});};m.prototype.cleanup=function(){'use strict';this.$AdsRefreshHandler1=null;this.$AdsRefreshHandler10.release();this.$AdsRefreshHandler9.reset();};f.exports=m;}),null);
__d('HomeRHCAdsBasicRefresh',['AdsRefreshHandler','Arbiter','NavigationMessage','Run','SubscriptionsHandler','ge'],(function a(b,c,d,e,f,g){var h,i,j,k;function l(){if(h){h.cleanup();h=null;}if(i){i.release();i=null;}j=null;}function m(){var p=c('ge')(k);if(p&&j){p.appendChild(j);j=null;}}function n(p,q){j=q;h&&h.forceLoadIfEnoughTimePassed(0);}var o={init:function p(q,r,s){k=q;h=new (c('AdsRefreshHandler'))(c('ge')(q),r,s).subscribeDefaultEventsForRefresh();i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,l),c('Arbiter').subscribe('ProfileQuestionAnswered',n),c('Arbiter').subscribe('AdsRefreshHandler/AdsLoaded',m));c('Run').onLeave(l);}};f.exports=o;}),null);
__d('XUISidebar',['csx','DirectionalDockingElement','DOMDimensions','DOMQuery','Event','SubscriptionsHandler','Run','ViewportBounds','getElementPosition','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g,h){var i="._2yaa";function j(k){'use strict';this.$XUISidebar1=new (c('DirectionalDockingElement'))(k);this.$XUISidebar3=k;this.$XUISidebar4();var l=c('throttle')(this.$XUISidebar4.bind(this));this.$XUISidebar2=new (c('SubscriptionsHandler'))();this.$XUISidebar2.addSubscriptions(c('Event').listen(window,'resize',l),c('Event').listen(this.$XUISidebar3,'resize',l),c('Run').onLeave(this.$XUISidebar5.bind(this)));}j.prototype.$XUISidebar5=function(){'use strict';if(this.$XUISidebar2)this.$XUISidebar2.release();this.$XUISidebar2=null;};j.prototype.$XUISidebar4=function(){var k,l=this;'use strict';var m=c('DOMDimensions').getElementDimensions(this.$XUISidebar3).height,n=c('getElementPosition')(this.$XUISidebar3).y,o=c('ViewportBounds').getTop(),p=c('getViewportDimensions')().height-o,q=p-m;if(m<p){q=o;}else (function(){var r=[];c('DOMQuery').scry(l.$XUISidebar3,i).forEach(function(v){r.push(c('getElementPosition')(v).y);});r.sort(function(v,w){return v-w;});for(var s=0,t=r.length;s<t;s++){var u=r[s]-n;if(m-u<p){q=o-u;break;}}})();this.$XUISidebar1.setOffset(q);};f.exports=j;}),null);
__d('FaceliftLeftNavController',['csx','cx','Arbiter','CSS','Event','NavigationMessage','Parent','Run','SubscriptionsHandler','XUISidebar'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=void 0,k=void 0,l=void 0,m={init:function r(s,t){if(t)n(s);if(!l){l=new (c('SubscriptionsHandler'))();l.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_COMPLETED,p),c('Run').onLeave(q));}l.addSubscriptions(c('Event').listen(s,'click',o));}};function n(r){if(k){c('Event').fire(window,'resize');return;}j=c('Parent').bySelector(r,'#leftCol');if(!(j instanceof HTMLElement))return;k=j.appendChild(document.createElement('div'));while(k!==j.firstChild&&j.firstChild)k.appendChild(j.firstChild);k.style.paddingTop='12px';j.style.marginTop='-12px';new (c('XUISidebar'))(k);}function o(r){var s=r.detail,t=r.target,u=c('Parent').bySelector(t,"._3mht");if(u&&u.parentNode instanceof Element){c('CSS').removeClass(u.parentNode,"_5pyq");c('Event').fire(window,'resize');if(!s)u.previousSibling instanceof Node&&u.previousSibling.lastChild instanceof HTMLElement&&u.previousSibling.lastChild.focus();}}function p(){if(j&&k)k.style.width=getComputedStyle(j).width;}function q(){j=null;k=null;if(l){l.release();l=null;}}f.exports=m;}),null);
__d('AttachmentIssueDiversityShareConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={ARTICLE_CLICK:'issueDiversity/article_click'};f.exports=h;}),null);
__d('runAfterScrollingStops',['Arbiter','Event','Run','debounceAcrossTransitions','emptyFunction'],(function a(b,c,d,e,f,g){function h(s,t,u){if(t&&k[t])return;if(!j){c('Arbiter').subscribe('page_transition',r);j=true;}if(!i){s();return;}t&&(k[t]=1);l.push(s);if(!u){if(n){c('Run').onLeave(r);n=false;}m.push(l.length-1);}}var i,j,k={},l=[],m=[],n=true,o=500,p=c('debounceAcrossTransitions')(function(){i=false;var s=l;l=[];m=[];k={};for(var t=0,u=s.length;t<u;++t)s[t]();},o);function q(){i=true;p();}function r(){var s=m;m=[];n=true;for(var t=0,u=s.length;t<u;++t)l[s[t]]=c('emptyFunction');}c('Event').listen(window,'scroll',q);f.exports=h;}),null);
__d('LitestandOffscreenController',['csx','cx','Arbiter','CSS','DOMQuery','Event','NavigationMessage','Run','Scroll','Style','SubscriptionsHandler','Vector','getFullScreenElement','getOrCreateDOMID','queryThenMutateDOM','runAfterScrollingStops','throttle'],(function a(b,c,d,e,f,g,h,i){var j=1,k=9,l=10,m={},n=false,o=void 0,p=void 0,q=void 0,r=void 0,s=[];function t(){o&&o.release();o=null;n=false;}function u(){m={};s=[];}function v(){if(document.body&&c('CSS').matchesSelector(document.body,"._5vb_"))return l;return k;}function w(){r=r||c('Vector').getViewportDimensions().y;p=c('Vector').getScrollPosition().y;q=p+r;if(j){p-=r*j;q+=r*j;}for(var ea in m){var fa=m[ea];fa.position=c('Vector').getElementPosition(fa.element).y;if(!fa.hidden)fa.height=fa.element.offsetHeight;}}function x(){var ea=[],fa=c('getFullScreenElement')();for(var ga in m){var ha=m[ga],ia=ha.position||0,ja=ia+ha.height<p,ka=ia>q;if(!fa&&!ha.hidden&&(ja||ka)){y(ha);}else if(!ja&&!ka){ha.pendingHide=false;var la=z(ha);if(ha.hidden){if(ha.dirty&&ia<p){ea.push(ga);if(la)c('CSS').addClass(la,"_49nu");}else c('Style').apply(ha.element,{height:'',marginBottom:''});if(la)c('CSS').show(la);ha.dirty=false;ha.hidden=false;}}}if(!ea.length)return;var ma=0;c('queryThenMutateDOM')(function(){for(var na=0,oa=ea.length;na<oa;na++){var pa=m[ea[na]],qa=z(pa);ma+=pa.height+c('Style').getFloat(pa.element,'marginBottom');if(qa)ma-=qa.offsetHeight;}},function(){for(var na=0,oa=ea.length;na<oa;na++){var pa=m[ea[na]],qa=z(pa);if(qa)c('CSS').removeClass(qa,"_49nu");c('Style').apply(pa.element,{height:'',marginBottom:''});}ma&&c('Scroll').setTop(document.body,c('Scroll').getTop(document.body)-ma);});}function y(ea){if(!ea.pendingHide){s.push(ea);ea.pendingHide=true;}}function z(ea){if(ea.wrapperElement)return ea.wrapperElement;var fa=ea.element,ga=fa.firstElementChild;if(ga instanceof HTMLElement)return ea.wrapperElement=ga;for(var ha=0;ha<fa.childNodes.length;ha++){var ia=fa.childNodes[ha];if(ia.tagName&&ia instanceof HTMLElement)return ea.wrapperElement=ia;}return null;}function aa(){var ea=v()+'px';for(var fa=0;fa<s.length;fa++){var ga=s[fa];if(c('DOMQuery').scry(ga.element,'div[data-fullscreen]').length)ga.pendingHide=false;if(ga&&ga.element&&ga.pendingHide&&!ga.hidden){c('Style').apply(ga.element,{height:(ga.height||0)+'px',marginBottom:ea});var ha=z(ga);if(ha)c('CSS').hide(ha);ga.hidden=true;ga.pendingHide=false;}}s=[];}function ba(){c('runAfterScrollingStops')(aa,'LitestandOffscreenController/hide');c('queryThenMutateDOM')(w,x,'LitestandOffscreenController');}function ca(){c('Run').onLeave(t);o=new (c('SubscriptionsHandler'))();o.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,u),c('Event').listen(window,'scroll',c('throttle')(ba)),c('Event').listen(window,'resize',c('throttle')(function(){r=null;ba();})));n=true;}var da={attachSubstream:function ea(fa){n||ca();m[c('getOrCreateDOMID')(fa)]={element:fa};}};f.exports=da;}),null);
__d('ListestandStreamTailStoryPlaceholderVisbilityTracker',['PageletEventConstsJS','PageletEventsHelper','onRectIsWithinViewport','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){'use strict';var h=null,i=null,j=null,k=false,l={},m={setPlaceholderElement:function o(p){if(!k){c('PageletEventsHelper').subscribeToPageletEvents(n);k=true;}h=p;i&&i.remove();i=c('onRectIsWithinViewport')(function(){return p.getBoundingClientRect();},function(q){if(!j&&q)j=c('performanceAbsoluteNow')();});},getStoryPlaceholderVisibleDuration:function o(p){return l[p]||0;}};function n(o,p){if(o.startsWith('hyperfeed_story')&&p===c('PageletEventConstsJS').DISPLAY_END){var q=c('performanceAbsoluteNow')();l[o]=j?q-j:0;if(h){var r=h.getBoundingClientRect().top,s=r-window.scrollTop;j=s<window.innerHeight&&s>0?q:null;}else j=null;}}f.exports=m;}),null);
__d('NewsFeedDedupeStoryController',['CSS','DOMQuery','queryThenMutateDOM'],(function a(b,c,d,e,f,g){var h={dedupe:function i(j,k){c('queryThenMutateDOM')(function(){var l={};return c('DOMQuery').scry(j,k).filter(function(m){var n=m.getAttribute('data-dedupekey');if(n&&c('CSS').shown(m)){if(l[n])return true;l[n]=true;}return false;});},function(l){l.forEach(function(m){c('CSS').hide(m);m.removeAttribute('style');});},'NewsFeedDedupeStoryControllerDedupe');}};f.exports=h;}),null);
__d('LitestandStreamTailLoader',['Arbiter','Bootloader','CSS','DOM','Event','ListestandStreamTailStoryPlaceholderVisbilityTracker','LitestandMessages','LitestandOffscreenController','LitestandStream','NavigationMessage','NewsFeedDedupeStoryController','OnVisible','Run','SubscriptionsHandler','ge','getElementPosition','getOrCreateDOMID','getUnboundedScrollPosition','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g){'use strict';var h=30000,i=function l(m){c('Bootloader').loadModules(["BanzaiODS"],function(n){n&&n.bumpEntityKey('feed_load',m);},'LitestandStreamTailLoader');};function j(l){this.$LitestandStreamTailPager1=function(n){this.$LitestandStreamTailPager5(n);}.bind(this);this.$LitestandStreamTailPager2=function(n){i('streamload_error.tail.transport');this.$LitestandStreamTailPager5(n);}.bind(this);this.streamConfig=babelHelpers['extends']({bufferPixels:1000,firstPagerScrollBuffer:100,maxTailRetries:2,checkIfPagerIsCloseOnAttach:false},l.streamConfig);this.pagerConfig=l.pagerConfig;this.storiesContainer=l.storiesContainer;this.pagerElement=l.pagerElement;this.cursor=l.cursor;this.previousCursors={};this.retryCounter=0;var m=c('DOM').find(this.pagerElement,'a');c('Event').listen(m,'click',this.$LitestandStreamTailPager3.bind(this));}j.prototype.$LitestandStreamTailPager3=function(event){this.$LitestandStreamTailPager4();event.preventDefault();};j.prototype.$LitestandStreamTailPager5=function(l){delete this.previousCursors[this.cursor];c('Arbiter').inform(c('LitestandMessages').STREAM_LOAD_ERROR,l);i('streamload_error.tail');if(this.lastRequestWasRetry)i('streamload_error.tail.retry');if(this.retryCounter<this.streamConfig.maxTailRetries){this.retryCounter++;this.$LitestandStreamTailPager4(true);i('streamload.tail.retry');c('Arbiter').inform(c('LitestandMessages').STREAM_LOAD_RETRY);return;}c('CSS').removeClass(this.pagerElement,'async_saving');};j.prototype.$LitestandStreamTailPager4=function(){var l=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.detach();c('CSS').addClass(this.pagerElement,'async_saving');var m=c('DOM').scry(c('LitestandStream').getStreamRoot(),c('LitestandStream').getStoriesSelector()).map(function(o){return o.getAttribute('data-cursor');}).filter(function(o){return o;}),n=this.cursor;if(!n&&m.length>0)n=m[m.length-1];if(this.previousCursors[n]){i('duplicate_cursor');c('Arbiter').inform(c('LitestandMessages').DUPLICATE_CURSOR_ERROR,n);}this.previousCursors[n]=n;this.lastRequestWasRetry=l;c('Bootloader').loadModules(["UIPagelet"],function(o){o.loadFromEndpoint('LitestandTailLoadPagelet',c('getOrCreateDOMID')(this.storiesContainer),{client_stories_count:m.length,cursor:n,feed_stream_id:c('LitestandStream').getFeedStreamID(),pager_config:this.pagerConfig,scroll_count:++this.numTailLoads,story_id:c('LitestandStream').getStoryID()},{append:true,automatic:true,crossPage:true,errorHandler:this.$LitestandStreamTailPager1,transportErrorHandler:this.$LitestandStreamTailPager2,usePipe:true});c('Arbiter').inform(c('LitestandMessages').STORIES_REQUESTED);}.bind(this),'LitestandStreamTailLoader');};j.prototype.$LitestandStreamTailPager6=function(l){var m=c('getUnboundedScrollPosition')(window).y;return m>l;};j.prototype.$LitestandStreamTailPager7=function(){this.detach();this.onVisibleListener=new (c('OnVisible'))(c('DOM').find(this.pagerElement,'a'),function(){this.$LitestandStreamTailPager4();}.bind(this),false,this.streamConfig.bufferPixels);};j.prototype.attach=function(){var l,m=this,n=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.detach();var o=c('getElementPosition')(this.pagerElement),p=c('getViewportDimensions')();c('CSS').removeClass(this.pagerElement,'async_saving');if(o.y<p.height||this.streamConfig.checkIfPagerIsCloseOnAttach&&o.y-this.streamConfig.bufferPixels<p.height){this.$LitestandStreamTailPager4();return;}if(n){var l=function(){var q=Math.min(m.streamConfig.firstPagerScrollBuffer,o.y-p.height);if(!m.$LitestandStreamTailPager6(q)){m.onScrollListener=c('Event').listen(window,'scroll',c('throttle')(function(){if(this.$LitestandStreamTailPager6(q))this.$LitestandStreamTailPager7();}.bind(m)));m.onResizeListener=c('Event').listen(window,'resize',c('throttle')(function(){var r=c('getViewportDimensions')();if(o.y<r.height+q)this.$LitestandStreamTailPager4();}.bind(m)));return {v:void 0};}}();if(typeof l==="object")return l.v;}this.$LitestandStreamTailPager7();};j.prototype.detach=function(){this.onResizeListener&&this.onResizeListener.remove();this.onScrollListener&&this.onScrollListener.remove();this.onVisibleListener&&this.onVisibleListener.remove();this.onResizeListener=null;this.onScrollListener=null;this.onVisibleListener=null;};j.prototype.remove=function(){this.detach();if(this.pagerElement)c('DOM').remove(this.pagerElement);};function k(){this.$LitestandStreamTailLoader1=function(){this.$LitestandStreamTailLoader3();this.subscriptionsHandler&&this.subscriptionsHandler.release();this.subscriptionsHandler=null;this.pager&&this.pager.remove();this.pager=null;c('Arbiter').inform(c('LitestandMessages').LEAVE_HOME);}.bind(this);this.$LitestandStreamTailLoader2=function(){this.$LitestandStreamTailLoader3();this.loadTimeout=setTimeout(this.$LitestandStreamTailLoader4,h);}.bind(this);this.$LitestandStreamTailLoader3=function(){this.loadTimeout&&clearTimeout(this.loadTimeout);}.bind(this);}k.prototype.$LitestandStreamTailLoader4=function(){i('streamload_timeout.tail');};k.prototype.createPager=function(l){this.pager&&this.pager.remove();var m=new j(l);m.attach(true);c('ListestandStreamTailStoryPlaceholderVisbilityTracker').setPlaceholderElement(m.pagerElement);this.pager=m;if(!this.subscriptionsHandler){this.subscriptionsHandler=new (c('SubscriptionsHandler'))();this.subscriptionsHandler.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.$LitestandStreamTailLoader1),c('Arbiter').subscribe(c('LitestandMessages').STORIES_REQUESTED,this.$LitestandStreamTailLoader2),c('Arbiter').subscribe([c('LitestandMessages').STORIES_INSERTED,c('LitestandMessages').STREAM_LOAD_ERROR],this.$LitestandStreamTailLoader3));c('Run').onLeave(this.$LitestandStreamTailLoader1);}};k.prototype.updatePager=function(l){var m=c('LitestandStream').getStreamRoot();if(m)c('NewsFeedDedupeStoryController').dedupe(m,c('LitestandStream').getStoriesSelector());if(this.pager&&l&&l.cursor){this.pager.cursor=l.cursor;this.pager.attach();}else i('update_tail_cursor_error');};k.prototype.removePager=function(){this.pager&&this.pager.remove();this.pager=null;};k.prototype.moreStoriesInserted=function(l){c('Arbiter').inform(c('LitestandMessages').STORIES_INSERTED,{substream_id:l});var m=c('ge')(l);if(m){c('LitestandOffscreenController').attachSubstream(m);if(this.pager&&this.pager.lastRequestWasRetry){this.pager.lastRequestWasRetry=false;this.pager.retryCounter=0;i('streamload.tail.retry.success');}}};f.exports=new k();}),null);
__d('PagesBrowserUtils',['Event','QE2Logger','tidyEvent'],(function a(b,c,d,e,f,g){var h='pages_browser_your_pages_tab_redesign',i='navItem_2530096808',j={init:function k(){var l=document.getElementById(i);c('tidyEvent')(c('Event').listen(l,'click',function(m){c('QE2Logger').logExposureForUser(h);}));}};f.exports=j;}),null);
__d('PubcontentFeedChainingControllerLoader',['Arbiter','AttachmentIssueDiversityShareConstants','AttachmentRelatedShareConstants','Bootloader','PageLikeConstants','SubscriptionsHandler','UFIUIEvents'],(function a(b,c,d,e,f,g){var h=[c('PageLikeConstants').LIKED,c('UFIUIEvents').ActionLinkLike,c('UFIUIEvents').ReactionButtonClicked,c('UFIUIEvents').Comment,c('UFIUIEvents').ActionAddComment,'composer/publish','LitestandComposer/publish',c('AttachmentRelatedShareConstants').ARTICLE_CLICK,c('AttachmentIssueDiversityShareConstants').ARTICLE_CLICK,c('AttachmentRelatedShareConstants').VIDEO_CLICK,c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,c('AttachmentRelatedShareConstants').FBVIDEO_VIEW,c('AttachmentRelatedShareConstants').GAME_CLICK,c('AttachmentRelatedShareConstants').PHOTO_CLICK,c('AttachmentRelatedShareConstants').EVENT_JOIN,c('AttachmentRelatedShareConstants').PRODUCT_CLICK,c('AttachmentRelatedShareConstants').MAP_CLICK,c('AttachmentRelatedShareConstants').ACTION_BUTTON_CLICK],i=null,j=false,k=null,l=null,m=null,n={init:function o(p,q){l=p;m=q;if(k){k.init({isLazy:false,srs:l,sdrs:m});}else this._startListening();},_startListening:function o(){if(i)return;i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Arbiter').subscribe(h,function(event,p){c('Arbiter').inform(event+'.lazy',p,c('Arbiter').BEHAVIOR_PERSISTENT);this._bootload();}.bind(this)));},_bootload:function o(){if(j)return;j=true;c('Bootloader').loadModules(["PubcontentFeedChainingControllerX"],function(p){i&&i.release();k=p;k.init({isLazy:true,srs:l,sdrs:m});},'PubcontentFeedChainingControllerLoader');}};f.exports=n;}),null);
__d('ReactFeedComposerXBody',['DOM','Event','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$ReactFeedComposerXBody2=i.root;this.$ReactFeedComposerXBody4=c('DOM').find(this.$ReactFeedComposerXBody2,'textarea');this.$ReactFeedComposerXBody1=c('DOM').find(this.$ReactFeedComposerXBody2,'input[type="hidden"]');this.$ReactFeedComposerXBody3=new (c('SubscriptionsHandler'))();this.$ReactFeedComposerXBody3.addSubscriptions(c('Event').listen(this.$ReactFeedComposerXBody4,'change',this.$ReactFeedComposerXBody5.bind(this)));}h.prototype.$ReactFeedComposerXBody5=function(i){this.$ReactFeedComposerXBody1.value=i.target.value;};f.exports=h;}),null);
__d('FeedAdsGapRuleViolationDetectionFix',['csx','Banzai','BanzaiODS','CSS','DataAttributeUtils','DOM','ge','isEmpty','$'],(function a(b,c,d,e,f,g,h){var i='ei',j='qid',k='gap rule violation',l='non violating ads gap',m='non violating ego gap',n='first position violation',o='not first position violation',p='feed load',q='first position invalidation',r='spacing invalidation',s='ego_pymk',t='ego_other',u=[],v=[],w=[],x=[],y=[],z={},aa={},ba={},ca=[],da={registerFeedStories:function ea(fa,ga){if(fa.containerID=='substream_0'){u=[];v=[];}var ha=c('ge')(fa.containerID);if(!ha)return;ba=fa.egoGapRule;ca=fa.invalidateEgo?fa.egoStories:{};z=babelHelpers['extends']({},fa.demoAdChecks,z);var ia=da._getAllStoriesFromContainer(ha);if(fa.isLoggingEnabled&&ia.length!==0)da._logFeedLoad();if(fa.isNewerStories){u=ia.concat(u);}else u=u.concat(ia);for(var ja in fa.minGaps)if(Object.prototype.hasOwnProperty.call(fa.minGaps,ja))aa[ja]=fa.minGaps[ja];if(c('isEmpty')(z)){if(fa.isLoggingEnabled)da._checkFirstPosViolation(fa,ha);if(fa.isLoggingEnabled||fa.isGapRuleInvalidationEnabled)da._checkGapRuleViolation(fa);}},_getAllStoriesFromContainer:function ea(fa){return c('DOM').scry(fa,"div._5jmm").map(da._convertStoryNodeToObject).filter(function(ga){return ga!==null;});},_convertStoryNodeToObject:function ea(fa){if(c('CSS').matchesSelector(fa,"._170y"))return null;var ga=fa.getAttribute('data-dedupekey');if(z[ga])return null;var ha=c('DOM').scry(fa,"div._hye"),ia=c('DOM').scry(fa,"li._170x"),ja=[];if(ha.length!==0){ja=ha.map(function(ma){return c('DataAttributeUtils').getDataFt(ma);}).filter(function(ma){return ma!==null;});}else if(ia.length!==0){ja=ia.map(function(ma){return c('DataAttributeUtils').getDataFt(ma);}).filter(function(ma){return ma!==null;});}else if(c('DataAttributeUtils').getDataFt(fa))ja=[c('DataAttributeUtils').getDataFt(fa)];if(!ja.length)return null;var ka=JSON.parse(ja[0]),la={dataFTArray:ja,dedupKey:ga,isSponsored:!!ka[i],isEgoPymk:ca[ga]===s,isEgoOther:ca[ga]===t,height:fa.offsetHeight,qid:parseInt(ka[j],10),nodeID:fa.id};return la;},_checkFirstPosViolation:function ea(fa,ga){if(u.length>0&&!u[0].isSponsored){var ha={qid:u[0].qid};if(fa.isLoggingEnabled&&!(u[0].dedupKey in y)){da._logNotFirstPosViolation(ha);y[u[0].dedupKey]=ha;}}while(u.length>0&&u[0].isSponsored){var ha={ftArray:u[0].dataFTArray,qid:u[0].qid,nodeid:u[0].nodeID,firstStoryType:fa.firstStoryType},ia=c('DOM').scry(ga,'.uiBoxRed')[0];if(ia){var ja=ia.textContent||ia.innerText;if(ja)ha.error_msg=ja;}if(fa.isLoggingEnabled&&!(u[0].dedupKey in x)){da._logFirstPosViolation(ha);x[u[0].dedupKey]=ha;}break;}},_getMinGap:function ea(fa,ga,ha){var ia=Math.min(fa?fa:Number.MAX_VALUE,ga?ga:Number.MAX_VALUE);return ia!==Number.MAX_VALUE?ia:ha;},_getStoryDedupKeys:function ea(){return u.map(function(fa){return fa.dedupKey;});},_getStoryDedupKeysJSONString:function ea(fa,ga){var ha=[];for(var ia=fa;ia<=ga;ia++)ha.push(u[ia].dedupKey);return JSON.stringify(ha);},_getIdxOfStoryToSwap:function ea(fa,ga){if(ga>=u.length-fa)return -1;for(var ha=fa+1;ha<u.length&&ga>0;ha++){if(!u[ha].isSponsored&&!u[ha].isEgoPymk&&!u[ha].isEgoOther){ga--;}else return -1;if(ga===0)return ha;}return -1;},_checkGapRuleViolation:function ea(fa){var ga=null,ha=null,ia=null;for(var ja=0;ja<u.length;ja++){var ka=u[ja],la=c('ge')(ka.nodeID);if(!la||!c('CSS').shown(la)){u.splice(ja,1);continue;}if(ka.isSponsored){var ma=false,na=false;if(ha!==null){var oa=ja-ha,pa=null,qa=null;if(ga===ha){qa=da._getMinGap(aa[ia.dedupKey],aa[ka.dedupKey],fa.defaultMinGap);}else qa=da._getMinGapBetweenStories(ia,ka);var ra=null;if(oa<qa){pa=k;ra=ha;}else{pa=l;ra=ga;}if(fa.isLoggingEnabled)if(!(ka.dedupKey in v)||v[ka.dedupKey].event_type!==pa){da._logGapEvent(pa,ra,ja);v[ka.dedupKey]={event_type:pa};}if(fa.isGapRuleInvalidationEnabled&&pa==k){var sa=-1;if(fa.isSwapOnGapRuleViolationEnabled)sa=da._getIdxOfStoryToSwap(ja,qa-oa);if(sa>0){da._shiftAdOrEgoBelowOrganicStory(ka.nodeID,u[sa].nodeID);var ta=u[ja];u.splice(ja,1);u.splice(sa,0,ta);if(fa.isLoggingEnabled){var ua={ft:u[sa].dataFTArray[0],dist:sa-ja,qid:u[sa].qid,event_type:'ad_swap'};c('Banzai').post('feed_ads_gap_rule_violation',ua);}na=true;}else if(fa.isGapRuleInvalidationEnabled){da._invalidateGapRuleViolatedAd(ia,ka);ma=true;u.splice(ja--,1);}}}if(!ma&&!na){ga=ja;ha=ja;ia=ka;}}if(fa.invalidateEgo&&(ka.isEgoPymk||ka.isEgoOther)){var va=false;if(ha!==null){var wa=ja-ha,xa=da._getMinGapBetweenStories(ia,ka);if(wa<xa){va=true;var ya=-1,za=xa-wa,ab=ja+1;for(;ab<u.length;ab++){if(u[ab].isSponsored||u[ab].isEgoPymk||u[ab].isEgoOther){break;}else za--;if(za===0){ya=ab;break;}}if(ya>0){da._swapAndLogEgo(ja,ab);}else{da._invalidateAndLogEgo(ja);ja--;}}else if(fa.shouldLogEgo&&!w[ka.dedupKey]){w[ka.dedupKey]=true;da._logGapEvent(m,ha,ja);}}if(!va){ha=ja;ia=ka;}}}},_getMinGapBetweenStories:function ea(fa,ga){var ha='';if(fa.isSponsored||fa.isEgoOther){ha='ad';}else if(fa.isEgoPymk){ha='pymk';}else return 0;var ia='';if(ga.isSponsored||ga.isEgoOther){ia='ad';}else if(ga.isEgoPymk){ia='pymk';}else return 0;return ba[ha+'_'+ia];},_swapAndLogEgo:function ea(fa,ga){da._shiftAdOrEgoBelowOrganicStory(u[fa].nodeID,u[ga].nodeID);var ha=u[fa];u.splice(fa,1);u.splice(ga,0,ha);c('BanzaiODS').bumpEntityKey('feed_ego_invalidation','swap');},_invalidateAndLogEgo:function ea(fa){var ga=c('ge')(u[fa].nodeID);ga&&c('CSS').hide(ga);u.splice(fa,1);c('BanzaiODS').bumpEntityKey('feed_ego_invalidation','invalidate');},_logFirstPosViolation:function ea(fa){var ga={ft:fa.ftArray[0],event_type:n,intValues:{qid:fa.qid},first_story_type:fa.firstStoryType};if(fa.error_msg)ga.error_msg=fa.error_msg;c('Banzai').post('feed_ads_gap_rule_violation',ga);},_logNotFirstPosViolation:function ea(fa){var ga={event_type:o,intValues:{qid:fa.qid}};if(fa.error_msg)ga.error_msg=fa.error_msg;c('Banzai').post('feed_ads_gap_rule_violation',ga);},_logGapEvent:function ea(fa,ga,ha){if(ga===null)return;var ia=u[ga],ja=u[ha],ka=0;for(var la=ga+1;la<ha;la++)ka+=u[la].height;var ma={ft_A:ia.dataFTArray[0],ft_B:ja.dataFTArray[0],event_type:fa,intValues:{dist:ha-ga,pdist:ka,pos:ha+1,qid_A:ia.qid,qid_B:ja.qid},strValues:{previous_unit_type:da._getUnitTypeForLogging(ia),unit_type:da._getUnitTypeForLogging(ja)},dedup_keys:da._getStoryDedupKeysJSONString(ga,ha)};c('Banzai').post('feed_ads_gap_rule_violation',ma);},_getUnitTypeForLogging:function ea(fa){if(fa.isSponsored){return 'ad';}else if(fa.isEgoPymk){return 'pymk';}else if(fa.isEgoOther)return 'ego_other';return null;},_logFeedLoad:function ea(){var fa={event_type:p};c('Banzai').post('feed_ads_gap_rule_violation',fa);},_invalidateFirstPosAd:function ea(fa){c('CSS').hide(c('$')(fa.nodeid));var ga={ft_array:fa.ftArray,event_type:q};c('Banzai').post('feed_ads_gap_rule_violation',ga);},_invalidateGapRuleViolatedAd:function ea(fa,ga){var ha=c('ge')(ga.nodeID);ha&&c('CSS').hide(ha);var ia={ft_array_A:fa.dataFTArray[0],ft_array_B:ga.dataFTArray[0],event_type:r};c('Banzai').post('feed_ads_gap_rule_violation',ia);},_shiftAdOrEgoBelowOrganicStory:function ea(fa,ga){var ha=c('ge')(fa),ia=c('ge')(ga);ha&&ia&&c('DOM').insertAfter(ia,ha);}};f.exports=da;}),null);
__d('StoryPositionTracking',['csx','DataAttributeUtils','DOM','ge'],(function a(b,c,d,e,f,g,h){var i="._5jmm",j=0,k={registerNewStories:function l(m){if(m=='substream_0')j=0;c('DOM').scry(c('ge')(m),i).forEach(function(n){var o=JSON.parse(c('DataAttributeUtils').getDataFt(n));if(o){o.insertion_position=j++;c('DataAttributeUtils').setDataFt(n,JSON.stringify(o));}});}};f.exports=k;}),null);
__d('FbFeedAttachmentRelatedShare',['csx','Arbiter','AttachmentIssueDiversityShareConstants','AttachmentRelatedShareConstants','DOMQuery','Event','tidyEvent'],(function a(b,c,d,e,f,g,h){var i={loadRelatedAttachment:function j(k,l){c('tidyEvent')(c('Event').listen(k,'click',function(){c('Arbiter').inform(c('AttachmentRelatedShareConstants').ARTICLE_CLICK,{attachment:k,global_share_id:l});}));},loadRelatedGameAttachment:function j(k,l){c('tidyEvent')(c('Event').listen(k,'click',function(){c('Arbiter').inform(c('AttachmentRelatedShareConstants').GAME_CLICK,{attachment:k,global_share_id:l});}));},loadRelatedAttachmentForStream:function j(k){i._loadChainableAttachmentForStreamImpl(k,c('AttachmentRelatedShareConstants').ARTICLE_CLICK);},loadIssueDiversityAttachmentForStream:function j(k){i._loadChainableAttachmentForStreamImpl(k,c('AttachmentIssueDiversityShareConstants').ARTICLE_CLICK);},_loadChainableAttachmentForStreamImpl:function j(k,l){var m=function n(event,o){var p=event.getTarget();if(p.getAttribute('target')!=='_blank')return;var q="^div._5pbx",r="^div._5pc9",s=c('DOMQuery').scry(p,q)[0]||c('DOMQuery').scry(p,r)[0];if(!s)return;c('Arbiter').inform(l,{attachment:s,global_share_id:0,link_url:p.getAttribute('href'),is_right_click:o});};c('tidyEvent')(c('Event').listen(k,'click',function(event){m(event,false);}));c('tidyEvent')(c('Event').listen(k,'mousedown',function(event){if(event.which==3||event.button==2)m(event,true);}));}};f.exports=i;}),null);
__d('FbFeedViewportTracking',['csx','Arbiter','LitestandMessages','LitestandStream','StreamViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n,o){return c('StreamViewportTracking').getBehavior(n,c('LitestandStream').getStreamRoot(),o);}i=babelHelpers.inherits(l,c('StreamViewportTracking'));j=i&&i.prototype;l.prototype.init=function(n){j.init.call(this,n);this.invalidateAllStoriesCache=this.invalidateAllStoriesCache.bind(this);this.stopTimeTrackingData=this.updateTimeTrackingData.bind(this,true);this.subscriptions.addSubscriptions(c('Arbiter').subscribe(c('LitestandMessages').STORIES_INSERTED,this.invalidateAllStoriesCache),c('Arbiter').subscribe(c('LitestandMessages').LEAVE_HOME,this.stopTimeTrackingData));};l.prototype.getSessionID=function(){return c('LitestandStream').isReady()?c('LitestandStream').getFeedStreamID():null;};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this);};function l(){i.apply(this,arguments);}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n,"._5jmm"));o.init(n);return o;});m.init=m.factory.bind(m);f.exports=m;}),null);
__d("XDOMScannerResultsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ascend_mr_no\/",{});}),null);