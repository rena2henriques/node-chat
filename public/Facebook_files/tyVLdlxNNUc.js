if (self.CavalryLogger) { CavalryLogger.start_js(["qAd4o"]); }

__d("SearchEntityModuleServerConstants",[],(function a(b,c,d,e,f,g){f.exports={TYPE_TO_BROWSE_TYPE:{user:"browse_type_user",page:"browse_type_page",group:"browse_type_group",application:"browse_type_application",place:"browse_type_place",event:"browse_type_event"},TYPE_TO_SERP_PATH:{user:"\/search\/people\/",page:"\/search\/pages\/",group:"\/search\/groups\/",application:"\/search\/apps\/",place:"\/search\/places\/",event:"\/search\/events\/"},RESULT_TYPE_TO_MODULE_ROLE:{user:"ENTITY_USER",page:"ENTITY_PAGES",group:"ENTITY_GROUPS",application:"ENTITY_APPS",place:"ENTITY_PLACES",event:"ENTITY_EVENTS"},TYPE_TO_DISPLAY_STYLE:{user:"user_row",page:"page_row",group:"group_row",application:"app_row",place:"place_row",event:"event_row"},WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE:"21.",SEARCH_RESULTS_TRACKABLE:"12.",SEE_MORE_LOGGING:{MODULE_FOOTER_ITEM_TYPE:"module_footer",MODULE_HEADER_ITEM_TYPE:"module_header"},MODULE_STYLE:{SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},BROWSE_RESULTS_PAGE_REF:"br_rs",RESULT_TYPE_TO_BROWSE_EDGE:{user:"keywords_users",page:"keywords_pages",group:"keywords_groups",application:"keywords_apps",place:"keywords_places",event:"keywords_events"},MTOUCH_BEM_CLICK_TYPE:"result",BEM_UNIT_ID_CLICK_TYPE:"graph_search_results_item_tapped",SERP_SESSION_ID:"ssid",BROWSE_EDGE_KEYWORDS_SEARCH:"keywords_search",MTOUCH_SEARCH_REFID:46,BROWSE_NAV_SOURCE_CONTENT_FILTERS:"content_filter"};}),null);
__d('BrowseClientEventLogger',['Banzai','SearchLoggingOptions'],(function a(b,c,d,e,f,g){'use strict';var h='browse_client_event_session',i='search_www_click_error',j='21.',k={logData:function l(event,m,n){var o=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];if(!event||!m)return;o.event=event;o.client_time=Math.floor(Date.now());o.client_time_2=Date.now()/1000;o.session_id=m;o.vertical=n;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(m)!==-1)return;var p=o.event==='click'&&o.clicked_href!=null&&c('SearchLoggingOptions').signalLinkClicks;c('Banzai').post(h,[o],{delay:0,retry:true,signal:p});},logClick:function l(m){m.gt.event='click';this.maybeLogVisiblityEvent(m,true);},maybeLogClientViewEvent:function l(m){m.event='client_view';this.maybeLogVisiblityEvent(m);},maybeLogVisiblityEvent:function l(m){var n=arguments.length<=1||arguments[1]===undefined?false:arguments[1],o=null;if(n){o=m;m=m.gt;}if(!m||!m.xt||m.xt.indexOf(j)!==0){if(n)c('Banzai').post(i,[o],{delay:0,retry:true});return;}var p=JSON.parse(m.xt.substring(3));if(n){p.click_type=m.click_type;p.tn=m.tn;p.clicked_href=m.clicked_href;if(o&&o.bt&&o.bt.ct=='feedback'){p.feedback_score=o.bt.feedback_score;p.feedback_type=o.bt.feedback_type;}}var event=m.event;if(p.display_style==='context_hscroll'&&(event==='client_view'||event==='vpvd'||event==='visible'||event==='hidden'))return;if(event==='vpvd'){if(!m.ft)return;p.vpvd_time=m.ft.vpvd_time_delta;}this.logData(event,p.session_id,p.vertical,p);},logImpression:function l(m){m.event='impression';this.maybeLogVisiblityEvent(m);}};f.exports=k;}),null);
__d("XBrowseLoggerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/browse\/logger\/",{data:{type:"HackType",required:true}});}),null);
__d('BrowseLogger',['AsyncRequest','Banzai','Run','XBrowseLoggerController','mapObject'],(function a(b,c,d,e,f,g){var h='browse',i='browse_aggr',j=null,k={},l={},m=function v(w){if(w==null)return 'undefined';var x=w.tagName.toLowerCase(),y=w.id,z=w.className;if(y)x+='#'+y;if(z)x+='.'+z;return x;};function n(){j=null;k={};l={};}function o(v){return Object.assign(v,{clientSessionID:j});}function p(v){c('Banzai').post(h,o(v));}function q(v){var w=c('XBrowseLoggerController').getURIBuilder().setHackType('data',o(v)).getURI();new (c('AsyncRequest'))().setURI(w).send();}function r(){if(j===null)return;l.aggregated=k;c('Banzai').post(i,o(l));n();}function s(v){k[v]=(k[v]||0)+1;}function t(v){Object.assign(l,v);}c('Run').onUnload(r);var u={newSession:function v(){r();j=Math.random().toString();if(!l.start_time)l.start_time=Math.round(Date.now()/1000);},logResultClick:function v(w,x,y,z,aa){var ba=arguments.length<=5||arguments[5]===undefined?null:arguments[5],ca={action:'result_click',click_type:w.ct||'result',section:w.section||'unknown',id:w.id||-1,path:w.path||'unknown',rank:w.rank||0,referrer:w.referrer||'unknown',result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time||null,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params||null,typeahead_sid:w.typeahead_sid||'',source_module_role:w.source_module_role||'',result_title:w.result_title||'unknown',result_href:w.result_href||'unknown',result_semantic:w.result_semantic||'unknown',type:w.experience_type||'unknown',click_action:y||null,sub_id:w.sub_id||null,owner_id:w.owner_id||null,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',is_headline:w.is_headline||false,qid:x.qid||0,mf_story_key:x.mf_story_key||0,module:w.module||'NONE',view:w.view||null,clicked_href:aa||null,bt_key:ba};if(x.tn)ca.tn=x.tn;if(w.cst)ca.click_subtype=w.cst;s('result_click_'+ca.click_type);t({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});if(ba){q(ca);}else p(ca);if(!w.id&&w.browse_location!=='browse_location:mf_trending'&&!ba)p({action:'logging_error',click_action:y,click_type:ca.click_type,attributes:JSON.stringify(w),element:c('mapObject')({srcElement:z.srcElement,target:z.target,toElement:z.toElement},m),event:{button:z.button,clientX:z.clientX,clientY:z.clientY,ctrlKey:z.ctrlKey,layerX:z.layerX,layerY:z.layerY,offsetX:z.offsetX,offsetY:z.offsetY,pageX:z.pageX,pageY:z.pageY,screenX:z.screenX,screenY:z.screenY,shiftKey:z.shiftKey,type:z.type,x:z.x,y:z.y}});},logControlsClick:function v(w,x){var y={action:'controls_click',click_type:x,path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,filter_name:w.name||'unknown',typeahead_sid:w.typeahead_sid||'',result_type:w.result_type||'unknown',type:w.experience_type||'unknown'};if(w.cst)y.click_subtype=w.cst;s('controls_click_'+x);t({path:y.path,referrer:y.referrer,session_id:y.session_id,typeahead_sid:y.typeahead_sid});p(y);},logResultHover:function v(w,x){var y=arguments.length<=2||arguments[2]===undefined?null:arguments[2],z={action:'result_hover',id:w.id||0,path:w.path||'unknown',rank:w.rank||null,result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time||null,time_elapsed:x||null,typeahead_sid:w.typeahead_sid||0,type:w.experience_type||'unknown',module:w.module||'NONE',view:w.view||null,bt_key:y};s('result_hover');t({path:z.path,session_id:z.session_id,typeahead_sid:z.typeahead_sid});if(y){q(z);}else p(z);},logScroll:function v(w,x,y,z){var aa={action:'scroll',encoded_query:w,fragments:x,position:y,session_id:z||0};p(aa);},logNUXStep:function v(w){var x={action:'nux_step',step:w};p(x);},logDisambiguationImpression:function v(w,x,y,z,aa){var ba={action:'disambiguation_imp',ids:z,name:w,path:y,type:x,typeahead_sid:aa};p(ba);},logDisambiguationClick:function v(w,x,y,z,aa,ba){var ca={action:'disambiguation_clk',id:aa,index:z,name:w,path:y,type:x,typeahead_sid:ba};p(ca);},logDYMLinkClick:function v(w,x,y,z){var aa={action:'dym_click',path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||'',type:w.experience_type||'unknown',click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',module:w.module||'NONE',view:w.view,dym_confidence:w.dym_confidence||'NONE',dym_query:w.dym_query||'',dym_correction:w.dym_correction||'',dym_clicked:w.dym_clicked||''};p(aa);}};f.exports=u;}),null);
__d('BrowseClickLogger',['BrowseClientEventLogger','BrowseLogger','DOMQuery','Event','Parent','collectDataAttributes'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j.target,m=c('collectDataAttributes')(l,['bt','ft','gt'],['data-bt-key']);if(m.bt&&m.bt.path)m.bt.path+=document.location.search;m.gt.tn=m.ft.tn;m.gt.click_type=m.bt.ct||'result';var n=c('Parent').byAttribute(l,'href'),o=n!=null?n.href:null;m.gt.clicked_href=o;c('BrowseClientEventLogger').logClick(m);if(c('DOMQuery').scry(l,'^.recourse-link').length>0){if(k==='left_click')c('BrowseLogger').logDYMLinkClick(m.bt,m.ft,k,j);}else c('BrowseLogger').logResultClick(m.bt,m.ft,k,j,o,m.normal['data-bt-key']);}var i={init:function j(k){c('Event').listen(k,'mousedown',function(l){var m=l.button===2||l.which===3?'right_click':'left_click';if(l.shiftKey)m+='_shift';if(l.altKey)m+='_alt';if(l.metaKey||l.ctrlKey)m+='_ctrl';h(l,m);}.bind(this));},logClick:h};f.exports=i;}),null);