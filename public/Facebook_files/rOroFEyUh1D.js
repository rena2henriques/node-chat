if (self.CavalryLogger) { CavalryLogger.start_js(["kRaLf"]); }

__d("SubscribeStatuses",[],(function a(b,c,d,e,f,g){f.exports={CANNOT_SUBSCRIBE:"CANNOT_SUBSCRIBE",IS_SUBSCRIBED:"IS_SUBSCRIBED",CAN_SUBSCRIBE:"CAN_SUBSCRIBE"};}),null);
__d("CameraPostDirectMarkSeenMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1464562780232002";};j.getQueryID=function(){"use strict";return "635674183299513";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('CameraPostLoggingEvents',[],(function a(b,c,d,e,f,g){'use strict';f.exports={SEND_REPLY_ATTEMPT:'sendReplyMutationAttempt',SEND_REPLY_SUCCESS:'sendReplyMutationSuccess',SEND_REPLY_FAIL:'sendReplyMutationFail',THREAD_VIEWED:'view',THREAD_MARK_SEEN_ATTEMPT:'markSeenMutationAttempt',THREAD_MARK_SEEN_SUCCESS:'markSeenMutationSuccess',THREAD_MARK_SEEN_FAIL:'markSeenMutationFail',DIRECT_VIEWER_CLICKOUT:'clickout',STORIES_VIEWER_CLICKOUT:'stories_clickout',BUCKET_CHANGED:'bucketChanged',BUCKET_SELECTED_FROM_TRAY:'bucketSelectedFromTray',PAUSE_TOGGLE_ON:'pauseToggleOn',PAUSE_TOGGLE_OFF:'pauseToggleOff',AUTO_PROGRESSION:'autoProgression'};}),null);
__d("CameraPostQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1490626741017102";};j.getQueryID=function(){"use strict";return "467657313599577";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("CameraPostRepliesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1225697970891964";};j.getQueryID=function(){"use strict";return "1018391138296424";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("CameraPostReplyMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1307876075956970";};j.getQueryID=function(){"use strict";return "473441429653987";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("CameraPostUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1652248708148952";};j.getQueryID=function(){"use strict";return "143159039576179";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('CameraPostWWWTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CameraPostWWWLoggerConfig',this.$CameraPostWWWTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CameraPostWWWLoggerConfig',this.$CameraPostWWWTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$CameraPostWWWTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$CameraPostWWWTypedLogger1=babelHelpers['extends']({},this.$CameraPostWWWTypedLogger1,j);return this;};h.prototype.setCameraPostType=function(j){this.$CameraPostWWWTypedLogger1.camera_post_type=j;return this;};h.prototype.setEventDetails=function(j){this.$CameraPostWWWTypedLogger1.event_details=j;return this;};h.prototype.setEventType=function(j){this.$CameraPostWWWTypedLogger1.event_type=j;return this;};h.prototype.setHasMyStory=function(j){this.$CameraPostWWWTypedLogger1.has_my_story=j;return this;};h.prototype.setHasNewContent=function(j){this.$CameraPostWWWTypedLogger1.has_new_content=j;return this;};h.prototype.setMediaID=function(j){this.$CameraPostWWWTypedLogger1.media_id=j;return this;};h.prototype.setMediaType=function(j){this.$CameraPostWWWTypedLogger1.media_type=j;return this;};h.prototype.setNewStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.new_stories_in_tray=j;return this;};h.prototype.setStoriesInTray=function(j){this.$CameraPostWWWTypedLogger1.stories_in_tray=j;return this;};h.prototype.setStoryAction=function(j){this.$CameraPostWWWTypedLogger1.story_action=j;return this;};h.prototype.setStoryID=function(j){this.$CameraPostWWWTypedLogger1.story_id=j;return this;};h.prototype.setStoryOwnerFbid=function(j){this.$CameraPostWWWTypedLogger1.story_owner_fbid=j;return this;};h.prototype.setStoryOwnerType=function(j){this.$CameraPostWWWTypedLogger1.story_owner_type=j;return this;};h.prototype.setStorySize=function(j){this.$CameraPostWWWTypedLogger1.story_size=j;return this;};h.prototype.setThreadID=function(j){this.$CameraPostWWWTypedLogger1.thread_id=j;return this;};h.prototype.setViewerID=function(j){this.$CameraPostWWWTypedLogger1.viewer_id=j;return this;};h.prototype.setViewers=function(j){this.$CameraPostWWWTypedLogger1.viewers=j;return this;};h.prototype.setWebSurface=function(j){this.$CameraPostWWWTypedLogger1.web_surface=j;return this;};var i={camera_post_type:true,event_details:true,event_type:true,has_my_story:true,has_new_content:true,media_id:true,media_type:true,new_stories_in_tray:true,stories_in_tray:true,story_action:true,story_id:true,story_owner_fbid:true,story_owner_type:true,story_size:true,thread_id:true,viewer_id:true,viewers:true,web_surface:true};f.exports=h;}),null);
__d('CameraPostGraphQLAPI',['WebGraphQL','CameraPostReplyMutationWebGraphQLMutation','CameraPostDirectMarkSeenMutationWebGraphQLMutation','CameraPostQueryWebGraphQLQuery','CameraPostRepliesQueryWebGraphQLQuery','CameraPostUserQueryWebGraphQLQuery','CameraPostWWWTypedLogger','CameraPostLoggingEvents','idx','uniqueID'],(function a(b,c,d,e,f,g){'use strict';f.exports={sendDirectReply:function h(i,j,k,l){var m=c('uniqueID')(),n={client_mutation_id:m,actor_id:i,thread_id:j,message:k},o=k.length;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_ATTEMPT).setEventDetails(o).setViewerID(i).setThreadID(j).log();return c('WebGraphQL').exec(new (c('CameraPostReplyMutationWebGraphQLMutation'))({input:n})).then(function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_SUCCESS).setEventDetails(o).setViewerID(i).setThreadID(j).log();return p;},function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').SEND_REPLY_FAIL).setEventDetails(o).setViewerID(i).setThreadID(j).log();return p;});},loadThreadFullInformation:function h(i,j){return c('WebGraphQL').exec(new (c('CameraPostQueryWebGraphQLQuery'))({thread_id:j})).then(function(k){var l,m,n=(l=k)!=null?(l=l.node)!=null?l.camera_post_type:l:l,o=(m=k)!=null?(m=m.node)!=null?m.viewer_replays_left:m:m;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(n).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_VIEWED).setEventDetails(o).setViewerID(i).setThreadID(j).log();return k;},function(k){return k;});},loadUserInfo:function h(){return c('WebGraphQL').exec(new (c('CameraPostUserQueryWebGraphQLQuery'))());},loadRepliesForThread:function h(i){return c('WebGraphQL').exec(new (c('CameraPostRepliesQueryWebGraphQLQuery'))({thread_id:i}));},markThreadSeen:function h(i,j,k,l,m){var n={client_mutation_id:c('uniqueID')(),actor_id:i,thread_id:j,last_message_seen_id:k},o=new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_ATTEMPT).setViewerID(i).setThreadID(j);if(m)o=o.setEventDetails(m);o.log();return c('WebGraphQL').exec(new (c('CameraPostDirectMarkSeenMutationWebGraphQLMutation'))({input:n})).then(function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_SUCCESS).setEventDetails(m).setViewerID(i).setThreadID(j).log();return p;},function(p){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(l).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').THREAD_MARK_SEEN_FAIL).setEventDetails(m).setViewerID(i).setThreadID(j).log();return p;});}};}),null);
__d('CameraPostMuteButton.react',['ix','cx','React','fbglyph','AbstractButton.react','Image.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$CameraPostMuteButton2=function(r){r.preventDefault();r.stopPropagation();this.props.onMouseUp();}.bind(this),n;}l.prototype.$CameraPostMuteButton1=function(m){m.preventDefault();m.stopPropagation();};l.prototype.render=function(){var m=h("115742"),n=h("115739");return c('React').createElement(c('AbstractButton.react'),{className:"_tqj",tabIndex:'0',onMouseDown:this.$CameraPostMuteButton1,onMouseUp:this.$CameraPostMuteButton2,image:c('React').createElement(c('Image.react'),{src:this.props.muted?m:n}),labelIsHidden:true,label:this.props.muted?'Muted':'Unmuted'});};f.exports=l;}),null);
__d("CameraPostTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIRECT:"DIRECT",GROUP_DIRECT:"GROUP_DIRECT",STORY:"STORY",STORY_NUX:"STORY_NUX",DIRECT_NUX:"DIRECT_NUX",LIVE_STORY:"LIVE_STORY",PAGE_STORY:"PAGE_STORY",EVENT_STORY:"EVENT_STORY",PROMOTION_STORY:"PROMOTION_STORY"});}),null);
__d('FBStoriesTimer',['EventEmitter','VideoPlayerController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=30,k=1000;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(m){i.constructor.call(this);this.$FBStoriesTimer8=function(){if(this.$FBStoriesTimer7){this.$FBStoriesTimer5=this.$FBStoriesTimer7.getCurrentTimePosition()*k;this.$FBStoriesTimer1=this.$FBStoriesTimer7.getPlaybackDuration()*k;}else this.$FBStoriesTimer5+=j;var r=this.$FBStoriesTimer2+(this.$FBStoriesTimer3-this.$FBStoriesTimer2)*(this.$FBStoriesTimer5/this.$FBStoriesTimer1),s=Math.min(this.$FBStoriesTimer3,r);this.emit('tick',s);if(s===this.$FBStoriesTimer3){this.emit('done');if(this.$FBStoriesTimer6)clearTimeout(this.$FBStoriesTimer6);}else{var t=this.$FBStoriesTimer1-this.$FBStoriesTimer5,u=Math.min(t,j);this.$FBStoriesTimer6=setTimeout(this.$FBStoriesTimer8,u);}}.bind(this);var n=m.duration,o=m.vpc,p=m.start,q=m.end;this.$FBStoriesTimer1=n;this.$FBStoriesTimer2=p===undefined?0:p;this.$FBStoriesTimer3=q===undefined?100:q;this.$FBStoriesTimer7=o;this.$FBStoriesTimer4=false;this.$FBStoriesTimer5=0;}l.prototype.getTimeElapsed=function(){return this.$FBStoriesTimer5;};l.prototype.setTimeElapsed=function(m){this.$FBStoriesTimer5=m;};l.prototype.onDone=function(m){return this.addListener('done',m);};l.prototype.onTick=function(m){return this.addListener('tick',function(n){return m(n);});};l.prototype.pause=function(){clearTimeout(this.$FBStoriesTimer6);};l.prototype.play=function(){this.$FBStoriesTimer8();};l.prototype.stop=function(){clearTimeout(this.$FBStoriesTimer6);};f.exports=l;}),null);
__d('FBStoriesActionTypes',[],(function a(b,c,d,e,f,g){var h={LOAD:'FB_STORIES.LOAD',LOADING:'FB_STORIES.LOADING',LOADED:'FB_STORIES.LOADED',LOADED_ERROR:'FB_STORIES.LOADED_ERROR',RESET_LOCAL_SEEN_HISTORY:'FB_STORIES.RESET_LOCAL_SEEN_HISTORY',SELECTED_BUCKET_ID_CHANGED:'FB_STORIES.SELECTED_BUCKET_ID_CHANGED',SET_ALL_BUCKETS_VIEWED:'FB_STORIES.SET_ALL_BUCKETS_VIEWED',SET_UNSEEN_MODE:'FB_STORIES.SET_UNSEEN_MODE',SELECTED_THREAD_IDX_CHANGED:'FB_STORIES.SELECTED_THREAD_IDX_CHANGED',SELECTED_THREAD_PERCENT_DONE:'FB_STORIES.SELECTED_THREAD_PERCENT_DONE',SUBSCRIPTION_BUCKET_UPDATE:'FB_STORIES.SUBSCRIPTION_BUCKET_UPDATE',UPDATE_THREAD_SEEN_OPTIMISTIC:'FB_STORIES.UPDATE_THREAD_SEEN_OPTIMISTIC',UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:'FB_STORIES.UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC',DELETE_USER_THREAD_FROM_BUCKET:'FB_STORIES.DELETE_USER_THREAD_FROM_BUCKET'};f.exports=h;}),null);
__d('FBStoriesDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('friendsBucketSorter',[],(function a(b,c,d,e,f,g){'use strict';function h(o,p){if(i(o,p))return j(o)?-1:1;if(k(o,p))return l(o)?-1:1;return n(o)>=n(p)?-1:1;}function i(o,p){return m(o,p,j);}function j(o){return o.unseen_count>0;}function k(o,p){return m(o,p,l);}function l(o){return o.threads.length>0;}function m(o,p,q){var r=q(o),s=q(p);return r!=s;}function n(o){return o.ranking.score;}f.exports=h;}),null);
__d('FBStoriesStore',['CameraPostTypes','CameraPostWWWTypedLogger','FBStoriesActionTypes','FBStoriesDispatcher','FluxReduceStore','LoadObject','SubscribeStatuses','idx','Map','friendsBucketSorter'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {data:c('LoadObject').empty(),selectedBucketIndex:-1,currentThreadIndex:-1,currentThreadPercentDone:0,unseenMode:false,allBucketsViewed:false,lastViewedThreadIndexForBucket:new (c('Map'))()};};j.prototype.reduce=function(k,l){var m,n=this,o,p,q,r,s,t;switch(l.type){case c('FBStoriesActionTypes').LOADING:return babelHelpers['extends']({},k,{data:c('LoadObject').loading()});case c('FBStoriesActionTypes').LOADED:var u=l.data,v=((p=u)!=null?(p=p.me)!=null?(p=p.friends_stories_buckets)!=null?p.nodes:p:p:p)||[];v=v.reduce(function(ka,la){var ma,na=this.$FBStoriesStore1(la),oa=la.camera_post_type===c('CameraPostTypes').STORY_NUX,pa=((ma=la)!=null?(ma=ma.camera_post_bucket_owner)!=null?ma.subscribe_status:ma:ma)===c('SubscribeStatuses').IS_SUBSCRIBED,qa=!oa&&pa&&na&&na.length>0||this.isBucketLive(la);if(qa)ka.push(la);return ka;}.bind(this),[]);var w=((q=u)!=null?(q=q.me)!=null?(q=q.story_bucket)!=null?q.nodes:q:q:q)||[],x=w[0],y={userName:(r=u)!=null?(r=r.me)!=null?r.name:r:r,userID:(s=u)!=null?(s=s.me)!=null?s.id:s:s,userProfilePic:(t=u)!=null?(t=t.me)!=null?t.profile_picture:t:t};v.sort(c('friendsBucketSorter'));var z=this.$FBStoriesStore1(x),aa=z.length>0,ba=v.reduce(function(ka,la){return la.unseen_count>0?ka+1:ka;},0),ca=ba,da=v.length;new (c('CameraPostWWWTypedLogger'))().setStoryAction('storyTrayLoad').setHasMyStory(aa).setNewStoriesInTray(ca).setStoriesInTray(da).log();return babelHelpers['extends']({},k,{data:c('LoadObject').withValue({userInfo:y,userBucketData:x,friendsBucketData:v})});case c('FBStoriesActionTypes').SUBSCRIPTION_BUCKET_UPDATE:{var m=function(){var ka=l.bucketData,la=ka.id,ma=n.getFriendsBucketData(),na=false,oa=ma.reduce(function(pa,qa){if(qa.id===la){na=true;var ra=this.$FBStoriesStore1(ka);if(ra.length>0)pa.push(ka);}else pa.push(qa);return pa;}.bind(n),[]);if(!na)oa=[ka].concat(ma);oa.sort(c('friendsBucketSorter'));return {v:babelHelpers['extends']({},k,{data:c('LoadObject').withValue({userBucketData:n.getUserBucketData(),userInfo:n.getUserInfo(),friendsBucketData:oa})})};}();if(typeof m==="object")return m.v;}case c('FBStoriesActionTypes').LOADED_ERROR:return babelHelpers['extends']({},k,{data:c('LoadObject').withError(new Error(l.error.errorSummary))});case c('FBStoriesActionTypes').RESET_LOCAL_SEEN_HISTORY:return babelHelpers['extends']({},k,{lastViewedThreadIndexForBucket:new (c('Map'))()});case c('FBStoriesActionTypes').SELECTED_BUCKET_ID_CHANGED:{var ea=l.bucketIndex;return babelHelpers['extends']({},k,{selectedBucketIndex:ea});}case c('FBStoriesActionTypes').SELECTED_THREAD_IDX_CHANGED:var fa=this.getState().lastViewedThreadIndexForBucket;fa.set(this.getSelectedBucketIndex(),l.index);return babelHelpers['extends']({},k,{currentThreadIndex:l.index});case c('FBStoriesActionTypes').SELECTED_THREAD_PERCENT_DONE:return babelHelpers['extends']({},k,{currentThreadPercentDone:l.percentDone});case c('FBStoriesActionTypes').SET_ALL_BUCKETS_VIEWED:var ga=l.value;if(ga===k.allBucketsViewed)return k;return babelHelpers['extends']({},k,{allBucketsViewed:ga,unseenMode:k.unseenMode&&ga?false:k.unseenMode});case c('FBStoriesActionTypes').SET_UNSEEN_MODE:return babelHelpers['extends']({},k,{unseenMode:l.value});case c('FBStoriesActionTypes').UPDATE_THREAD_SEEN_OPTIMISTIC:var ha=this.getSelectedBucketId(),ia=this.getFriendsBucketData().map(function(ka){var la,ma=this;if(ka.id===ha){var la=function(){var na=ka.unseen_count,oa=ma.$FBStoriesStore1(ka).map(function(pa){if(pa.id===l.threadID){if(!pa.is_seen_by_viewer)na=Math.max(na-1,0);return babelHelpers['extends']({},pa,{is_seen_by_viewer:true});}else return pa;});return {v:babelHelpers['extends']({},ka,{unseen_count:na,threads:{nodes:oa}})};}();if(typeof la==="object")return la.v;}else return ka;}.bind(this));return babelHelpers['extends']({},k,{data:c('LoadObject').withValue({userBucketData:this.getUserBucketData(),userInfo:this.getUserInfo(),friendsBucketData:ia})});case c('FBStoriesActionTypes').UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:{var ja=babelHelpers['extends']({},this.getUserBucketData(),{threads:{nodes:this.$FBStoriesStore2().map(function(ka){if(ka.id===l.threadID){return babelHelpers['extends']({},ka,{seen_receipts_unseen_count:0,seen_receipts_last_seen_time:Date.now()});}else return ka;})}});return babelHelpers['extends']({},k,{data:c('LoadObject').withValue({userBucketData:ja,userInfo:this.getUserInfo(),friendsBucketData:this.getFriendsBucketData()})});}case c('FBStoriesActionTypes').DELETE_USER_THREAD_FROM_BUCKET:{var o=function(){var ka=l.threadID,la=n.getUserBucketData();la.threads.nodes=n.$FBStoriesStore1(la).reduce(function(ma,na){if(na.id!==ka)ma.push(na);return ma;},[]);return {v:babelHelpers['extends']({},k,{data:c('LoadObject').withValue({userBucketData:la,friendsBucketData:n.getFriendsBucketData(),userInfo:n.getUserInfo()})})};}();if(typeof o==="object")return o.v;}default:return k;}};j.prototype.$FBStoriesStore3=function(){var k=this.getState().data;return k.hasValue()?k.getValueEnforcing():{friendsBucketData:[],userBucketData:{},userInfo:{}};};j.prototype.getUserBucketData=function(){return this.$FBStoriesStore3().userBucketData||{};};j.prototype.getUserInfo=function(){return this.$FBStoriesStore3().userInfo||{};};j.prototype.getFriendsBucketData=function(){return this.$FBStoriesStore3().friendsBucketData||[];};j.prototype.isLoading=function(){return this.getState().data.isLoading();};j.prototype.getBucketIds=function(){var k=this.getFriendsBucketData().map(function(m){return m.id;}),l=this.getUserBucketData().id;return [l].concat(k);};j.prototype.getSelectedBucketIndex=function(){return this.getState().selectedBucketIndex;};j.prototype.getSelectedBucketId=function(){return this.getBucketIds()[this.getSelectedBucketIndex()];};j.prototype.areAllBucketsViewed=function(){return this.getState().allBucketsViewed;};j.prototype.getCameraPostTypeForBucketId=function(k){var l,m=this.getBucketIds().indexOf(k);return ((l=this.$FBStoriesStore4(m))!=null?l.camera_post_type:l)||null;};j.prototype.getSelectedBucketCameraPostType=function(){var k;return ((k=this.$FBStoriesStore5())!=null?k.camera_post_type:k)||null;};j.prototype.getSelectedBucketOwner=function(){var k;return ((k=this.$FBStoriesStore5())!=null?k.camera_post_bucket_owner:k)||{};};j.prototype.getSelectedBucketOwnerID=function(){var k;return ((k=this.$FBStoriesStore5())!=null?(k=k.camera_post_bucket_owner)!=null?k.id:k:k)||null;};j.prototype.getSelectedBucketUnseenCount=function(){var k;return ((k=this.$FBStoriesStore5())!=null?k.unseen_count:k)||0;};j.prototype.getThreadsForSelectedBucket=function(){return this.$FBStoriesStore1(this.$FBStoriesStore5());};j.prototype.getCurrentThreadIndexForSelectedBucket=function(){return this.getState().currentThreadIndex;};j.prototype.getCurrentThreadIDForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.id:null;};j.prototype.getCurrentThreadCameraPostTypeForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.camera_post_type:null;};j.prototype.getCurrentThreadMediaTypeForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.root_message.message_media.__typename:null;};j.prototype.getCurrentThreadMediaIDForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.root_message.message_media.id:null;};j.prototype.getCurrentThreadMediaViewerCountForSelectedBucket=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.friends_seen_count+k.followers_seen_count:null;};j.prototype.getCurrentThreadForSelectedBucket=function(){return this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()];};j.prototype.getCurrentThreadData=function(){if(this.isSelectedBucketLive())return this.getThreadDataForLive();return this.$FBStoriesStore6(this.getState().currentThreadIndex);};j.prototype.shouldDisableReply=function(){var k,l=this.isOwnBucket(),m=((k=this.$FBStoriesStore5())!=null?(k=k.camera_post_bucket_owner)!=null?k.is_viewer_friend:k:k)||false;return l||!m||this.isSelectedBucketLive();};j.prototype.getFollowersSeenCount=function(){var k=this.getCurrentThreadForSelectedBucket();return k?k.followers_seen_count:0;};j.prototype.isOwnBucket=function(){return this.getSelectedBucketId()===this.getUserBucketData().id;};j.prototype.getBucketCount=function(){return this.getFriendsBucketData().length+1;};j.prototype.hasDataInSelectedBucket=function(){return this.$FBStoriesStore7(this.$FBStoriesStore5());};j.prototype.$FBStoriesStore7=function(k){if(!k)return false;return this.$FBStoriesStore1(k).length>0;};j.prototype.hasOwnBucketViewers=function(){var k=this.$FBStoriesStore2(),l=k.filter(function(m){return m.seen_receipts_unseen_count>0;});return l.length>0;};j.prototype.hasOwnBucketThreads=function(){return this.$FBStoriesStore2().length>0;};j.prototype.getThreadCountForSelectedBucket=function(){return this.getThreadsForSelectedBucket().length;};j.prototype.isSelectedBucketLive=function(){return this.isBucketLive(this.$FBStoriesStore5());};j.prototype.isBucketLive=function(k){if(!k)return false;return k.live_video&&k.live_video.id;};j.prototype.getCurrentThreadViewers=function(){var k;if(!this.isOwnBucket())return [];var l=this.getCurrentThreadForSelectedBucket(),m=((k=l)!=null?(k=k.story_viewers)!=null?k.edges:k:k)||[],n=this.getUserInfo().userID;return m.reduce(function(o,p){var q,r,s=(q=p)!=null?(q=q.node)!=null?q.id:q:q,t=(r=p)!=null?r.seen_time:r;if(s!==n)o.push(babelHelpers['extends']({},p.node,{seenTime:t,isNewViewer:t>=l.seen_receipts_last_seen_time}));return o;},[]);};j.prototype.isUnseenMode=function(){return this.getState().unseenMode;};j.prototype.getCurrentThreadPercentDone=function(){return this.getState().currentThreadPercentDone;};j.prototype.getThreadCount=function(k){var l=this.$FBStoriesStore4(k);if(this.isBucketLive(l))return 0;if(k===0){var m=this.$FBStoriesStore1(this.getUserBucketData());return m.length;}if(k>0){var n=this.$FBStoriesStore1(l);return n.length;}return -1;};j.prototype.getUnseenThreadIndex=function(k){if(k===0){var l=this.$FBStoriesStore2();return l.findIndex(function(o){return o.seen_receipts_unseen_count>0;});}else{var m=this.$FBStoriesStore4(k),n=this.$FBStoriesStore1(m);return n.findIndex(function(o){return !o.is_seen_by_viewer;});}};j.prototype.getAllowedNavigationType=function(){var k=this.getSelectedBucketIndex(),l=k===0||k==1&&!this.$FBStoriesStore7(this.getUserBucketData()),m=k===this.getBucketCount()-1,n=l&&this.getCurrentThreadIndexForSelectedBucket()==0,o=m&&this.getCurrentThreadIndexForSelectedBucket()===this.getThreadsForSelectedBucket().length-1;if(n)return 'NEXT_ONLY';if(o)return 'PREV_ONLY';return 'BOTH';};j.prototype.getLastSeenThreadIndexForBucket=function(k){var l=this.getState().lastViewedThreadIndexForBucket,m=l.get(k);return m===undefined?0:m;};j.prototype.$FBStoriesStore2=function(){return this.$FBStoriesStore1(this.getUserBucketData());};j.prototype.$FBStoriesStore5=function(){return this.$FBStoriesStore4(this.getSelectedBucketIndex());};j.prototype.$FBStoriesStore4=function(k){var l;return k===0?this.getUserBucketData():(l=this.getFriendsBucketData())!=null?l[k-1]:l;};j.prototype.$FBStoriesStore1=function(k){var l,m=((l=k)!=null?(l=l.threads)!=null?l.nodes:l:l)||[];return m.filter(function(n){return this.$FBStoriesStore8(n);}.bind(this));};j.prototype.$FBStoriesStore8=function(k){var l;return ((l=k)!=null?l.thread_status:l)==='PUBLISHED';};j.prototype.$FBStoriesStore6=function(k){var l,m,n,o,p,q,r=this.getSelectedBucketOwner(),s=this.getThreadsForSelectedBucket()[k];if(!s)return null;var t=((l=s)!=null?(l=l.root_message)!=null?l.message_media:l:l)||{};return {media:t,bucketOwner:r,participants:[],isSeen:(m=s)!=null?m.is_seen_by_viewer:m,latestMessageID:(n=s)!=null?(n=n.latest_message)!=null?n.id:n:n,time:((o=s)!=null?o.time:o)||0,threadID:((p=s)!=null?p.id:p)||'',cameraPostType:((q=s)!=null?q.camera_post_type:q)||''};};j.prototype.getThreadDataForLive=function(){var k=this.$FBStoriesStore5();if(!k)return null;if(!this.isBucketLive(k))return null;var l=this.getSelectedBucketOwner();return {media:k.live_video,bucketOwner:l,isSeen:false};};function j(){h.apply(this,arguments);}f.exports=new j(c('FBStoriesDispatcher'));}),null);
__d('FBStoryLiveSidePane.react',['cx','Image.react','ImageBlock.react','InlineBlock.react','React','Timestamp.react','XUIText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=function m(n){var o=n.name,p=n.profilePicture,q=n.createdTime;return c('React').createElement('div',{className:"_2ph_"},c('React').createElement(c('ImageBlock.react'),{className:"_3-93"},c('React').createElement(c('Image.react'),{className:"_3-91",height:40,src:p,width:40}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:40},c('React').createElement(c('XUIText.react'),{size:'medium',weight:'bold'},o),c('React').createElement(c('Timestamp.react'),{className:"_4r9e",time:q}))));};i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.liveVideoData;if(!m)return null;var n=m.bucketOwner,o=n.name,p=n.profile_picture;return c('React').createElement('div',{className:"_3g-3"},c('React').createElement(k,{name:o,profilePicture:p,createdTime:m.media.created_time}));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('FBStoryLiveSidePaneContainer.react',['FBStoriesStore','FBStoryLiveSidePane.react','FluxContainer','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('FBStoriesStore')];};j.calculateState=function(k){return {liveVideoData:c('FBStoriesStore').getThreadDataForLive()};};j.prototype.render=function(){return c('React').createElement(c('FBStoryLiveSidePane.react'),this.state);};function j(){h.apply(this,arguments);}f.exports=c('FluxContainer').create(j);}),null);
__d('VideoComponentAutoPlayControl.react',['FeedVideoPlayerController','React','VideoAutoplayControllerX','VideoComponent'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){var l={controller:k,startsMuted:this.props.startMuted,viewport_autoplay:true,video_ids:[k.getVideoID()]},m={video_container:k.getVideoNode()};this.$VideoComponentAutoPlayControl2=new (c('FeedVideoPlayerController'))(m,l);this.$VideoComponentAutoPlayControl3=c('VideoAutoplayControllerX').registerVideoUnit(this.$VideoComponentAutoPlayControl2);};j.prototype.disable=function(){this.$VideoComponentAutoPlayControl3();};j.prototype.shouldComponentUpdate=function(){return false;};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}j.defaultProps={startMuted:true};f.exports=c('VideoComponent').createContainer(j);}),null);
__d('CameraPostMedia.react',['cx','FBStoriesTimer','React','ReactCSSTransitionGroup','createCancelableFunction','emptyFunction','idx','BackgroundImage.react','CameraPostTypes','CameraPostMuteButton.react','FBStoryLiveSidePaneContainer.react','JSLog','VideoComponentAutoPlayControl.react','VideoComponentLiveVideoIndicator.react','VideoComponentWithLiveBroadcast.react','VideoComponentWithLoopingPlayback.react','VideoDataContainer.react','VideoPlayer.react','VideoPlayerController','VideoPlayerLoggerSource','VideoPlayerOrigins','VideoPlayerReason','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"},l=3500,m=1000,n=200,o=200,p=200;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.$CameraPostMedia8=function(s){this.props.onTimeUpdate&&this.props.onTimeUpdate(s);}.bind(this);this.$CameraPostMedia10=function(){this.$CameraPostMedia9(l);}.bind(this);this.$CameraPostMedia12=function(){this.$CameraPostMedia5();this.$CameraPostMedia13(this.props.cameraPostType)&&this.$CameraPostMedia10();}.bind(this);this.$CameraPostMedia5=c('createCancelableFunction')(function(){if(this.$CameraPostMedia4){this.setState({height:this.$CameraPostMedia4.clientHeight,width:this.$CameraPostMedia4.clientWidth});}else{var s=window.innerHeight,t=void 0,u=void 0;if(s<=800){t=622;u=350;}else if(s>=1350){t=1080;u=608;}else{t=s*.83625-48;u=t*(350/622);}this.setState({height:t,width:u});}}.bind(this));this.$CameraPostMedia14=function(s){if(!s)c('JSLog').error('onUpdateMetaData, VideoPlayerController is undefined.');if(s&&!this.$CameraPostMedia1){var t=s.getPlaybackDuration();this.$CameraPostMedia11(t,s);}if(this.props.isMediaMuted){s&&s.mute();}else s&&s.unmute();}.bind(this);this.state={height:0,width:0};}q.prototype.componentDidMount=function(){this.$CameraPostMedia5();window.onresize=this.$CameraPostMedia5;};q.prototype.componentWillUnmount=function(){if(this.$CameraPostMedia1){this.$CameraPostMedia1.stop();delete this.$CameraPostMedia1;}this.$CameraPostMedia5.cancel();};q.prototype.componentWillUpdate=function(r){if(r.paused!==this.props.paused)if(r.paused){this.$CameraPostMedia1&&this.$CameraPostMedia1.pause();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.pause(c('VideoPlayerReason').USER);}else{this.$CameraPostMedia1&&this.$CameraPostMedia1.play();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.play(c('VideoPlayerReason').USER);}if(r.isMediaMuted!==this.props.isMediaMuted)if(r.isMediaMuted){this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.mute();}else this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.unmute();};q.prototype.$CameraPostMedia6=function(){var r;return ((r=this.props.media)!=null?r.__typename:r)==='Photo';};q.prototype.$CameraPostMedia7=function(){var r;return ((r=this.props.media)!=null?r.__typename:r)==='Video';};q.prototype.$CameraPostMedia9=function(r,s){if(this.props.onDone&&this.props.onTimeUpdate){this.$CameraPostMedia1=new (c('FBStoriesTimer'))({duration:r,vpc:s});this.$CameraPostMedia1.onTick(this.$CameraPostMedia8);this.props.onDone&&this.$CameraPostMedia1.onDone(this.props.onDone);if(!this.props.paused)this.$CameraPostMedia1.play();}};q.prototype.$CameraPostMedia11=function(r,s){this.$CameraPostMedia9(r*m,s);};q.prototype.$CameraPostMedia15=function(r){switch(r){case c('CameraPostTypes').DIRECT:case c('CameraPostTypes').DIRECT_NUX:case c('CameraPostTypes').GROUP_DIRECT:return c('VideoPlayerOrigins').DIRECT_INBOX;case c('CameraPostTypes').STORY:case c('CameraPostTypes').STORY_NUX:case c('CameraPostTypes').EVENT_STORY:case c('CameraPostTypes').PAGE_STORY:return c('VideoPlayerOrigins').FB_STORIES;default:c('JSLog').error('invalid Camera Post Type '+r);return c('VideoPlayerOrigins').BACKSTAGE;}};q.prototype.$CameraPostMedia13=function(r){switch(r){case c('CameraPostTypes').STORY:case c('CameraPostTypes').STORY_NUX:case c('CameraPostTypes').EVENT_STORY:case c('CameraPostTypes').PAGE_STORY:return true;default:return false;}};q.prototype.render=function(){var r,s=this.props,t=s.cameraPostType,u=s.media,v=s.showOverlay,w=s.isMediaMuted,x=s.onMuteMouseUp,y=s.showPausedOverlay,z=s.showMuteButton;if(!u)return null;var aa=v?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c('React').createElement('div',{className:"_3dew"})):null,ba=y?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c('React').createElement('div',{className:"_ida"},c('React').createElement('span',{className:"_idd"}))):null,ca=c('React').createElement(c('XUISpinner.react'),{background:'dark',className:"_2out",size:'large'}),da=z?c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:k,transitionEnterTimeout:o,transitionLeaveTimeout:p},c('React').createElement(c('CameraPostMuteButton.react'),{muted:w,onMouseUp:x})):null;if(this.$CameraPostMedia7()){var ea=c('React').createElement(c('VideoDataContainer.react'),{videoID:u.id,renderLoading:function ia(){return ca;}},c('React').createElement(c('VideoPlayer.react'),{videoData:c('VideoDataContainer.react').VIDEO_DATA_PLACEHOLDER,playerOrigin:this.$CameraPostMedia15(t),subOrigin:c('VideoPlayerLoggerSource').CAMERA_POST,ref:function(ia){this.$CameraPostMedia2=ia;}.bind(this),onUpdateMetadata:this.$CameraPostMedia14,className:"_1s5n"},c('React').createElement(c('VideoComponentAutoPlayControl.react'),null),c('React').createElement(c('VideoComponentWithLiveBroadcast.react'),null),c('React').createElement(c('VideoComponentLiveVideoIndicator.react'),null),this.props.loop&&c('React').createElement(c('VideoComponentWithLoopingPlayback.react'),{infiniteLooping:true})));return c('React').createElement('div',null,c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},ea,da,aa,ba,this.props.children),c('React').createElement(c('FBStoryLiveSidePaneContainer.react'),null));}if(this.$CameraPostMedia6()){var fa,ga=c('React').createElement(c('BackgroundImage.react'),{src:(fa=u)!=null?(fa=fa.image)!=null?fa.uri:fa:fa,backgroundSize:'contain',width:this.state.width,height:this.state.height,className:"_1s5n",onImageLoad:this.$CameraPostMedia12});return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,ref:function(ia){return this.$CameraPostMedia4=ia;}.bind(this)},ca,ga,this.$CameraPostMedia13(t)&&da,aa,ba,this.props.children);}var ha='Error: media type not found '+String((r=this.props.media)!=null?r.__typename:r);c('JSLog').error(ha);return c('React').createElement('div',{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},ca,aa,ba,this.props.children);};q.defaultProps={loop:false,media:{},showMuteButton:true,showOverlay:false,showPausedOverlay:false,onTimeUpdate:function r(s){},onDone:c('emptyFunction'),onMouseUp:c('emptyFunction'),onMouseDown:c('emptyFunction'),paused:false,cameraPostType:'',userID:null,threadID:null,width:1,height:1,isMediaMuted:false,onMuteMouseUp:c('emptyFunction')};f.exports=q;}),null);
__d('CameraPostOwnerInfo.react',['cx','fbt','React','formatDate','Timestamp.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function q(r,s,t){var u=[];s.forEach(function(v){u.push(v[t]);});return u;},k=function q(r,s,t){var u=[];s.forEach(function(v){if(v.id!==r)u.push(v[t]);});return u;},l=function q(r,s,t){var u=j(r,s,t);return u.join(', ');},m=function q(r,s,t){var u=k(r,s,t),v=u.reduce(function(w,x){if(w.showingNames==='')return {showingNames:x,others:w.others};if((w.showingNames+', '+x).length<20)return {showingNames:w.showingNames+', '+x,others:w.others};return {showingNames:w.showingNames,others:w.others+1};},{showingNames:'',others:0});if(v.others>0)return i._({"s":"{names_of_members} e {num_others} outras pessoas","p":"{names_of_members} e {num_others} outras pessoas"},[i.param('names_of_members',v.showingNames),i.param('num_others',v.others),i['enum'](v.others===1?'s':'p',{s:'other',p:'others'})]);return v.showingNames;},n=function q(r,s,t,u){if(t!==''&&t!==null)return t;return m(r,s,u);},o=function q(r,s,t){var u=l(r,s,t);return c('React').createElement('div',null,c('React').createElement('p',{className:"_3gpm"},i._("Membros do grupo")),c('React').createElement('p',{className:"_3gpn"},u));},p=function q(r){var s=r.id,t=r.name,u=r.time,v=r.cameraPostType,w=r.participants,x=r.groupName,y=function aa(){if(v==='GROUP_DIRECT'){return c('React').createElement('p',{className:"_2in7"},t,c('React').createElement('span',{className:"_3gpo"},'\u00A0to\u00A0'),c('React').createElement(c('Tooltip.react'),{tooltip:o(s,w,'name'),position:'below'},n(s,w,x,'short_name')));}else return c('React').createElement('p',{className:"_2in7"},t);},z=c('React').createElement(c('Timestamp.react'),{autoUpdate:true,time:u,text:c('formatDate')(u,'M j, Y',{utc:true}),className:"_2in8"});return c('React').createElement('div',{className:"_60x1"},y(),z);};f.exports=p;}),null);
__d('CameraPostOwnerPic.react',['cx','React','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.profile_picture,m=k.name;if(!l)return null;return c('React').createElement(c('Tooltip.react'),{tooltip:m,position:'left'},c('React').createElement(c('Image.react'),{src:l.uri,className:"_116u"}));};f.exports=i;}),null);
__d('CameraPostOwnerView.react',['cx','React','CameraPostOwnerPic.react','CameraPostOwnerInfo.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.owner,m=k.time,n=k.cameraPostType,o=k.participants,p=k.groupName,q=l.id,r=l.name,s=l.profile_picture;return c('React').createElement('div',{className:"_116v"},c('React').createElement(c('CameraPostOwnerPic.react'),{profile_picture:s,name:r}),c('React').createElement(c('CameraPostOwnerInfo.react'),{id:q,name:r,time:m,cameraPostType:n,participants:o||[],groupName:p||''}));};f.exports=i;}),null);
__d("NFXStoryLocation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED:"feed",VIDEO_LIST_CHANNEL:"video_list_channel",VIDEO_PLAYLIST_CHANNEL:"video_playlist_channel",WATCHED_VIDEOS_CHANNEL:"watched_videos_channel",EXPLORE_FEED:"explore_feed",PROFILE_SELF:"profile_self",PROFILE_SOMEONE_ELSE:"profile_someone_else",PAGE:"page",PERMALINK:"permalink",PHOTO_VIEWER:"photo_viewer",PAGE_REVIEW:"page_review",POPULAR_AT:"popular_at",CURATED_SECTION:"curated_section",GROUP:"group",EVENT:"event",SEARCH:"search",UNKNOWN:"unknown",PROFILE_REPORTING_FLOW:"profile_reporting_flow",HEAD_PUBLISHER_APP_MENTIONS_FEED:"head_publisher_app_mentions_feed",MESSENGER:"messenger",MESSENGER_MONTAGE_VIEWER:"messenger_montage_viewer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",SETTINGS:"settings",LIVE_MAP:"live_map",JOB_BROWSER:"job_browser",CONTENT_OVERLAY:"content_overlay",CHEVRON:"chevron",CHEVRON_GLYPH:"glyph",VIDEO_INLINE_PIVOT:"video_inline_pivot",OBJECTIONABLE_CONTENT_FILTER:"objectionable_content_filter",MESSENGER_THREAD_ACTION_PANEL:"messenger_thread_action_panel",MESSENGER_CONTACT_DETAILS:"messenger_contact_details",TICKER:"ticker",FULLSCREEN_VIDEO_PLAYER:"fullscreen_video_player",ACTIVITY_LOG_FACE_ALERTS:"face_alerts",HELP_COMMUNITY:"help_community",SUPPORT_INBOX:"support_inbox",APP_INVITES_FEED:"app_invites_feed",CHAINING_FEED:"chaining_feed",SOCIAL_REPORTING_REDIRECT:"social_reporting_redirect",WWW_CHAT_HEAD:"www_chat_head",THROWBACK:"throwback",POST_TO_PAGE:"post_to_page",ACTIVITY_LOG:"activity_log",VIDEO_CHANNEL:"video_channel",VIDEO_CHANNELS:"video_channels",VIDEO_HOME:"video_home",REVIEWS_FEED:"reviews_feed",BACKSTAGE:"backstage",MESSENGER_ENCRYPTED_THREAD:"messenger_encrypted_thread",LOCAL_NEWS:"local_news",MARKETPLACE_BSG_PROFILE:"marketplace_bsg_profile",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PROFILE:"marketplace_profile",MARKETPLACE_RATING_CONFIRMATION:"marketplace_rating_confirmation",MARKETPLACE_RATING_FLOW:"marketplace_rating_flow",MARKETPLACE_THREAD:"marketplace_thread",MARKETPLACE_THREAD_BUYER:"marketplace_thread_buyer",MARKETPLACE_MESSENGER_REPORT_BUYER:"marketplace_messenger_report_buyer",MARKETPLACE_MESSENGER_REPORT_SELLER:"marketplace_messenger_report_seller",POLITICAL_ISSUE_MODULE:"political_issue_module",ELECTION_HUB:"election_hub",DIRECT_MESSAGING:"direct_messaging",CAMERA_MEDIA_EFFECT:"camera_media_effect",PROFILE_DEPRECATED:"profile",TIMELINE_DEPRECATED:"timeline",BREAKUP_FLOW:"breakup_flow",ASYNC_TASK_DO_NOT_USE:"async",INSTANT_ARTICLES:"instant_articles",INSTANT_ARTICLE_WEBVIEW_AD:"instant_article_webview_ad",IN_APP_BROWSER:"in_app_browser",INSTREAM_VIDEO:"instream_video",TOPIC_PAGE:"topic_page",GAMES_FEED:"games_feed",TAG_QUARANTINE:"tag_qurantine",STONEHENGE_CONSUMPTION:"stonehenge_consumption",ARTICLE_CONTEXT:"article_context",PROFILE_FRAME_DISCOVERY:"profile_frame_discovery",QUICK_PROMOTION:"quick_promotion"});}),null);
__d('CameraPostReportButton.react',['ix','cx','fbt','AsyncDialog','AsyncRequest','NFXStoryLocation','React','fbglyph','Image.react','PopoverMenu.react','ReactMenu','ReactXUIMenu'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('ReactMenu').Item,l='/ajax/nfx/start_dialog',m='/ajax/bugs/report',n='342047509524458',o=function p(q){var r=function v(){c('AsyncDialog').send(new (c('AsyncRequest'))().setData({reportable_ent_token:q.threadID.toString(),story_location:c('NFXStoryLocation').DIRECT_MESSAGING}).setURI(l));},s=function v(){c('AsyncDialog').send(new (c('AsyncRequest'))().setData({product_category_id:n}).setURI(m));},t=[].concat(q.children||[],[q.contentReportFbt?c('React').createElement(k,{onClick:r,key:'report'},c('React').createElement(c('Image.react'),{src:h("113891")}),q.contentReportFbt):null,c('React').createElement(k,{onClick:s,key:'bug'},c('React').createElement(c('Image.react'),{src:h("112874")}),j._("Algo n\u00e3o est\u00e1 a funcionar"))]),u=c('React').createElement(c('ReactXUIMenu'),{className:"_610-",onItemClick:q.onPopoverItemClick},t);return c('React').createElement('div',{className:"_4q7o"},c('React').createElement(c('PopoverMenu.react'),{alignv:'bottom',alignh:'center',menu:u,position:'below',onItemClick:q.onPopoverItemClick,onShow:q.onPopoverShow,onHide:q.onPopoverHide},c('React').createElement('a',{href:'#'},c('React').createElement(c('Image.react'),{src:h("114186")}))));};f.exports=o;}),null);
__d('CameraPostSendReply.react',['cx','fbt','React','emptyFunction','Image.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CameraPostSendReply1=function(o){this.setState({replyText:o.target.value});}.bind(this);this.$CameraPostSendReply2=function(event){if(event.key==='Enter'){this.props.onReplyEntered(this.state.replyText);this.setState({replyText:''});}}.bind(this);this.$CameraPostSendReply4=function(o){return this.$CameraPostSendReply3=o;}.bind(this);this.state={replyText:''};}m.prototype.componentDidMount=function(){if(this.props.focused){this.$CameraPostSendReply3.focus();}else this.$CameraPostSendReply3.blur();};m.prototype.componentDidUpdate=function(){if(this.props.focused){this.$CameraPostSendReply3.focus();}else this.$CameraPostSendReply3.blur();};m.prototype.render=function(){return c('React').createElement('div',{className:"_2dvt"},c('React').createElement('div',{className:"_2dv-"},c('React').createElement(c('Image.react'),{src:this.props.replyProfilePic,className:"_2dv_"})),c('React').createElement('div',{className:"_2dw0"},c('React').createElement('input',{placeholder:i._("Escreve uma resposta..."),ref:this.$CameraPostSendReply4,value:this.state.replyText,onChange:this.$CameraPostSendReply1,onFocus:this.props.onFocusInput,onBlur:this.props.onBlurInput,onKeyDown:this.$CameraPostSendReply2,onMouseUp:this.$CameraPostSendReply5})));};m.prototype.$CameraPostSendReply5=function(n){n.preventDefault();n.stopPropagation();};m.defaultProps={onFocusInput:c('emptyFunction'),onBlurInput:c('emptyFunction'),onMouseUp:c('emptyFunction')};f.exports=m;}),null);
__d('CameraPostSendingToast.react',['ix','cx','fbt','Image.react','React','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=function l(){return c('React').createElement('div',{className:"_618_",key:'toast'},c('React').createElement(c('Image.react'),{src:h("114797"),className:"_6190"}),c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold'},j._("Resposta enviada")));};f.exports=k;}),null);
__d("FBStoriesBucketsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1419065411507198";};j.getQueryID=function(){"use strict";return "1285416118253812";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("FBStoriesDeleteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1340045906066120";};j.getQueryID=function(){"use strict";return "967072946766012";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1386522808128715";};j.getQueryID=function(){"use strict";return "1384057201673076";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("FBStoriesTraySubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1178936362208484",queryID:"188357781701643"});}),null);
__d('FBStoriesTraySubscription',['BaseGraphQLSubscription','FBStoriesTraySubscriptionWebGraphQLSubscription','GraphQLSubscriptionsConfig','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/stories_tray_subscribe/user_id_'+j;},_getQueryID:function i(){return c('GraphQLSubscriptionsConfig').shouldUseGraphQL2DocumentIDs?c('FBStoriesTraySubscriptionWebGraphQLSubscription').getDocID():c('FBStoriesTraySubscriptionWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),user_id:j})};},_getSubscriptionCallName:function i(){return 'stories_tray_subscribe';}});f.exports=h;}),null);
__d('FBStoriesGraphQLAPI',['WebGraphQL','FBStoriesBucketsQueryWebGraphQLQuery','FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation','FBStoriesTraySubscription','FBStoriesDeleteMutationWebGraphQLMutation','CurrentUser','uniqueID'],(function a(b,c,d,e,f,g){'use strict';f.exports={load:function h(){return c('WebGraphQL').exec(new (c('FBStoriesBucketsQueryWebGraphQLQuery'))());},subscribeToTrayChanges:function h(i){c('FBStoriesTraySubscription').subscribe(c('CurrentUser').getID(),i);},updateThreadSeenReciept:function h(i){var j={client_mutation_id:c('uniqueID')(),actor_id:c('CurrentUser').getID(),thread_id:i};return c('WebGraphQL').exec(new (c('FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation'))({input:j}));},deleteStory:function h(i,j){return c('WebGraphQL').exec(new (c('FBStoriesDeleteMutationWebGraphQLMutation'))({input:{client_mutation_id:c('uniqueID')(),actor_id:i,story_thread_ids:[j]}}));}};}),null);
__d('FBStoriesAppController',['FBStoriesGraphQLAPI','FBStoriesDispatcher','FBStoriesActionTypes','idx','FBStoriesStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('FBStoriesDispatcher').dispatch;f.exports={init:function i(){c('FBStoriesDispatcher').explicitlyRegisterStores([c('FBStoriesStore')]);h({type:c('FBStoriesActionTypes').LOADING});c('FBStoriesGraphQLAPI').load().done(function(j){return h({type:c('FBStoriesActionTypes').LOADED,data:j});},function(j){return h({type:c('FBStoriesActionTypes').LOADED_ERROR,error:j});});c('FBStoriesGraphQLAPI').subscribeToTrayChanges(function(j){var k;h({type:c('FBStoriesActionTypes').SUBSCRIPTION_BUCKET_UPDATE,bucketData:(k=j)!=null?(k=k.stories_tray_subscribe)!=null?k.bucket:k:k});});}};}),null);
__d('FBStoryTrayItem.react',['cx','fbt','Image.react','Tooltip.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$FBStoryTrayItem1=function(){if(this.props.onHover)this.props.onHover(this.props.bucketID);}.bind(this),this.$FBStoryTrayItem2=function(){if(this.props.onHoverOut)this.props.onHoverOut(this.props.bucketID);}.bind(this),this.$FBStoryTrayItem3=function(){if(this.props.onClick&&!this.props.disabled)this.props.onClick(this.props.bucketID);}.bind(this),n;}l.prototype.render=function(){if(!this.props.bucketID)return null;var m=this.props.highlighted&&this.props.hightlightIcon,n=this.props.actorName!==undefined?this.props.actorName:'',o="_1fvv"+(this.props.highlighted?' '+"_1fw0":''),p=c('React').createElement('div',{className:o},c('React').createElement(c('Image.react'),{src:this.props.profilePhotoUrl,className:"_1fw2"}),m&&c('React').createElement('div',{className:"_60x2"},this.props.hightlightIcon)),q=c('React').createElement('div',{className:"_efz"},c('React').createElement('span',{className:"_ef_"},i._("A Tua Hist\u00f3ria"))),r=c('React').createElement('div',{className:"_1fw3"},n),s=this.props.isOwnBucket?i._("V\u00ea a tua hist\u00f3ria"):i._("Ver a hist\u00f3ria de {actor name}",[i.param('actor name',n+'\'s')]),t=this.props.isOwnBucket?q:r;return c('React').createElement('div',{role:'button',tabIndex:'-1',onMouseEnter:this.$FBStoryTrayItem1,onMouseLeave:this.$FBStoryTrayItem2,onClick:this.$FBStoryTrayItem3,className:"_1fvw"+(this.props.disabled?' '+"_4lu8":'')},c('React').createElement(c('Tooltip.react'),{tooltip:s,alignH:'center'},p,t));};l.defaultProps={disabled:false,actorName:'',highlighted:false,hightlightIcon:undefined,isOwnBucket:false,onHover:c('emptyFunction'),onHoverOut:c('emptyFunction')};f.exports=l;}),null);
__d("range",[],(function a(b,c,d,e,f,g){function h(i,j,k){k=!k?i<j?1:-1:k;var l=-1,m=Math.max(Math.ceil((j-i)/k),0),n=Array(m);while(m--){n[++l]=i;i+=k;}return n;}f.exports=h;}),null);
__d('HorizontalScroll.react',['ix','cx','fbt','React','XUIButton.react','Image.react','Animation','fbglyph','range','compactArray','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=250;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.defaultProps={placeholderFactory:c('emptyFunction'),children:[]};this.state={scrollLeft:0,offsetWidth:0,scrollWidth:0,viewportItemsCount:0,itemCount:0};this.$HorizontalScroll3=this.$HorizontalScroll3.bind(this);this.$HorizontalScroll2=this.$HorizontalScroll2.bind(this);}n.prototype.componentDidMount=function(){var o=this.$HorizontalScroll1.offsetWidth,p=this.props.itemWidth,q=this.props.itemMarginWidth,r=c('compactArray')(this.props.children),s=0;if(p<=o)s=1+Math.floor((o-p)/(p+q));this.setState({scrollLeft:this.$HorizontalScroll1.scrollLeft,offsetWidth:o,scrollWidth:this.$HorizontalScroll1.scrollWidth,viewportItemsCount:s,itemCount:r.length});};n.prototype.componentDidUpdate=function(o,p){if(p.scrollLeft!==this.state.scrollLeft)if(this.$HorizontalScroll1)new (c('Animation'))(this.$HorizontalScroll1).to('scrollLeft',this.state.scrollLeft).duration(m).go();};n.prototype.render=function(){var o=this.state.scrollLeft===0,p=this.state.scrollLeft>=this.state.scrollWidth-this.state.offsetWidth||this.state.itemCount<=this.state.viewportItemsCount;return c('React').createElement('div',{className:"_lmj",ref:function(q){return this.$HorizontalScroll1=q;}.bind(this)},this.props.children,this.$HorizontalScroll4(),c('React').createElement(c('XUIButton.react'),{'aria-label':j._("Ver mais resultados da esquerda"),className:(o?"hidden_elem":'')+(' '+"_lmk")+(' '+"_6107"),onClick:this.$HorizontalScroll2,label:'With a Hidden Label',labelIsHidden:true,image:c('React').createElement(c('Image.react'),{className:"_lml",src:h("141823")}),href:{url:'#'}}),c('React').createElement(c('XUIButton.react'),{'aria-label':j._("Ver mais resultados da direita"),className:(p?"hidden_elem":'')+(' '+"_lmm")+(' '+"_6107"),onClick:this.$HorizontalScroll3,label:'With a Hidden Label',labelIsHidden:true,image:c('React').createElement(c('Image.react'),{className:"_lml",src:h("141833")}),href:{url:'#'}}));};n.prototype.$HorizontalScroll4=function(){var o=Math.max(0,this.state.viewportItemsCount-this.state.itemCount);return c('range')(0,o).map(this.props.placeholderFactory);};n.prototype.$HorizontalScroll2=function(){var o=(this.state.viewportItemsCount-1)*(this.props.itemWidth+this.props.itemMarginWidth),p=Math.max(0,this.$HorizontalScroll1.scrollLeft-o);this.setState({scrollLeft:p});};n.prototype.$HorizontalScroll3=function(){var o=(this.state.viewportItemsCount-1)*(this.props.itemWidth+this.props.itemMarginWidth),p=this.state.scrollWidth-this.state.offsetWidth,q=Math.min(p,this.$HorizontalScroll1.scrollLeft+o);this.setState({scrollLeft:q});};f.exports=n;}),null);
__d('FBStoriesTray.react',['ix','cx','React','idx','fbglyph','emptyFunction','CameraPostTypes','FBStoryTrayItem.react','HorizontalScroll.react','Image.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=48,m=10;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o,p=this.props,q=p.userData,r=p.friendsData,s=p.userBucketHasNewViewers,t=p.userBucketHasThreads,u=!r||r.length==0;if(u&&!t)return null;var v=(o=q)!=null?(o=o.camera_post_bucket_owner)!=null?(o=o.profile_picture)!=null?o.uri:o:o:o,w=s?c('React').createElement(c('Image.react'),{src:h("114858")}):null,x=q.id,y=[t?c('React').createElement(c('FBStoryTrayItem.react'),{highlighted:s,hightlightIcon:w,bucketID:x,key:x,profilePhotoUrl:v,isOwnBucket:true,onHover:this.props.onItemHover,onHoverOut:this.props.onItemHoverOut,onClick:this.props.onItemClick}):null].concat(this.$FBStoriesTray1());return c('React').createElement(c('HorizontalScroll.react'),{itemWidth:l,itemMarginWidth:m,placeholderFactory:this.$FBStoriesTray2},y);};n.prototype.$FBStoriesTray2=function(o){return c('React').createElement('div',{key:o,className:"_1fvw"},c('React').createElement('div',{className:"_rqg"}));};n.prototype.$FBStoriesTray1=function(){return this.props.friendsData.map(function(o,p){var q,r,s,t,u=o.id,v=(q=o)!=null?q.camera_post_bucket_owner:q;if(!u||!v)return null;var w=(r=o)!=null?r.camera_post_type:r,x=v.id,y=w===c('CameraPostTypes').STORY?v.short_name:v.name;if(!x||!y)return null;var z=(s=v)!=null?(s=s.profile_picture)!=null?s.uri:s:s,aa=((t=o)!=null?(t=t.threads)!=null?t.nodes:t:t)||[],ba=aa.filter(function(ca){return !ca.is_seen_by_viewer;}).length>0;return c('React').createElement(c('FBStoryTrayItem.react'),{bucketID:u,actorName:y,profilePhotoUrl:z,highlighted:ba,key:x,onHover:this.props.onItemHover,onHoverOut:this.props.onItemHoverOut,onClick:this.props.onItemClick});}.bind(this));};function n(){j.apply(this,arguments);}n.defaultProps={onClick:c('emptyFunction'),onItemClick:c('emptyFunction'),onItemHover:c('emptyFunction'),onItemHoverOut:c('emptyFunction')};f.exports=n;}),null);
__d('FBStoriesActions',['FBStoriesDispatcher','FBStoriesStore','FBStoriesActionTypes','CameraPostGraphQLAPI','FBStoriesGraphQLAPI'],(function a(b,c,d,e,f,g){'use strict';var h=c('FBStoriesDispatcher').dispatch,i={nextThread:function j(k){var l=c('FBStoriesStore').isSelectedBucketLive();if(l){i.nextBucket();return;}var m=c('FBStoriesStore').getThreadsForSelectedBucket(),n=c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n+1;if(m.length===0){i.nextBucket();}else if(o<=m.length-1){i.currentThreadIndexChanged(o);}else i.nextBucket();},prevThread:function j(k){var l=c('FBStoriesStore').isSelectedBucketLive();if(l){i.prevBucket();return;}var m=c('FBStoriesStore').getThreadsForSelectedBucket(),n=c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n-1;if(m.length===0){i.prevBucket();}else if(o>=0){i.currentThreadIndexChanged(o,true);}else i.prevBucket();},nextBucket:function j(){return i._transitionBucket(true);},prevBucket:function j(){return i._transitionBucket(false);},userSelectedBucket:function j(k){var l=c('FBStoriesStore').getBucketIds().indexOf(k),m=c('FBStoriesStore').getUnseenThreadIndex(l),n=Math.max(0,m);h({type:c('FBStoriesActionTypes').RESET_LOCAL_SEEN_HISTORY});h({type:c('FBStoriesActionTypes').SET_UNSEEN_MODE,value:m>=0});h({type:c('FBStoriesActionTypes').SET_ALL_BUCKETS_VIEWED,value:false});h({type:c('FBStoriesActionTypes').SELECTED_BUCKET_ID_CHANGED,bucketIndex:l});i.currentThreadIndexChanged(n);},updateCurrentThreadPercentDone:function j(k){h({type:c('FBStoriesActionTypes').SELECTED_THREAD_PERCENT_DONE,percentDone:k});},currentThreadIndexChanged:function j(k){var l=arguments.length<=1||arguments[1]===undefined?false:arguments[1],m=c('FBStoriesStore').getCurrentThreadData();if(m&&c('FBStoriesStore').isOwnBucket())i.markThreadViewersSeen(m.threadID);h({type:c('FBStoriesActionTypes').SELECTED_THREAD_IDX_CHANGED,index:k});i.updateCurrentThreadPercentDone(0);var n=c('FBStoriesStore').getUserInfo().userID,o=c('FBStoriesStore').getCurrentThreadData();if(o){var p=o.threadID,q=o.latestMessageID;h({type:c('FBStoriesActionTypes').UPDATE_THREAD_SEEN_OPTIMISTIC,threadID:p});c('CameraPostGraphQLAPI').markThreadSeen(n,p,q,o.cameraPostType);}else if(l){i.prevThread();}else i.nextThread();},markThreadViewersSeen:function j(k){h({type:c('FBStoriesActionTypes').UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC,threadID:k});c('FBStoriesGraphQLAPI').updateThreadSeenReciept(k);},_transitionBucket:function j(k){var l=c('FBStoriesStore').getBucketCount(),m=c('FBStoriesStore').getCurrentThreadData(),n=c('FBStoriesStore').isOwnBucket(),o=function t(){return p>=l||p<0;},p=k?c('FBStoriesStore').getSelectedBucketIndex()+1:c('FBStoriesStore').getSelectedBucketIndex()-1,q=0;if(c('FBStoriesStore').isUnseenMode()){var r=false;while(r===false&&!o()){q=c('FBStoriesStore').getUnseenThreadIndex(p);r=q>=0;if(!r)p=k?p+1:p-1;}}else if(!k)q=c('FBStoriesStore').getLastSeenThreadIndexForBucket(p);var s=o();h({type:c('FBStoriesActionTypes').SET_ALL_BUCKETS_VIEWED,value:s});if(s){if(n&&m)return i.markThreadViewersSeen(m.threadID);}else{if(!c('FBStoriesStore').hasDataInSelectedBucket()&&!c('FBStoriesStore').isSelectedBucketLive()){if(k)return i.nextBucket();return i.prevBucket();}h({type:c('FBStoriesActionTypes').SELECTED_BUCKET_ID_CHANGED,bucketIndex:p});return i.currentThreadIndexChanged(q);}return undefined;},deleteThreadFromUserBucket:function j(k){c('FBStoriesGraphQLAPI').deleteStory(c('FBStoriesStore').getUserInfo().userID,k);h({type:c('FBStoriesActionTypes').DELETE_USER_THREAD_FROM_BUCKET,threadID:k});i.nextThread(c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket());}};f.exports=i;}),null);
__d('FBStoriesViewers.react',['ix','cx','fbt','React','fbglyph','Image.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogTitle.react','XUIContextualDialogFooter.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(p){l.constructor.call(this,p);this.$FBStoriesViewers2=function(q){return this.$FBStoriesViewers1=q;}.bind(this);this.$FBStoriesViewers3=function(){return this.$FBStoriesViewers1;}.bind(this);this.$FBStoriesViewers5=function(q){this.setState({dialogShown:!this.state.dialogShown});q.stopPropagation();}.bind(this);this.$FBStoriesViewers4=function(q){this.setState({dialogShown:q},function(){return this.props.onToggle(q);}.bind(this));}.bind(this);this.state={dialogShown:false};}m.prototype.render=function(){var p=this.props.viewers.length+this.props.followersSeenCount;if(p===0)return c('React').createElement('div',null);var q=c('React').createElement(c('XUIContextualDialog.react'),{className:"_2lc1",shown:this.state.dialogShown,contextRef:this.$FBStoriesViewers3,position:'above',alignment:'center',hideOnBlur:true,onToggle:this.$FBStoriesViewers4,width:c('XUIContextualDialog.react').WIDTH.NORMAL},c('React').createElement(c('XUIContextualDialogTitle.react'),{className:"_2lc2"},c('React').createElement(c('Image.react'),{src:h("127675")}),j._({"singular":"{count} visualiza\u00e7\u00e3o","plural":"{count} visualiza\u00e7\u00f5es"},[j.param('count',p),j['enum'](p===1?'singular':'plural',{singular:'View',plural:'Views'})])),c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(n,{viewers:this.props.viewers,followersSeenCount:this.props.followersSeenCount})),c('React').createElement(c('XUIContextualDialogFooter.react'),{className:"_1hos"},j._({"singular":"E {count} seguidor","plural":"E {count} seguidores"},[j.param('count',this.props.followersSeenCount),j['enum'](this.props.followersSeenCount===1?'singular':'plural',{singular:'follower',plural:'followers'})]))),r=c('React').createElement(c('XUIContextualDialog.react'),{className:"_2lc1",shown:this.state.dialogShown,contextRef:this.$FBStoriesViewers3,position:'above',alignment:'center',hideOnBlur:true,onToggle:this.$FBStoriesViewers4,width:c('XUIContextualDialog.react').WIDTH.NORMAL},c('React').createElement(c('XUIContextualDialogTitle.react'),{className:"_2lc2"},c('React').createElement(c('Image.react'),{src:h("127675")}),j._({"singular":"{count} visualiza\u00e7\u00e3o","plural":"{count} visualiza\u00e7\u00f5es"},[j.param('count',p),j['enum'](p===1?'singular':'plural',{singular:'View',plural:'Views'})])),c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(n,{viewers:this.props.viewers,followersSeenCount:this.props.followersSeenCount})));return c('React').createElement('div',null,c('React').createElement('div',{className:"_2lb_",ref:this.$FBStoriesViewers2,onMouseUp:this.$FBStoriesViewers5},c('React').createElement(c('Image.react'),{src:h("114860")}),c('React').createElement('span',{className:"_2lc0"},j._({"singular":"{count} visualiza\u00e7\u00e3o","plural":"{count} visualiza\u00e7\u00f5es"},[j.param('count',p),j['enum'](p===1?'singular':'plural',{singular:'View',plural:'Views'})])),this.props.hasNewViewers&&c('React').createElement(o,null)),this.props.followersSeenCount>0?q:r);};var n=function p(q){return c('React').createElement('div',null,q.viewers.map(function(r){return c('React').createElement('div',{key:r.id,className:"_2lc3"},c('React').createElement(c('Image.react'),{src:r.profile_picture.uri,className:"_2lc4"}),c('React').createElement('span',{className:"_2lc6"},r.name),r.isNewViewer&&c('React').createElement(o,null));}));},o=function p(q){return c('React').createElement('span',{className:"_2lc9"});};f.exports=m;}),null);
__d('SegmentedProgressBar.react',['cx','React','range'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var o=this.props,p=o.segmentCount,q=o.currentSegmentIndex,r=o.currentSegmentPercentComplete,s=o.paused,t=c('range')(0,p).map(function(u){var v=0;if(u<q){v=100;}else if(u>q){v=0;}else v=r;return c('React').createElement(n,{key:u,current:u===q,paused:s,percentDone:v});});return c('React').createElement('div',{className:"_jxz"},t);};function m(){i.apply(this,arguments);}k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.render=function(){var o=this.props.percentDone,p={width:o+'%'};return c('React').createElement('div',{className:"_jx-"},c('React').createElement('div',{style:p,className:"_jx_"}));};function n(){k.apply(this,arguments);}f.exports=m;}),null);
__d('FBStoryContainer.react',['ix','cx','fbt','React','createCancelableFunction','fbglyph','idx','CurrentUser','ReactCSSTransitionGroup','ReactMenu','Event','Keys','CameraPostMedia.react','CameraPostOwnerView.react','CameraPostReportButton.react','CameraPostSendReply.react','CameraPostSendingToast.react','FBStoriesViewers.react','CameraPostWWWTypedLogger','CameraPostLoggingEvents','SegmentedProgressBar.react','FBStoriesStore','FBStoriesActions','CameraPostGraphQLAPI','FluxContainer','Image.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactMenu').Item,n={enter:"_1gs8",enterActive:"_1gs9",leave:"_1gsa",leaveActive:"_1gsc"},o={PREV:'prev',NEXT:'next'},p=.5,q=1000,r=200,s=200,t=200,u=500,v={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};k=babelHelpers.inherits(w,c('React').Component);l=k&&k.prototype;function w(x){l.constructor.call(this,x);this.$FBStoryContainer20=function(y){return this.$FBStoryContainer3=y;}.bind(this);this.$FBStoryContainer22=function(){this.$FBStoryContainer37(true,false,true);this.$FBStoryContainer7=true;}.bind(this);this.$FBStoryContainer23=function(){if(!this.$FBStoryContainer6&&!this.state.isReplyFocused&&!this.$FBStoryContainer8)this.$FBStoryContainer37(false,false,false);this.$FBStoryContainer6=false;this.$FBStoryContainer7=false;}.bind(this);this.$FBStoryContainer33=function(y){if(y)this.$FBStoryContainer19();if(!this.$FBStoryContainer7)this.$FBStoryContainer37(y,false,y);this.$FBStoryContainer8=y;}.bind(this);this.$FBStoryContainer24=function(){this.$FBStoryContainer6=true;this.$FBStoryContainer37(true,false,false);}.bind(this);this.$FBStoryContainer25=function(){this.$FBStoryContainer37(true,false,false);this.$FBStoryContainer17();var y=this.state.currentThreadID;if(y&&this.state.isOwnBucket)c('FBStoriesActions').deleteThreadFromUserBucket(y);this.$FBStoryContainer37(false,false,false);}.bind(this);this.$FBStoryContainer32=function(){var y,z=(y=this.state)!=null?(y=y.currentThreadData)!=null?y.cameraPostType:y:y;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(z).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').AUTO_PROGRESSION).setEventDetails(this.state.bucketID).setViewerID(this.state.userInfo.userID).setThreadID(this.state.currentThreadID).log();this.$FBStoryContainer1();}.bind(this);this.$FBStoryContainer40=c('createCancelableFunction')(function(y){this.setState({isShowingSendingToast:true},function(){this.$FBStoryContainer9=setTimeout(function(){this.$FBStoryContainer9=undefined;this.$FBStoryContainer41();}.bind(this),y);}.bind(this));}.bind(this));this.$FBStoryContainer41=c('createCancelableFunction')(function(){this.setState({isShowingSendingToast:false});}.bind(this));this.$FBStoryContainer35=function(y){if(y!==''){var z=this.state.currentThreadData;if(!z)return;var aa=z.threadID,ba=z.cameraPostType,ca=this.state.userInfo.userID;this.$FBStoryContainer39();this.$FBStoryContainer37(false,false,false);this.setState({isReplyFocused:false});this.$FBStoryContainer18();c('CameraPostGraphQLAPI').sendDirectReply(ca,aa,y,ba).done();}}.bind(this);this.$FBStoryContainer36=function(y){this.$FBStoryContainer37(true,false,true);this.setState({isReplyFocused:true});}.bind(this);this.$FBStoryContainer30=function(y){if(this.state.isPaused)return;this.$FBStoryContainer37(true,true,false);}.bind(this);this.$FBStoryContainer31=function(y){if(y.target.tagName==='INPUT')return;var z=this.state.isPaused;this.$FBStoryContainer37(false,false,false);if(z){if(this.state.isReplyFocused)this.setState({isReplyFocused:false});}else if(this.state.navDirectionOnClick===o.PREV){this.$FBStoryContainer38();}else if(!this.state.isLastThread)this.$FBStoryContainer1();}.bind(this);this.$FBStoryContainer27=function(event){if(this.state.isPaused)this.setState({showPausedOverlay:true});}.bind(this);this.$FBStoryContainer28=function(y){var z=y.currentTarget.offsetWidth,aa=y.nativeEvent.offsetX,ba=aa/z<=p;this.setState({navDirectionOnClick:ba?o.PREV:o.NEXT});}.bind(this);this.state=this.$FBStoryContainer10({bucketID:null,currentThreadIndex:0,currentThreadData:null,currentThreadID:null,threadsCount:0,threadViewers:[],bucketOwner:{},userInfo:{userID:c('CurrentUser').getID(),userName:c('CurrentUser').getName()},allBucketsViewed:false,shouldDisableReply:false,isOwnBucket:false,hasNewViewers:false,followersSeenCount:0,showPausedOverlay:false,showStoryUI:true,isBucketLive:false});}w.getStores=function(){return [c('FBStoriesStore')];};w.calculateState=function(x){var y=c('FBStoriesStore').getCurrentThreadViewers(),z=c('FBStoriesStore').isOwnBucket(),aa=z&&y.find(function(ca){return ca.isNewViewer;})!==undefined,ba={bucketID:c('FBStoriesStore').getSelectedBucketId(),currentThreadIndex:c('FBStoriesStore').getCurrentThreadIndexForSelectedBucket(),currentThreadPercentDone:c('FBStoriesStore').getCurrentThreadPercentDone(),currentThreadID:c('FBStoriesStore').getCurrentThreadIDForSelectedBucket(),threadsCount:c('FBStoriesStore').getThreadCountForSelectedBucket(),bucketOwner:c('FBStoriesStore').getSelectedBucketOwner(),userInfo:c('FBStoriesStore').getUserInfo(),allBucketsViewed:c('FBStoriesStore').areAllBucketsViewed(),shouldDisableReply:c('FBStoriesStore').shouldDisableReply(),currentThreadData:c('FBStoriesStore').getCurrentThreadData(),isOwnBucket:z,threadViewers:y,hasNewViewers:aa,allowedNavType:c('FBStoriesStore').getAllowedNavigationType(),followersSeenCount:c('FBStoriesStore').getFollowersSeenCount(),isBucketLive:c('FBStoriesStore').isSelectedBucketLive()};return ba;};w.prototype.componentDidMount=function(){c('Event').listen(this.$FBStoryContainer3,'keydown',function(event){return this.$FBStoryContainer11(event);}.bind(this),c('Event').Priority.URGENT);c('Event').listen(this.$FBStoryContainer3,'keyup',function(event){return this.$FBStoryContainer12(event);}.bind(this),c('Event').Priority.URGENT);if(this.$FBStoryContainer3)this.$FBStoryContainer3.focus();this.$FBStoryContainer13(this.props,this.state);};w.prototype.componentWillUpdate=function(x,y){if(!this.state.allBucketsViewed&&y.allBucketsViewed)x.onDone();if(this.state.bucketID!==y.bucketID){this.setState(this.$FBStoryContainer10(y));}else if(this.state.currentThreadIndex!==y.currentThreadIndex)this.$FBStoryContainer14();this.$FBStoryContainer13(x,y);};w.prototype.componentDidUpdate=function(){if(!this.state.isReplyFocused&&this.$FBStoryContainer3)this.$FBStoryContainer3.focus();};w.prototype.$FBStoryContainer14=function(){var x=this.state.currentThreadData;if(!x)return;this.setState({isPaused:false,showStoryUI:true,showPausedOverlay:false});};w.prototype.$FBStoryContainer15=function(x){var y=c('FBStoriesStore').getCurrentThreadCameraPostTypeForSelectedBucket(),z=c('FBStoriesStore').getSelectedBucketOwnerID(),aa=c('FBStoriesStore').getCurrentThreadMediaTypeForSelectedBucket(),ba=c('FBStoriesStore').getCurrentThreadMediaIDForSelectedBucket(),ca=c('FBStoriesStore').getCurrentThreadMediaViewerCountForSelectedBucket(),da=c('FBStoriesStore').getCurrentThreadIDForSelectedBucket(),ea=c('FBStoriesStore').getSelectedBucketId();new (c('CameraPostWWWTypedLogger'))().setCameraPostType(y).setStoryAction(x).setStoryOwnerFbid(z).setMediaType(aa).setMediaID(ba).setViewers(ca).setThreadID(da).setStoryID(ea).log();};w.prototype.$FBStoryContainer16=function(){this.$FBStoryContainer15('openMedia');};w.prototype.$FBStoryContainer17=function(){this.$FBStoryContainer15('deleteMedia');};w.prototype.$FBStoryContainer18=function(){this.$FBStoryContainer15('sendReply');};w.prototype.$FBStoryContainer19=function(){this.$FBStoryContainer15('openSeenSummary');};w.prototype.$FBStoryContainer13=function(x,y){var z,aa=this.state,ba=(z=y)!=null?(z=z.currentThreadData)!=null?z.cameraPostType:z:z;if(y===this.state){aa={};this.$FBStoryContainer16();}if(y.currentThreadID!==this.state.currentThreadID)this.$FBStoryContainer16();if(aa.bucketID!==y.bucketID)new (c('CameraPostWWWTypedLogger'))().setCameraPostType(ba).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').BUCKET_CHANGED).setEventDetails(y.bucketID).setViewerID(y.userInfo.userID).setThreadID(y.currentThreadID).log();if(aa.isPaused!==y.isPaused)new (c('CameraPostWWWTypedLogger'))().setCameraPostType(ba).setWebSurface('www').setEventType(y.isPaused?c('CameraPostLoggingEvents').PAUSE_TOGGLE_ON:c('CameraPostLoggingEvents').PAUSE_TOGGLE_OFF).setEventDetails(y.bucketID).setViewerID(y.userInfo.userID).setThreadID(y.currentThreadID).log();};w.prototype.render=function(){var x="_4tkv"+(' '+"_24o3"),y=this.state.userInfo,z=y.userID,aa=y.userName,ba=y.userProfilePic,ca=this.state.currentThreadData;if(!ca)return c('React').createElement('div',{role:'tabpanel',tabIndex:-1,ref:this.$FBStoryContainer20,className:x});var da=ca.media,ea=ca.time,fa=ca.threadID,ga=ca.participants,ha=ca.bucketOwner,ia=ca.cameraPostType,ja=da.__typename,ka=this.$FBStoryContainer21(ja),la=void 0;if(!this.state.isBucketLive)la=c('React').createElement('span',null,c('React').createElement(c('SegmentedProgressBar.react'),{paused:this.state.isPaused,segmentCount:this.state.threadsCount,currentSegmentIndex:this.state.currentThreadIndex,currentSegmentPercentComplete:this.state.currentThreadPercentDone}),c('React').createElement(c('CameraPostReportButton.react'),{threadID:fa,contentReportFbt:ka,onPopoverShow:this.$FBStoryContainer22,onPopoverHide:this.$FBStoryContainer23,onPopoverItemClick:this.$FBStoryContainer24},this.state.isOwnBucket?c('React').createElement(m,{onClick:this.$FBStoryContainer25,key:'delete_own_thread'},c('React').createElement(c('Image.react'),{src:h("114073")}),this.$FBStoryContainer26(ja)):null));return c('React').createElement('div',{role:'tabpanel',tabIndex:-1,ref:this.$FBStoryContainer20,className:x,onMouseOut:this.$FBStoryContainer27,onMouseMove:this.$FBStoryContainer28},c('React').createElement('div',{className:"_24o4",key:fa},c('React').createElement(c('CameraPostMedia.react'),{media:da,loop:false,paused:this.state.isPaused,onTimeUpdate:this.$FBStoryContainer29,onMouseDown:this.$FBStoryContainer30,onMouseUp:this.$FBStoryContainer31,onDone:this.$FBStoryContainer32,onMuteMouseUp:this.props.onClickMute,isMediaMuted:this.props.isStoryMuted,cameraPostType:ia,userID:z,threadID:fa,showPausedOverlay:this.state.showPausedOverlay,showMuteButton:this.state.showStoryUI},c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:v,transitionEnterTimeout:s,transitionLeaveTimeout:t},this.state.isOwnBucket&&this.state.showStoryUI&&c('React').createElement(c('FBStoriesViewers.react'),{hasNewViewers:this.state.hasNewViewers,viewers:this.state.threadViewers,onToggle:this.$FBStoryContainer33,followersSeenCount:this.state.followersSeenCount}))),c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:v,transitionEnterTimeout:s,transitionLeaveTimeout:t},this.state.showStoryUI&&!this.state.isBucketLive&&c('React').createElement(c('CameraPostOwnerView.react'),{cameraPostType:ia,participants:ga,owner:ha,time:ea}),this.state.showStoryUI&&!this.state.showPausedOverlay&&this.$FBStoryContainer34(o.PREV),this.state.showStoryUI&&!this.state.showPausedOverlay&&this.$FBStoryContainer34(o.NEXT)),c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:n,transitionEnterTimeout:r,transitionLeaveTimeout:r},this.state.isShowingSendingToast&&c('React').createElement(c('CameraPostSendingToast.react'),null))),c('React').createElement(c('ReactCSSTransitionGroup'),{transitionName:v,transitionEnterTimeout:s,transitionLeaveTimeout:t},c('React').createElement('div',{key:fa},this.state.showStoryUI&&la,!this.state.shouldDisableReply?c('React').createElement(c('CameraPostSendReply.react'),{cameraPostType:ia,replyProfileName:aa,replyProfilePic:ba,userID:z,threadID:fa,focused:this.state.isReplyFocused,onReplyEntered:this.$FBStoryContainer35,onFocusInput:this.$FBStoryContainer36}):null)));};w.prototype.$FBStoryContainer34=function(x){var y=this.state.allowedNavType==='PREV_ONLY'&&x===o.NEXT,z=this.state.allowedNavType==='NEXT_ONLY'&&x===o.PREV;if(z||y)return null;var aa=function(ca){ca.preventDefault();ca.stopPropagation();x===o.NEXT?this.$FBStoryContainer1():this.$FBStoryContainer38();}.bind(this),ba=function(ca){ca.stopPropagation();this.setState({navDirectionOnClick:x});}.bind(this);return c('React').createElement('button',{className:"_24o5"+(x===o.NEXT?' '+"_24o8":'')+(x===o.PREV?' '+"_24o7":'')+(this.state.navDirectionOnClick===x?' '+"_24o6":''),onClick:aa,onMouseMove:ba});};w.prototype.$FBStoryContainer39=function(){this.$FBStoryContainer40(q);};w.prototype.$FBStoryContainer1=function(){if(this.state.allowedNavType!=='PREV_ONLY'){c('FBStoriesActions').nextThread();}else this.props.onDone();};w.prototype.$FBStoryContainer38=function(){if(this.state.allowedNavType!=='NEXT_ONLY')c('FBStoriesActions').prevThread();};w.prototype.$FBStoryContainer29=function(x){c('FBStoriesActions').updateCurrentThreadPercentDone(x);};w.prototype.$FBStoryContainer11=function(event){if(event.getModifiers().any||this.state.isReplyFocused||event.target!==this.$FBStoryContainer3)return true;var x=c('Event').getKeyCode(event);switch(x){case c('Keys').LEFT:this.$FBStoryContainer38();return false;case c('Keys').RIGHT:this.$FBStoryContainer1();return false;default:var y=String.fromCharCode(x);if(y.match(/\w/))this.setState({isReplyFocused:true});}return null;};w.prototype.$FBStoryContainer12=function(event){if(event.getModifiers().any||this.state.isReplyFocused||event.target!==this.$FBStoryContainer3)return true;var x=c('Event').getKeyCode(event);switch(x){case c('Keys').SPACE:if(this.$FBStoryContainer7||this.$FBStoryContainer8)return false;this.$FBStoryContainer37(!this.state.isPaused,false,!this.state.isPaused);return false;default:return null;}};w.prototype.$FBStoryContainer37=function(x,y,z){this.setState({isPaused:x,showPausedOverlay:z});if(y){if(this.$FBStoryContainer2)return;this.$FBStoryContainer2=setTimeout(function(){this.$FBStoryContainer2=undefined;this.setState({showStoryUI:false});}.bind(this),u);}else{if(this.$FBStoryContainer2){clearTimeout(this.$FBStoryContainer2);this.$FBStoryContainer2=undefined;}this.setState({showStoryUI:true});}};w.prototype.$FBStoryContainer21=function(x){x=x||'';if(this.state.isOwnBucket)return null;x=x||'';switch(x.toUpperCase()){case 'PHOTO':return j._("Denunciar Foto");case 'VIDEO':return j._("Denunciar V\u00eddeo");default:return j._("Denunciar");}};w.prototype.$FBStoryContainer26=function(x){x=x||'';if(!this.state.isOwnBucket)return null;switch(x.toUpperCase()){case 'PHOTO':return j._("Eliminar Foto");case 'VIDEO':return j._("Eliminar V\u00eddeo");default:return j._("Eliminar");}};w.prototype.$FBStoryContainer10=function(x){return babelHelpers['extends']({},x,{isPaused:false,isReplyFocused:false,navDirectionOnClick:o.NEXT,isShowingSendingToast:false,showPausedOverlay:false,showStoryUI:true,shouldHideReportMenu:false});};w.prototype.componentWillUnmount=function(){this.$FBStoryContainer37(false,false,false);if(this.$FBStoryContainer4)this.$FBStoryContainer4.cancel();if(this.$FBStoryContainer5)this.$FBStoryContainer5.cancel();this.$FBStoryContainer40.cancel();this.$FBStoryContainer41.cancel();};f.exports=c('FluxContainer').create(w);}),null);
__d('SpotlightViewerClose',['cx','fbt','React','TooltipLink.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=this.props.position=='left'?"_5wx3":"_5wx4",o=c('React').createElement('span',null,i._("Prime a tecla Esc para fechares"));return c('React').createElement(c('TooltipLink.react'),{className:c('joinClasses')("_4-o9 _50-m _51an",n,this.props.isFixed?"_2chv":''),onClick:this.props.onClick,tooltip:o});};function m(){'use strict';j.apply(this,arguments);}m.propTypes={position:l.oneOf(['left','right']),isFixed:l.bool};m.defaultProps={position:'right',isFixed:false};f.exports=m;}),null);
__d('FBStoriesTrayContainer.react',['ix','cx','fbt','React','FBStoriesTray.react','FBStoryContainer.react','FBStoriesStore','FluxContainer','FBStoriesActions','SpotlightViewer','SpotlightViewerClose','CameraPostWWWTypedLogger','CameraPostLoggingEvents','Image.react','Tooltip.react','idx','fbglyph','CurrentUser','range'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').PureComponent);l=k&&k.prototype;function m(p){l.constructor.call(this,p);this.$FBStoriesTrayContainer2=function(q){new (c('CameraPostWWWTypedLogger'))().setCameraPostType(c('FBStoriesStore').getCameraPostTypeForBucketId(q)).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').BUCKET_SELECTED_FROM_TRAY).setEventDetails(q).setViewerID(c('CurrentUser').getID()).setThreadID(this.state.currentThreadID).log();c('FBStoriesActions').userSelectedBucket(q);this.setState({isViewerOpen:true});var r=c('FBStoriesStore').getSelectedBucketOwner(),s=c('FBStoriesStore').getThreadsForSelectedBucket(),t=c('FBStoriesStore').getSelectedBucketCameraPostType(),u=r.id,v=c('FBStoriesStore').isOwnBucket()?'self':'friend',w=s.length,x=c('FBStoriesStore').getSelectedBucketUnseenCount()>0;new (c('CameraPostWWWTypedLogger'))().setCameraPostType(t).setStoryAction('openStory').setStoryOwnerFbid(u).setStoryOwnerType(v).setStorySize(w).setHasNewContent(x).setStoryID(q).log();}.bind(this);this.$FBStoriesTrayContainer4=function(){this.setState({isStoryMuted:!this.state.isStoryMuted});}.bind(this);this.$FBStoriesTrayContainer3=function(){var q=c('FBStoriesStore').getSelectedBucketCameraPostType();new (c('CameraPostWWWTypedLogger'))().setCameraPostType(q).setWebSurface('www').setEventType(c('CameraPostLoggingEvents').STORIES_VIEWER_CLICKOUT).setEventDetails(0).setViewerID(c('CurrentUser').getID()).setThreadID(this.state.currentThreadID).log();var r=c('FBStoriesStore').getSelectedBucketOwner(),s=c('FBStoriesStore').getThreadsForSelectedBucket(),t=r.id,u=c('FBStoriesStore').isOwnBucket()?'self':'friend',v=s.length,w=c('FBStoriesStore').getSelectedBucketUnseenCount()>0,x=c('FBStoriesStore').getSelectedBucketId();new (c('CameraPostWWWTypedLogger'))().setCameraPostType(q).setStoryAction('closeStory').setStoryOwnerFbid(t).setStoryOwnerType(u).setStorySize(v).setHasNewContent(w).setStoryID(x).log();if(this.state.isOwnBucket&&this.state.currentThreadID)c('FBStoriesActions').markThreadViewersSeen(this.state.currentThreadID);this.setState({isViewerOpen:false,isStoryMuted:false});}.bind(this);this.state={friendsData:[],userData:{},userBucketHasNewViewers:false,userBucketHasThreads:false,loading:true,currentThreadID:null,isViewerOpen:false,isStoryMuted:false};}m.getStores=function(){return [c('FBStoriesStore')];};m.calculateState=function(p){return {userData:c('FBStoriesStore').getUserBucketData(),userBucketHasNewViewers:c('FBStoriesStore').hasOwnBucketViewers(),userBucketHasThreads:c('FBStoriesStore').hasOwnBucketThreads(),friendsData:c('FBStoriesStore').getFriendsBucketData(),loading:c('FBStoriesStore').isLoading(),currentThreadID:c('FBStoriesStore').getCurrentThreadIDForSelectedBucket(),isOwnBucket:c('FBStoriesStore').isOwnBucket()};};m.prototype.render=function(){if(this.state.loading)return c('React').createElement('div',{className:"_60kg"},c('React').createElement(n,null),c('React').createElement(o,null));if(this.$FBStoriesTrayContainer1())c('React').createElement('div',{className:"_60kg"});return c('React').createElement('div',{className:"_60kg"},c('React').createElement(n,null),c('React').createElement(c('FBStoriesTray.react'),{friendsData:this.state.friendsData,userData:this.state.userData,userBucketHasThreads:this.state.userBucketHasThreads,userBucketHasNewViewers:this.state.userBucketHasNewViewers,loading:this.state.loading,onItemClick:this.$FBStoriesTrayContainer2}),c('React').createElement(c('SpotlightViewer'),{open:this.state.isViewerOpen,onHide:this.$FBStoriesTrayContainer3},c('React').createElement(c('SpotlightViewerClose'),{isFixed:true,position:'right',onClick:this.$FBStoriesTrayContainer3}),c('React').createElement(c('FBStoryContainer.react'),{onDone:this.$FBStoriesTrayContainer3,isStoryMuted:this.state.isStoryMuted,onClickMute:this.$FBStoriesTrayContainer4})));};m.prototype.$FBStoriesTrayContainer1=function(){var p,q=this.state,r=q.friendsData,s=q.userData,t=q.loading,u=((p=s)!=null?(p=p.threads)!=null?p.nodes:p:p)||[],v=!s||u.length==0,w=!r||r.length==0,x=v&&w;return !t&&x;};var n=function p(){return c('React').createElement('div',{className:"_2mro"},c('React').createElement('span',{className:"_2ms2"},j._("Hist\u00f3rias")),c('React').createElement(c('Tooltip.react'),{tooltip:j._("As hist\u00f3rias s\u00e3o fotos e v\u00eddeos que s\u00e3o vis\u00edveis durante 24 horas. Quando um amigo partilha qualquer coisa na sua hist\u00f3ria, vai aparecer aqui.")},c('React').createElement(c('Image.react'),{className:"_2ms3",src:h("126682")})));},o=function p(){var q=function r(s){return c('React').createElement('div',{className:"_h0-",key:s},c('React').createElement('div',{className:"_2ms4"},c('React').createElement('div',{className:"_2ms5"})),c('React').createElement('div',{className:"_2ms6"}),c('React').createElement('div',{className:"_2ms8"}));};return c('React').createElement('div',{className:"_h1i"},c('React').createElement('div',{className:"_h1m"},c('range')(0,10).map(q)));};f.exports=c('FluxContainer').create(m);}),null);